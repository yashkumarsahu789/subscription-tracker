(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function r(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Pg={exports:{}},Du={};var Tb;function Ix(){if(Tb)return Du;Tb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(r,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var m in a)m!=="key"&&(l[m]=a[m])}else l=a;return a=l.ref,{$$typeof:i,type:r,key:c,ref:a!==void 0?a:null,props:l}}return Du.Fragment=e,Du.jsx=t,Du.jsxs=t,Du}var Eb;function xx(){return Eb||(Eb=1,Pg.exports=Ix()),Pg.exports}var w=xx(),Lg={exports:{}},Oe={};var wb;function Rx(){if(wb)return Oe;wb=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),I=Symbol.iterator;function U(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,te={};function ue(D,$,re){this.props=D,this.context=$,this.refs=te,this.updater=re||Q}ue.prototype.isReactComponent={},ue.prototype.setState=function(D,$){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,$,"setState")},ue.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function fe(){}fe.prototype=ue.prototype;function ae(D,$,re){this.props=D,this.context=$,this.refs=te,this.updater=re||Q}var Ee=ae.prototype=new fe;Ee.constructor=ae,ee(Ee,ue.prototype),Ee.isPureReactComponent=!0;var be=Array.isArray;function _e(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(D,$,re){var oe=re.ref;return{$$typeof:i,type:D,key:$,ref:oe!==void 0?oe:null,props:re}}function V(D,$){return R(D.type,$,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===i}function k(D){var $={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(re){return $[re]})}var C=/\/+/g;function le(D,$){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):$.toString(36)}function ne(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(_e,_e):(D.status="pending",D.then(function($){D.status==="pending"&&(D.status="fulfilled",D.value=$)},function($){D.status==="pending"&&(D.status="rejected",D.reason=$)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function L(D,$,re,oe,Ae){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var Se=!1;if(D===null)Se=!0;else switch(De){case"bigint":case"string":case"number":Se=!0;break;case"object":switch(D.$$typeof){case i:case e:Se=!0;break;case b:return Se=D._init,L(Se(D._payload),$,re,oe,Ae)}}if(Se)return Ae=Ae(D),Se=oe===""?"."+le(D,0):oe,be(Ae)?(re="",Se!=null&&(re=Se.replace(C,"$&/")+"/"),L(Ae,$,re,"",function(Un){return Un})):Ae!=null&&(O(Ae)&&(Ae=V(Ae,re+(Ae.key==null||D&&D.key===Ae.key?"":(""+Ae.key).replace(C,"$&/")+"/")+Se)),$.push(Ae)),1;Se=0;var vt=oe===""?".":oe+":";if(be(D))for(var Je=0;Je<D.length;Je++)oe=D[Je],De=vt+le(oe,Je),Se+=L(oe,$,re,De,Ae);else if(Je=U(D),typeof Je=="function")for(D=Je.call(D),Je=0;!(oe=D.next()).done;)oe=oe.value,De=vt+le(oe,Je++),Se+=L(oe,$,re,De,Ae);else if(De==="object"){if(typeof D.then=="function")return L(ne(D),$,re,oe,Ae);throw $=String(D),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Se}function W(D,$,re){if(D==null)return D;var oe=[],Ae=0;return L(D,oe,"","",function(De){return $.call(re,De,Ae++)}),oe}function K(D){if(D._status===-1){var $=D._result;$=$(),$.then(function(re){(D._status===0||D._status===-1)&&(D._status=1,D._result=re)},function(re){(D._status===0||D._status===-1)&&(D._status=2,D._result=re)}),D._status===-1&&(D._status=0,D._result=$)}if(D._status===1)return D._result.default;throw D._result}var xe=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Me={map:W,forEach:function(D,$,re){W(D,function(){$.apply(this,arguments)},re)},count:function(D){var $=0;return W(D,function(){$++}),$},toArray:function(D){return W(D,function($){return $})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Oe.Activity=T,Oe.Children=Me,Oe.Component=ue,Oe.Fragment=t,Oe.Profiler=a,Oe.PureComponent=ae,Oe.StrictMode=r,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return x.H.useMemoCache(D)}},Oe.cache=function(D){return function(){return D.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(D,$,re){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var oe=ee({},D.props),Ae=D.key;if($!=null)for(De in $.key!==void 0&&(Ae=""+$.key),$)!A.call($,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&$.ref===void 0||(oe[De]=$[De]);var De=arguments.length-2;if(De===1)oe.children=re;else if(1<De){for(var Se=Array(De),vt=0;vt<De;vt++)Se[vt]=arguments[vt+2];oe.children=Se}return R(D.type,Ae,oe)},Oe.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Oe.createElement=function(D,$,re){var oe,Ae={},De=null;if($!=null)for(oe in $.key!==void 0&&(De=""+$.key),$)A.call($,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Ae[oe]=$[oe]);var Se=arguments.length-2;if(Se===1)Ae.children=re;else if(1<Se){for(var vt=Array(Se),Je=0;Je<Se;Je++)vt[Je]=arguments[Je+2];Ae.children=vt}if(D&&D.defaultProps)for(oe in Se=D.defaultProps,Se)Ae[oe]===void 0&&(Ae[oe]=Se[oe]);return R(D,De,Ae)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(D){return{$$typeof:m,render:D}},Oe.isValidElement=O,Oe.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:K}},Oe.memo=function(D,$){return{$$typeof:p,type:D,compare:$===void 0?null:$}},Oe.startTransition=function(D){var $=x.T,re={};x.T=re;try{var oe=D(),Ae=x.S;Ae!==null&&Ae(re,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(_e,xe)}catch(De){xe(De)}finally{$!==null&&re.types!==null&&($.types=re.types),x.T=$}},Oe.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Oe.use=function(D){return x.H.use(D)},Oe.useActionState=function(D,$,re){return x.H.useActionState(D,$,re)},Oe.useCallback=function(D,$){return x.H.useCallback(D,$)},Oe.useContext=function(D){return x.H.useContext(D)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(D,$){return x.H.useDeferredValue(D,$)},Oe.useEffect=function(D,$){return x.H.useEffect(D,$)},Oe.useEffectEvent=function(D){return x.H.useEffectEvent(D)},Oe.useId=function(){return x.H.useId()},Oe.useImperativeHandle=function(D,$,re){return x.H.useImperativeHandle(D,$,re)},Oe.useInsertionEffect=function(D,$){return x.H.useInsertionEffect(D,$)},Oe.useLayoutEffect=function(D,$){return x.H.useLayoutEffect(D,$)},Oe.useMemo=function(D,$){return x.H.useMemo(D,$)},Oe.useOptimistic=function(D,$){return x.H.useOptimistic(D,$)},Oe.useReducer=function(D,$,re){return x.H.useReducer(D,$,re)},Oe.useRef=function(D){return x.H.useRef(D)},Oe.useState=function(D){return x.H.useState(D)},Oe.useSyncExternalStore=function(D,$,re){return x.H.useSyncExternalStore(D,$,re)},Oe.useTransition=function(){return x.H.useTransition()},Oe.version="19.2.3",Oe}var Sb;function Kp(){return Sb||(Sb=1,Lg.exports=Rx()),Lg.exports}var Ve=Kp(),Ug={exports:{}},Ou={},jg={exports:{}},zg={};var Ab;function Cx(){return Ab||(Ab=1,(function(i){function e(L,W){var K=L.length;L.push(W);e:for(;0<K;){var xe=K-1>>>1,Me=L[xe];if(0<a(Me,W))L[xe]=W,L[K]=Me,K=xe;else break e}}function t(L){return L.length===0?null:L[0]}function r(L){if(L.length===0)return null;var W=L[0],K=L.pop();if(K!==W){L[0]=K;e:for(var xe=0,Me=L.length,D=Me>>>1;xe<D;){var $=2*(xe+1)-1,re=L[$],oe=$+1,Ae=L[oe];if(0>a(re,K))oe<Me&&0>a(Ae,re)?(L[xe]=Ae,L[oe]=K,xe=oe):(L[xe]=re,L[$]=K,xe=$);else if(oe<Me&&0>a(Ae,K))L[xe]=Ae,L[oe]=K,xe=oe;else break e}}return W}function a(L,W){var K=L.sortIndex-W.sortIndex;return K!==0?K:L.id-W.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;i.unstable_now=function(){return l.now()}}else{var c=Date,m=c.now();i.unstable_now=function(){return c.now()-m}}var g=[],p=[],b=1,T=null,I=3,U=!1,Q=!1,ee=!1,te=!1,ue=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function Ee(L){for(var W=t(p);W!==null;){if(W.callback===null)r(p);else if(W.startTime<=L)r(p),W.sortIndex=W.expirationTime,e(g,W);else break;W=t(p)}}function be(L){if(ee=!1,Ee(L),!Q)if(t(g)!==null)Q=!0,_e||(_e=!0,k());else{var W=t(p);W!==null&&ne(be,W.startTime-L)}}var _e=!1,x=-1,A=5,R=-1;function V(){return te?!0:!(i.unstable_now()-R<A)}function O(){if(te=!1,_e){var L=i.unstable_now();R=L;var W=!0;try{e:{Q=!1,ee&&(ee=!1,fe(x),x=-1),U=!0;var K=I;try{t:{for(Ee(L),T=t(g);T!==null&&!(T.expirationTime>L&&V());){var xe=T.callback;if(typeof xe=="function"){T.callback=null,I=T.priorityLevel;var Me=xe(T.expirationTime<=L);if(L=i.unstable_now(),typeof Me=="function"){T.callback=Me,Ee(L),W=!0;break t}T===t(g)&&r(g),Ee(L)}else r(g);T=t(g)}if(T!==null)W=!0;else{var D=t(p);D!==null&&ne(be,D.startTime-L),W=!1}}break e}finally{T=null,I=K,U=!1}W=void 0}}finally{W?k():_e=!1}}}var k;if(typeof ae=="function")k=function(){ae(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,le=C.port2;C.port1.onmessage=O,k=function(){le.postMessage(null)}}else k=function(){ue(O,0)};function ne(L,W){x=ue(function(){L(i.unstable_now())},W)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(L){L.callback=null},i.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_next=function(L){switch(I){case 1:case 2:case 3:var W=3;break;default:W=I}var K=I;I=W;try{return L()}finally{I=K}},i.unstable_requestPaint=function(){te=!0},i.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=I;I=L;try{return W()}finally{I=K}},i.unstable_scheduleCallback=function(L,W,K){var xe=i.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?xe+K:xe):K=xe,L){case 1:var Me=-1;break;case 2:Me=250;break;case 5:Me=1073741823;break;case 4:Me=1e4;break;default:Me=5e3}return Me=K+Me,L={id:b++,callback:W,priorityLevel:L,startTime:K,expirationTime:Me,sortIndex:-1},K>xe?(L.sortIndex=K,e(p,L),t(g)===null&&L===t(p)&&(ee?(fe(x),x=-1):ee=!0,ne(be,K-xe))):(L.sortIndex=Me,e(g,L),Q||U||(Q=!0,_e||(_e=!0,k()))),L},i.unstable_shouldYield=V,i.unstable_wrapCallback=function(L){var W=I;return function(){var K=I;I=W;try{return L.apply(this,arguments)}finally{I=K}}}})(zg)),zg}var Ib;function Nx(){return Ib||(Ib=1,jg.exports=Cx()),jg.exports}var Bg={exports:{}},rn={};var xb;function Dx(){if(xb)return rn;xb=1;var i=Kp();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var r={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,p,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:g,containerInfo:p,implementation:b}}var c=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,rn.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,b)},rn.flushSync=function(g){var p=c.T,b=r.p;try{if(c.T=null,r.p=2,g)return g()}finally{c.T=p,r.p=b,r.d.f()}},rn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,r.d.C(g,p))},rn.prefetchDNS=function(g){typeof g=="string"&&r.d.D(g)},rn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,T=m(b,p.crossOrigin),I=typeof p.integrity=="string"?p.integrity:void 0,U=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?r.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:I,fetchPriority:U}):b==="script"&&r.d.X(g,{crossOrigin:T,integrity:I,fetchPriority:U,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},rn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=m(p.as,p.crossOrigin);r.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&r.d.M(g)},rn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,T=m(b,p.crossOrigin);r.d.L(g,b,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},rn.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=m(p.as,p.crossOrigin);r.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else r.d.m(g)},rn.requestFormReset=function(g){r.d.r(g)},rn.unstable_batchedUpdates=function(g,p){return g(p)},rn.useFormState=function(g,p,b){return c.H.useFormState(g,p,b)},rn.useFormStatus=function(){return c.H.useHostTransitionStatus()},rn.version="19.2.3",rn}var Rb;function Ox(){if(Rb)return Bg.exports;Rb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Bg.exports=Dx(),Bg.exports}var Cb;function Mx(){if(Cb)return Ou;Cb=1;var i=Nx(),e=Kp(),t=Ox();function r(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function m(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function g(n){if(l(n)!==n)throw Error(r(188))}function p(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(r(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var d=f.alternate;if(d===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===o)return g(f),n;if(d===u)return g(f),s;d=d.sibling}throw Error(r(188))}if(o.return!==u.return)o=f,u=d;else{for(var _=!1,E=f.child;E;){if(E===o){_=!0,o=f,u=d;break}if(E===u){_=!0,u=f,o=d;break}E=E.sibling}if(!_){for(E=d.child;E;){if(E===o){_=!0,o=d,u=f;break}if(E===u){_=!0,u=d,o=f;break}E=E.sibling}if(!_)throw Error(r(189))}}if(o.alternate!==u)throw Error(r(190))}if(o.tag!==3)throw Error(r(188));return o.stateNode.current===o?n:s}function b(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=b(n),s!==null)return s;n=n.sibling}return null}var T=Object.assign,I=Symbol.for("react.element"),U=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ue=Symbol.for("react.profiler"),fe=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),Ee=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),_e=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),V=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function le(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ee:return"Fragment";case ue:return"Profiler";case te:return"StrictMode";case be:return"Suspense";case _e:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Q:return"Portal";case ae:return n.displayName||"Context";case fe:return(n._context.displayName||"Context")+".Consumer";case Ee:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return s=n.displayName||null,s!==null?s:le(n.type)||"Memo";case A:s=n._payload,n=n._init;try{return le(n(s))}catch{}}return null}var ne=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},xe=[],Me=-1;function D(n){return{current:n}}function $(n){0>Me||(n.current=xe[Me],xe[Me]=null,Me--)}function re(n,s){Me++,xe[Me]=n.current,n.current=s}var oe=D(null),Ae=D(null),De=D(null),Se=D(null);function vt(n,s){switch(re(De,s),re(Ae,n),re(oe,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?H0(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=H0(s),n=G0(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}$(oe),re(oe,n)}function Je(){$(oe),$(Ae),$(De)}function Un(n){n.memoizedState!==null&&re(Se,n);var s=oe.current,o=G0(s,n.type);s!==o&&(re(Ae,n),re(oe,o))}function wi(n){Ae.current===n&&($(oe),$(Ae)),Se.current===n&&($(Se),xu._currentValue=K)}var ii,Xa;function Si(n){if(ii===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ii=s&&s[1]||"",Xa=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ii+n+Xa}var xl=!1;function Us(n,s){if(!n||xl)return"";xl=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var q=G}Reflect.construct(n,[],J)}else{try{J.call()}catch(G){q=G}n.call(J.prototype)}}else{try{throw Error()}catch(G){q=G}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=u.DetermineComponentFrameRoot(),_=d[0],E=d[1];if(_&&E){var N=_.split(`
`),F=E.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===F.length)for(u=N.length-1,f=F.length-1;1<=u&&0<=f&&N[u]!==F[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==F[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==F[f]){var Y=`
`+N[u].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=u&&0<=f);break}}}finally{xl=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Si(o):""}function Rl(n,s){switch(n.tag){case 26:case 27:case 5:return Si(n.type);case 16:return Si("Lazy");case 13:return n.child!==s&&s!==null?Si("Suspense Fallback"):Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return Us(n.type,!1);case 11:return Us(n.type.render,!1);case 1:return Us(n.type,!0);case 31:return Si("Activity");default:return""}}function Cl(n){try{var s="",o=null;do s+=Rl(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var xt=Object.prototype.hasOwnProperty,jt=i.unstable_scheduleCallback,Vr=i.unstable_cancelCallback,Ud=i.unstable_shouldYield,Mc=i.unstable_requestPaint,un=i.unstable_now,js=i.unstable_getCurrentPriorityLevel,Nl=i.unstable_ImmediatePriority,Dl=i.unstable_UserBlockingPriority,kr=i.unstable_NormalPriority,jd=i.unstable_LowPriority,Vc=i.unstable_IdlePriority,kc=i.log,Pc=i.unstable_setDisableYieldValue,ri=null,Xt=null;function jn(n){if(typeof kc=="function"&&Pc(n),Xt&&typeof Xt.setStrictMode=="function")try{Xt.setStrictMode(ri,n)}catch{}}var wt=Math.clz32?Math.clz32:Uc,Lc=Math.log,$a=Math.LN2;function Uc(n){return n>>>=0,n===0?32:31-(Lc(n)/$a|0)|0}var Ai=256,zs=262144,Rt=4194304;function Ii(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xi(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,d=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var E=u&134217727;return E!==0?(u=E&~d,u!==0?f=Ii(u):(_&=E,_!==0?f=Ii(_):o||(o=E&~n,o!==0&&(f=Ii(o))))):(E=u&~d,E!==0?f=Ii(E):_!==0?f=Ii(_):o||(o=u&~n,o!==0&&(f=Ii(o)))),f===0?0:s!==0&&s!==f&&(s&d)===0&&(d=f&-f,o=s&-s,d>=o||d===32&&(o&4194048)!==0)?s:f}function si(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function zd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jc(){var n=Rt;return Rt<<=1,(Rt&62914560)===0&&(Rt=4194304),n}function Ri(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function Bs(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Bd(n,s,o,u,f,d){var _=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var E=n.entanglements,N=n.expirationTimes,F=n.hiddenUpdates;for(o=_&~o;0<o;){var Y=31-wt(o),J=1<<Y;E[Y]=0,N[Y]=-1;var q=F[Y];if(q!==null)for(F[Y]=null,Y=0;Y<q.length;Y++){var G=q[Y];G!==null&&(G.lane&=-536870913)}o&=~J}u!==0&&Fs(n,u,0),d!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=d&~(_&~s))}function Fs(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-wt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function Ol(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-wt(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function Ml(n,s){var o=s&-s;return o=(o&42)!==0?1:qs(o),(o&(n.suspendedLanes|s))!==0?0:o}function qs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function tr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function zc(){var n=W.p;return n!==0?n:(n=window.event,n===void 0?32:mb(n.type))}function ai(n,s){var o=W.p;try{return W.p=n,s()}finally{W.p=o}}var oi=Math.random().toString(36).slice(2),Ct="__reactFiber$"+oi,Gt="__reactProps$"+oi,Ci="__reactContainer$"+oi,Wa="__reactEvents$"+oi,Fd="__reactListeners$"+oi,Bc="__reactHandles$"+oi,Fc="__reactResources$"+oi,Ni="__reactMarker$"+oi;function Ja(n){delete n[Ct],delete n[Gt],delete n[Wa],delete n[Fd],delete n[Bc]}function Di(n){var s=n[Ct];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Ci]||o[Ct]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=J0(n);n!==null;){if(o=n[Ct])return o;n=J0(n)}return s}n=o,o=n.parentNode}return null}function zn(n){if(n=n[Ct]||n[Ci]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function wn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(r(33))}function Oi(n){var s=n[Fc];return s||(s=n[Fc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Nt(n){n[Ni]=!0}var Vl=new Set,kl={};function Mi(n,s){Vi(n,s),Vi(n+"Capture",s)}function Vi(n,s){for(kl[n]=s,n=0;n<s.length;n++)Vl.add(s[n])}var Pl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ll={},Ul={};function qc(n){return xt.call(Ul,n)?!0:xt.call(Ll,n)?!1:Pl.test(n)?Ul[n]=!0:(Ll[n]=!0,!1)}function Za(n,s,o){if(qc(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function Sn(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Dt(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function Kt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Pr(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function jl(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,d=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,d.call(this,_)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ze(n){if(!n._valueTracker){var s=Pr(n)?"checked":"value";n._valueTracker=jl(n,s,""+n[s])}}function Hs(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Pr(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function ki(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Gs=/[\n"\\]/g;function gn(n){return n.replace(Gs,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function eo(n,s,o,u,f,d,_,E){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Kt(s)):n.value!==""+Kt(s)&&(n.value=""+Kt(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?zl(n,_,Kt(s)):o!=null?zl(n,_,Kt(o)):u!=null&&n.removeAttribute("value"),f==null&&d!=null&&(n.defaultChecked=!!d),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+Kt(E):n.removeAttribute("name")}function Hc(n,s,o,u,f,d,_,E){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(n.type=d),s!=null||o!=null){if(!(d!=="submit"&&d!=="reset"||s!=null)){Ze(n);return}o=o!=null?""+Kt(o):"",s=s!=null?""+Kt(s):o,E||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=E?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Ze(n)}function zl(n,s,o){s==="number"&&ki(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Lr(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Kt(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Gc(n,s,o){if(s!=null&&(s=""+Kt(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Kt(o):""}function Ur(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(r(92));if(ne(u)){if(1<u.length)throw Error(r(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Kt(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Ze(n)}function pn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var Kc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bl(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||Kc.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function Fl(n,s,o){if(s!=null&&typeof s!="object")throw Error(r(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Bl(n,f,u)}else for(var d in s)s.hasOwnProperty(d)&&Bl(n,d,s[d])}function to(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Yc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function no(n){return jr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function li(){}var ql=null;function Bn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var zr=null,Pi=null;function Ks(n){var s=zn(n);if(s&&(n=s.stateNode)){var o=n[Gt]||null;e:switch(n=s.stateNode,s.type){case"input":if(eo(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[Gt]||null;if(!f)throw Error(r(90));eo(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Hs(u)}break e;case"textarea":Gc(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Lr(n,!!o.multiple,s,!1)}}}var io=!1;function Br(n,s,o){if(io)return n(s,o);io=!0;try{var u=n(s);return u}finally{if(io=!1,(zr!==null||Pi!==null)&&(zh(),zr&&(s=zr,n=Pi,Pi=zr=null,Ks(s),n)))for(s=0;s<n.length;s++)Ks(n[s])}}function ui(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Gt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(r(231,s,typeof o));return o}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ys=!1;if(Fn)try{var st={};Object.defineProperty(st,"passive",{get:function(){Ys=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{Ys=!1}var Li=null,Hl=null,Qs=null;function Gl(){if(Qs)return Qs;var n,s=Hl,o=s.length,u,f="value"in Li?Li.value:Li.textContent,d=f.length;for(n=0;n<o&&s[n]===f[n];n++);var _=o-n;for(u=1;u<=_&&s[o-u]===f[d-u];u++);return Qs=f.slice(n,1<u?1-u:void 0)}function Xs(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function nr(){return!0}function ci(){return!1}function $t(n){function s(o,u,f,d,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(o=n[E],this[E]=o?o(d):d[E]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?nr:ci,this.isPropagationStopped=ci,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),s}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=$t(ir),Fr=T({},ir,{view:0,detail:0}),Kl=$t(Fr),qr,ro,ji,so=T({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ji&&(ji&&n.type==="mousemove"?(qr=n.screenX-ji.screenX,ro=n.screenY-ji.screenY):ro=qr=0,ji=n),qr)},movementY:function(n){return"movementY"in n?n.movementY:ro}}),Yl=$t(so),$s=T({},so,{dataTransfer:0}),Qc=$t($s),Xc=T({},Fr,{relatedTarget:0}),Ws=$t(Xc),Ql=T({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),$c=$t(Ql),ao=T({},ir,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),Wc=$t(ao),Jc=T({},ir,{data:0}),zi=$t(Jc),Zc={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nh(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=th[n])?!!s[n]:!1}function Hr(){return nh}var cn=T({},Fr,{key:function(n){if(n.key){var s=Zc[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Xs(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?eh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(n){return n.type==="keypress"?Xs(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Xs(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),ih=$t(cn),rh=T({},so,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=$t(rh),h=T({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),y=$t(h),v=T({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=$t(v),z=T({},so,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),H=$t(z),se=T({},ir,{newState:0,oldState:0}),ke=$t(se),St=[9,13,27,32],$e=Fn&&"CompositionEvent"in window,mt=null;Fn&&"documentMode"in document&&(mt=document.documentMode);var qn=Fn&&"TextEvent"in window&&!mt,Bi=Fn&&(!$e||mt&&8<mt&&11>=mt),hi=" ",fi=!1;function Js(n,s){switch(n){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var lo=!1;function $A(n,s){switch(n){case"compositionend":return oo(s);case"keypress":return s.which!==32?null:(fi=!0,hi);case"textInput":return n=s.data,n===hi&&fi?null:n;default:return null}}function WA(n,s){if(lo)return n==="compositionend"||!$e&&Js(n,s)?(n=Gl(),Qs=Hl=Li=null,lo=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Bi&&s.locale!=="ko"?null:s.data;default:return null}}var JA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function t_(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!JA[n.type]:s==="textarea"}function n_(n,s,o,u){zr?Pi?Pi.push(u):Pi=[u]:zr=u,s=Yh(s,"onChange"),0<s.length&&(o=new Ui("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var Xl=null,$l=null;function ZA(n){U0(n,0)}function sh(n){var s=wn(n);if(Hs(s))return n}function i_(n,s){if(n==="change")return s}var r_=!1;if(Fn){var qd;if(Fn){var Hd="oninput"in document;if(!Hd){var s_=document.createElement("div");s_.setAttribute("oninput","return;"),Hd=typeof s_.oninput=="function"}qd=Hd}else qd=!1;r_=qd&&(!document.documentMode||9<document.documentMode)}function a_(){Xl&&(Xl.detachEvent("onpropertychange",o_),$l=Xl=null)}function o_(n){if(n.propertyName==="value"&&sh($l)){var s=[];n_(s,$l,n,Bn(n)),Br(ZA,s)}}function eI(n,s,o){n==="focusin"?(a_(),Xl=s,$l=o,Xl.attachEvent("onpropertychange",o_)):n==="focusout"&&a_()}function tI(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return sh($l)}function nI(n,s){if(n==="click")return sh(s)}function iI(n,s){if(n==="input"||n==="change")return sh(s)}function rI(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var An=typeof Object.is=="function"?Object.is:rI;function Wl(n,s){if(An(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!xt.call(s,f)||!An(n[f],s[f]))return!1}return!0}function l_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function u_(n,s){var o=l_(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=l_(o)}}function c_(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?c_(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function h_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=ki(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=ki(n.document)}return s}function Gd(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var sI=Fn&&"documentMode"in document&&11>=document.documentMode,uo=null,Kd=null,Jl=null,Yd=!1;function f_(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Yd||uo==null||uo!==ki(u)||(u=uo,"selectionStart"in u&&Gd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Jl&&Wl(Jl,u)||(Jl=u,u=Yh(Kd,"onSelect"),0<u.length&&(s=new Ui("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=uo)))}function Zs(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var co={animationend:Zs("Animation","AnimationEnd"),animationiteration:Zs("Animation","AnimationIteration"),animationstart:Zs("Animation","AnimationStart"),transitionrun:Zs("Transition","TransitionRun"),transitionstart:Zs("Transition","TransitionStart"),transitioncancel:Zs("Transition","TransitionCancel"),transitionend:Zs("Transition","TransitionEnd")},Qd={},d_={};Fn&&(d_=document.createElement("div").style,"AnimationEvent"in window||(delete co.animationend.animation,delete co.animationiteration.animation,delete co.animationstart.animation),"TransitionEvent"in window||delete co.transitionend.transition);function ea(n){if(Qd[n])return Qd[n];if(!co[n])return n;var s=co[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in d_)return Qd[n]=s[o];return n}var m_=ea("animationend"),g_=ea("animationiteration"),p_=ea("animationstart"),aI=ea("transitionrun"),oI=ea("transitionstart"),lI=ea("transitioncancel"),y_=ea("transitionend"),__=new Map,Xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Xd.push("scrollEnd");function di(n,s){__.set(n,s),Mi(s,[n])}var ah=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Hn=[],ho=0,$d=0;function oh(){for(var n=ho,s=$d=ho=0;s<n;){var o=Hn[s];Hn[s++]=null;var u=Hn[s];Hn[s++]=null;var f=Hn[s];Hn[s++]=null;var d=Hn[s];if(Hn[s++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}d!==0&&v_(o,f,d)}}function lh(n,s,o,u){Hn[ho++]=n,Hn[ho++]=s,Hn[ho++]=o,Hn[ho++]=u,$d|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function Wd(n,s,o,u){return lh(n,s,o,u),uh(n)}function ta(n,s){return lh(n,null,null,s),uh(n)}function v_(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,d=n.return;d!==null;)d.childLanes|=o,u=d.alternate,u!==null&&(u.childLanes|=o),d.tag===22&&(n=d.stateNode,n===null||n._visibility&1||(f=!0)),n=d,d=d.return;return n.tag===3?(d=n.stateNode,f&&s!==null&&(f=31-wt(o),n=d.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),d):null}function uh(n){if(50<bu)throw bu=0,ag=null,Error(r(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var fo={};function uI(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(n,s,o,u){return new uI(n,s,o,u)}function Jd(n){return n=n.prototype,!(!n||!n.isReactComponent)}function sr(n,s){var o=n.alternate;return o===null?(o=In(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function b_(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function ch(n,s,o,u,f,d){var _=0;if(u=n,typeof n=="function")Jd(n)&&(_=1);else if(typeof n=="string")_=mx(n,o,oe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=In(31,o,s,f),n.elementType=R,n.lanes=d,n;case ee:return na(o.children,f,d,s);case te:_=8,f|=24;break;case ue:return n=In(12,o,s,f|2),n.elementType=ue,n.lanes=d,n;case be:return n=In(13,o,s,f),n.elementType=be,n.lanes=d,n;case _e:return n=In(19,o,s,f),n.elementType=_e,n.lanes=d,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ae:_=10;break e;case fe:_=9;break e;case Ee:_=11;break e;case x:_=14;break e;case A:_=16,u=null;break e}_=29,o=Error(r(130,n===null?"null":typeof n,"")),u=null}return s=In(_,o,s,f),s.elementType=n,s.type=u,s.lanes=d,s}function na(n,s,o,u){return n=In(7,n,u,s),n.lanes=o,n}function Zd(n,s,o){return n=In(6,n,null,s),n.lanes=o,n}function T_(n){var s=In(18,null,null,0);return s.stateNode=n,s}function em(n,s,o){return s=In(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var E_=new WeakMap;function Gn(n,s){if(typeof n=="object"&&n!==null){var o=E_.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Cl(s)},E_.set(n,s),s)}return{value:n,source:s,stack:Cl(s)}}var mo=[],go=0,hh=null,Zl=0,Kn=[],Yn=0,Gr=null,Fi=1,qi="";function ar(n,s){mo[go++]=Zl,mo[go++]=hh,hh=n,Zl=s}function w_(n,s,o){Kn[Yn++]=Fi,Kn[Yn++]=qi,Kn[Yn++]=Gr,Gr=n;var u=Fi;n=qi;var f=32-wt(u)-1;u&=~(1<<f),o+=1;var d=32-wt(s)+f;if(30<d){var _=f-f%5;d=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Fi=1<<32-wt(s)+f|o<<f|u,qi=d+n}else Fi=1<<d|o<<f|u,qi=n}function tm(n){n.return!==null&&(ar(n,1),w_(n,1,0))}function nm(n){for(;n===hh;)hh=mo[--go],mo[go]=null,Zl=mo[--go],mo[go]=null;for(;n===Gr;)Gr=Kn[--Yn],Kn[Yn]=null,qi=Kn[--Yn],Kn[Yn]=null,Fi=Kn[--Yn],Kn[Yn]=null}function S_(n,s){Kn[Yn++]=Fi,Kn[Yn++]=qi,Kn[Yn++]=Gr,Fi=s.id,qi=s.overflow,Gr=n}var Wt=null,ft=null,Ge=!1,Kr=null,Qn=!1,im=Error(r(519));function Yr(n){var s=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw eu(Gn(s,n)),im}function A_(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Ct]=n,s[Gt]=u,o){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(o=0;o<Eu.length;o++)Be(Eu[o],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),Hc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),Ur(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||F0(s.textContent,o)?(u.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),u.onScroll!=null&&Be("scroll",s),u.onScrollEnd!=null&&Be("scrollend",s),u.onClick!=null&&(s.onclick=li),s=!0):s=!1,s||Yr(n,!0)}function I_(n){for(Wt=n.return;Wt;)switch(Wt.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Wt=Wt.return}}function po(n){if(n!==Wt)return!1;if(!Ge)return I_(n),Ge=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Tg(n.type,n.memoizedProps)),o=!o),o&&ft&&Yr(n),I_(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ft=W0(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(317));ft=W0(n)}else s===27?(s=ft,os(n.type)?(n=Ig,Ig=null,ft=n):ft=s):ft=Wt?$n(n.stateNode.nextSibling):null;return!0}function ia(){ft=Wt=null,Ge=!1}function rm(){var n=Kr;return n!==null&&(bn===null?bn=n:bn.push.apply(bn,n),Kr=null),n}function eu(n){Kr===null?Kr=[n]:Kr.push(n)}var sm=D(null),ra=null,or=null;function Qr(n,s,o){re(sm,s._currentValue),s._currentValue=o}function lr(n){n._currentValue=sm.current,$(sm)}function am(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function om(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var E=d;d=f;for(var N=0;N<s.length;N++)if(E.context===s[N]){d.lanes|=o,E=d.alternate,E!==null&&(E.lanes|=o),am(d.return,o,n),u||(_=null);break e}d=E.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(r(341));_.lanes|=o,d=_.alternate,d!==null&&(d.lanes|=o),am(_,o,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function yo(n,s,o,u){n=null;for(var f=s,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(r(387));if(_=_.memoizedProps,_!==null){var E=f.type;An(f.pendingProps.value,_.value)||(n!==null?n.push(E):n=[E])}}else if(f===Se.current){if(_=f.alternate,_===null)throw Error(r(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(xu):n=[xu])}f=f.return}n!==null&&om(s,n,o,u),s.flags|=262144}function fh(n){for(n=n.firstContext;n!==null;){if(!An(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function sa(n){ra=n,or=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function Jt(n){return x_(ra,n)}function dh(n,s){return ra===null&&sa(n),x_(n,s)}function x_(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},or===null){if(n===null)throw Error(r(308));or=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else or=or.next=s;return o}var cI=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},hI=i.unstable_scheduleCallback,fI=i.unstable_NormalPriority,Ot={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lm(){return{controller:new cI,data:new Map,refCount:0}}function tu(n){n.refCount--,n.refCount===0&&hI(fI,function(){n.controller.abort()})}var nu=null,um=0,_o=0,vo=null;function dI(n,s){if(nu===null){var o=nu=[];um=0,_o=fg(),vo={status:"pending",value:void 0,then:function(u){o.push(u)}}}return um++,s.then(R_,R_),s}function R_(){if(--um===0&&nu!==null){vo!==null&&(vo.status="fulfilled");var n=nu;nu=null,_o=0,vo=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function mI(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var C_=L.S;L.S=function(n,s){f0=un(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&dI(n,s),C_!==null&&C_(n,s)};var aa=D(null);function cm(){var n=aa.current;return n!==null?n:ht.pooledCache}function mh(n,s){s===null?re(aa,aa.current):re(aa,s.pool)}function N_(){var n=cm();return n===null?null:{parent:Ot._currentValue,pool:n}}var bo=Error(r(460)),hm=Error(r(474)),gh=Error(r(542)),ph={then:function(){}};function D_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function O_(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(li,li),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,V_(n),n;default:if(typeof s.status=="string")s.then(li,li);else{if(n=ht,n!==null&&100<n.shellSuspendCounter)throw Error(r(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,V_(n),n}throw la=s,bo}}function oa(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(la=o,bo):o}}var la=null;function M_(){if(la===null)throw Error(r(459));var n=la;return la=null,n}function V_(n){if(n===bo||n===gh)throw Error(r(483))}var To=null,iu=0;function yh(n){var s=iu;return iu+=1,To===null&&(To=[]),O_(To,n,s)}function ru(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function _h(n,s){throw s.$$typeof===I?Error(r(525)):(n=Object.prototype.toString.call(s),Error(r(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function k_(n){function s(P,M){if(n){var B=P.deletions;B===null?(P.deletions=[M],P.flags|=16):B.push(M)}}function o(P,M){if(!n)return null;for(;M!==null;)s(P,M),M=M.sibling;return null}function u(P){for(var M=new Map;P!==null;)P.key!==null?M.set(P.key,P):M.set(P.index,P),P=P.sibling;return M}function f(P,M){return P=sr(P,M),P.index=0,P.sibling=null,P}function d(P,M,B){return P.index=B,n?(B=P.alternate,B!==null?(B=B.index,B<M?(P.flags|=67108866,M):B):(P.flags|=67108866,M)):(P.flags|=1048576,M)}function _(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function E(P,M,B,X){return M===null||M.tag!==6?(M=Zd(B,P.mode,X),M.return=P,M):(M=f(M,B),M.return=P,M)}function N(P,M,B,X){var Te=B.type;return Te===ee?Y(P,M,B.props.children,X,B.key):M!==null&&(M.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&oa(Te)===M.type)?(M=f(M,B.props),ru(M,B),M.return=P,M):(M=ch(B.type,B.key,B.props,null,P.mode,X),ru(M,B),M.return=P,M)}function F(P,M,B,X){return M===null||M.tag!==4||M.stateNode.containerInfo!==B.containerInfo||M.stateNode.implementation!==B.implementation?(M=em(B,P.mode,X),M.return=P,M):(M=f(M,B.children||[]),M.return=P,M)}function Y(P,M,B,X,Te){return M===null||M.tag!==7?(M=na(B,P.mode,X,Te),M.return=P,M):(M=f(M,B),M.return=P,M)}function J(P,M,B){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Zd(""+M,P.mode,B),M.return=P,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case U:return B=ch(M.type,M.key,M.props,null,P.mode,B),ru(B,M),B.return=P,B;case Q:return M=em(M,P.mode,B),M.return=P,M;case A:return M=oa(M),J(P,M,B)}if(ne(M)||k(M))return M=na(M,P.mode,B,null),M.return=P,M;if(typeof M.then=="function")return J(P,yh(M),B);if(M.$$typeof===ae)return J(P,dh(P,M),B);_h(P,M)}return null}function q(P,M,B,X){var Te=M!==null?M.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Te!==null?null:E(P,M,""+B,X);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case U:return B.key===Te?N(P,M,B,X):null;case Q:return B.key===Te?F(P,M,B,X):null;case A:return B=oa(B),q(P,M,B,X)}if(ne(B)||k(B))return Te!==null?null:Y(P,M,B,X,null);if(typeof B.then=="function")return q(P,M,yh(B),X);if(B.$$typeof===ae)return q(P,M,dh(P,B),X);_h(P,B)}return null}function G(P,M,B,X,Te){if(typeof X=="string"&&X!==""||typeof X=="number"||typeof X=="bigint")return P=P.get(B)||null,E(M,P,""+X,Te);if(typeof X=="object"&&X!==null){switch(X.$$typeof){case U:return P=P.get(X.key===null?B:X.key)||null,N(M,P,X,Te);case Q:return P=P.get(X.key===null?B:X.key)||null,F(M,P,X,Te);case A:return X=oa(X),G(P,M,B,X,Te)}if(ne(X)||k(X))return P=P.get(B)||null,Y(M,P,X,Te,null);if(typeof X.then=="function")return G(P,M,B,yh(X),Te);if(X.$$typeof===ae)return G(P,M,B,dh(M,X),Te);_h(M,X)}return null}function de(P,M,B,X){for(var Te=null,Qe=null,ye=M,Le=M=0,qe=null;ye!==null&&Le<B.length;Le++){ye.index>Le?(qe=ye,ye=null):qe=ye.sibling;var Xe=q(P,ye,B[Le],X);if(Xe===null){ye===null&&(ye=qe);break}n&&ye&&Xe.alternate===null&&s(P,ye),M=d(Xe,M,Le),Qe===null?Te=Xe:Qe.sibling=Xe,Qe=Xe,ye=qe}if(Le===B.length)return o(P,ye),Ge&&ar(P,Le),Te;if(ye===null){for(;Le<B.length;Le++)ye=J(P,B[Le],X),ye!==null&&(M=d(ye,M,Le),Qe===null?Te=ye:Qe.sibling=ye,Qe=ye);return Ge&&ar(P,Le),Te}for(ye=u(ye);Le<B.length;Le++)qe=G(ye,P,Le,B[Le],X),qe!==null&&(n&&qe.alternate!==null&&ye.delete(qe.key===null?Le:qe.key),M=d(qe,M,Le),Qe===null?Te=qe:Qe.sibling=qe,Qe=qe);return n&&ye.forEach(function(fs){return s(P,fs)}),Ge&&ar(P,Le),Te}function Ie(P,M,B,X){if(B==null)throw Error(r(151));for(var Te=null,Qe=null,ye=M,Le=M=0,qe=null,Xe=B.next();ye!==null&&!Xe.done;Le++,Xe=B.next()){ye.index>Le?(qe=ye,ye=null):qe=ye.sibling;var fs=q(P,ye,Xe.value,X);if(fs===null){ye===null&&(ye=qe);break}n&&ye&&fs.alternate===null&&s(P,ye),M=d(fs,M,Le),Qe===null?Te=fs:Qe.sibling=fs,Qe=fs,ye=qe}if(Xe.done)return o(P,ye),Ge&&ar(P,Le),Te;if(ye===null){for(;!Xe.done;Le++,Xe=B.next())Xe=J(P,Xe.value,X),Xe!==null&&(M=d(Xe,M,Le),Qe===null?Te=Xe:Qe.sibling=Xe,Qe=Xe);return Ge&&ar(P,Le),Te}for(ye=u(ye);!Xe.done;Le++,Xe=B.next())Xe=G(ye,P,Le,Xe.value,X),Xe!==null&&(n&&Xe.alternate!==null&&ye.delete(Xe.key===null?Le:Xe.key),M=d(Xe,M,Le),Qe===null?Te=Xe:Qe.sibling=Xe,Qe=Xe);return n&&ye.forEach(function(Ax){return s(P,Ax)}),Ge&&ar(P,Le),Te}function lt(P,M,B,X){if(typeof B=="object"&&B!==null&&B.type===ee&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case U:e:{for(var Te=B.key;M!==null;){if(M.key===Te){if(Te=B.type,Te===ee){if(M.tag===7){o(P,M.sibling),X=f(M,B.props.children),X.return=P,P=X;break e}}else if(M.elementType===Te||typeof Te=="object"&&Te!==null&&Te.$$typeof===A&&oa(Te)===M.type){o(P,M.sibling),X=f(M,B.props),ru(X,B),X.return=P,P=X;break e}o(P,M);break}else s(P,M);M=M.sibling}B.type===ee?(X=na(B.props.children,P.mode,X,B.key),X.return=P,P=X):(X=ch(B.type,B.key,B.props,null,P.mode,X),ru(X,B),X.return=P,P=X)}return _(P);case Q:e:{for(Te=B.key;M!==null;){if(M.key===Te)if(M.tag===4&&M.stateNode.containerInfo===B.containerInfo&&M.stateNode.implementation===B.implementation){o(P,M.sibling),X=f(M,B.children||[]),X.return=P,P=X;break e}else{o(P,M);break}else s(P,M);M=M.sibling}X=em(B,P.mode,X),X.return=P,P=X}return _(P);case A:return B=oa(B),lt(P,M,B,X)}if(ne(B))return de(P,M,B,X);if(k(B)){if(Te=k(B),typeof Te!="function")throw Error(r(150));return B=Te.call(B),Ie(P,M,B,X)}if(typeof B.then=="function")return lt(P,M,yh(B),X);if(B.$$typeof===ae)return lt(P,M,dh(P,B),X);_h(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,M!==null&&M.tag===6?(o(P,M.sibling),X=f(M,B),X.return=P,P=X):(o(P,M),X=Zd(B,P.mode,X),X.return=P,P=X),_(P)):o(P,M)}return function(P,M,B,X){try{iu=0;var Te=lt(P,M,B,X);return To=null,Te}catch(ye){if(ye===bo||ye===gh)throw ye;var Qe=In(29,ye,null,P.mode);return Qe.lanes=X,Qe.return=P,Qe}finally{}}}var ua=k_(!0),P_=k_(!1),Xr=!1;function fm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function dm(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function $r(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Wr(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(We&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=uh(n),v_(n,null,o),s}return lh(n,u,s,o),uh(n)}function su(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Ol(n,o)}}function mm(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,d=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,o=o.next}while(o!==null);d===null?f=d=s:d=d.next=s}else f=d=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var gm=!1;function au(){if(gm){var n=vo;if(n!==null)throw n}}function ou(n,s,o,u){gm=!1;var f=n.updateQueue;Xr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var N=E,F=N.next;N.next=null,_===null?d=F:_.next=F,_=N;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==_&&(E===null?Y.firstBaseUpdate=F:E.next=F,Y.lastBaseUpdate=N))}if(d!==null){var J=f.baseState;_=0,Y=F=N=null,E=d;do{var q=E.lane&-536870913,G=q!==E.lane;if(G?(Fe&q)===q:(u&q)===q){q!==0&&q===_o&&(gm=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var de=n,Ie=E;q=s;var lt=o;switch(Ie.tag){case 1:if(de=Ie.payload,typeof de=="function"){J=de.call(lt,J,q);break e}J=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=Ie.payload,q=typeof de=="function"?de.call(lt,J,q):de,q==null)break e;J=T({},J,q);break e;case 2:Xr=!0}}q=E.callback,q!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[q]:G.push(q))}else G={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(F=Y=G,N=J):Y=Y.next=G,_|=q;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;G=E,E=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Y===null&&(N=J),f.baseState=N,f.firstBaseUpdate=F,f.lastBaseUpdate=Y,d===null&&(f.shared.lanes=0),ns|=_,n.lanes=_,n.memoizedState=J}}function L_(n,s){if(typeof n!="function")throw Error(r(191,n));n.call(s)}function U_(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)L_(o[n],s)}var Eo=D(null),vh=D(0);function j_(n,s){n=yr,re(vh,n),re(Eo,s),yr=n|s.baseLanes}function pm(){re(vh,yr),re(Eo,Eo.current)}function ym(){yr=vh.current,$(Eo),$(vh)}var xn=D(null),Xn=null;function Jr(n){var s=n.alternate;re(At,At.current&1),re(xn,n),Xn===null&&(s===null||Eo.current!==null||s.memoizedState!==null)&&(Xn=n)}function _m(n){re(At,At.current),re(xn,n),Xn===null&&(Xn=n)}function z_(n){n.tag===22?(re(At,At.current),re(xn,n),Xn===null&&(Xn=n)):Zr()}function Zr(){re(At,At.current),re(xn,xn.current)}function Rn(n){$(xn),Xn===n&&(Xn=null),$(At)}var At=D(0);function bh(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||Sg(o)||Ag(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ur=0,Pe=null,at=null,Mt=null,Th=!1,wo=!1,ca=!1,Eh=0,lu=0,So=null,gI=0;function bt(){throw Error(r(321))}function vm(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!An(n[o],s[o]))return!1;return!0}function bm(n,s,o,u,f,d){return ur=d,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=n===null||n.memoizedState===null?wv:km,ca=!1,d=o(u,f),ca=!1,wo&&(d=F_(s,o,u,f)),B_(n),d}function B_(n){L.H=hu;var s=at!==null&&at.next!==null;if(ur=0,Mt=at=Pe=null,Th=!1,lu=0,So=null,s)throw Error(r(300));n===null||Vt||(n=n.dependencies,n!==null&&fh(n)&&(Vt=!0))}function F_(n,s,o,u){Pe=n;var f=0;do{if(wo&&(So=null),lu=0,wo=!1,25<=f)throw Error(r(301));if(f+=1,Mt=at=null,n.updateQueue!=null){var d=n.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}L.H=Sv,d=s(o,u)}while(wo);return d}function pI(){var n=L.H,s=n.useState()[0];return s=typeof s.then=="function"?uu(s):s,n=n.useState()[0],(at!==null?at.memoizedState:null)!==n&&(Pe.flags|=1024),s}function Tm(){var n=Eh!==0;return Eh=0,n}function Em(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function wm(n){if(Th){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Th=!1}ur=0,Mt=at=Pe=null,wo=!1,lu=Eh=0,So=null}function hn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mt===null?Pe.memoizedState=Mt=n:Mt=Mt.next=n,Mt}function It(){if(at===null){var n=Pe.alternate;n=n!==null?n.memoizedState:null}else n=at.next;var s=Mt===null?Pe.memoizedState:Mt.next;if(s!==null)Mt=s,at=n;else{if(n===null)throw Pe.alternate===null?Error(r(467)):Error(r(310));at=n,n={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},Mt===null?Pe.memoizedState=Mt=n:Mt=Mt.next=n}return Mt}function wh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function uu(n){var s=lu;return lu+=1,So===null&&(So=[]),n=O_(So,n,s),s=Pe,(Mt===null?s.memoizedState:Mt.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?wv:km),n}function Sh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return uu(n);if(n.$$typeof===ae)return Jt(n)}throw Error(r(438,String(n)))}function Sm(n){var s=null,o=Pe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=wh(),Pe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=V;return s.index++,o}function cr(n,s){return typeof s=="function"?s(n):s}function Ah(n){var s=It();return Am(s,at,n)}function Am(n,s,o){var u=n.queue;if(u===null)throw Error(r(311));u.lastRenderedReducer=o;var f=n.baseQueue,d=u.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}s.baseQueue=f=d,u.pending=null}if(d=n.baseState,f===null)n.memoizedState=d;else{s=f.next;var E=_=null,N=null,F=s,Y=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(Fe&J)===J:(ur&J)===J){var q=F.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===_o&&(Y=!0);else if((ur&q)===q){F=F.next,q===_o&&(Y=!0);continue}else J={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(E=N=J,_=d):N=N.next=J,Pe.lanes|=q,ns|=q;J=F.action,ca&&o(d,J),d=F.hasEagerState?F.eagerState:o(d,J)}else q={lane:J,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(E=N=q,_=d):N=N.next=q,Pe.lanes|=J,ns|=J;F=F.next}while(F!==null&&F!==s);if(N===null?_=d:N.next=E,!An(d,n.memoizedState)&&(Vt=!0,Y&&(o=vo,o!==null)))throw o;n.memoizedState=d,n.baseState=_,n.baseQueue=N,u.lastRenderedState=d}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Im(n){var s=It(),o=s.queue;if(o===null)throw Error(r(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,d=s.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do d=n(d,_.action),_=_.next;while(_!==f);An(d,s.memoizedState)||(Vt=!0),s.memoizedState=d,s.baseQueue===null&&(s.baseState=d),o.lastRenderedState=d}return[d,u]}function q_(n,s,o){var u=Pe,f=It(),d=Ge;if(d){if(o===void 0)throw Error(r(407));o=o()}else o=s();var _=!An((at||f).memoizedState,o);if(_&&(f.memoizedState=o,Vt=!0),f=f.queue,Cm(K_.bind(null,u,f,n),[n]),f.getSnapshot!==s||_||Mt!==null&&Mt.memoizedState.tag&1){if(u.flags|=2048,Ao(9,{destroy:void 0},G_.bind(null,u,f,o,s),null),ht===null)throw Error(r(349));d||(ur&127)!==0||H_(u,s,o)}return o}function H_(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Pe.updateQueue,s===null?(s=wh(),Pe.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function G_(n,s,o,u){s.value=o,s.getSnapshot=u,Y_(s)&&Q_(n)}function K_(n,s,o){return o(function(){Y_(s)&&Q_(n)})}function Y_(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!An(n,o)}catch{return!0}}function Q_(n){var s=ta(n,2);s!==null&&Tn(s,n,2)}function xm(n){var s=hn();if(typeof n=="function"){var o=n;if(n=o(),ca){jn(!0);try{o()}finally{jn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:n},s}function X_(n,s,o,u){return n.baseState=o,Am(n,at,typeof u=="function"?u:cr)}function yI(n,s,o,u,f){if(Rh(n))throw Error(r(485));if(n=s.action,n!==null){var d={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};L.T!==null?o(!0):d.isTransition=!1,u(d),o=s.pending,o===null?(d.next=s.pending=d,$_(s,d)):(d.next=o.next,s.pending=o.next=d)}}function $_(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var d=L.T,_={};L.T=_;try{var E=o(f,u),N=L.S;N!==null&&N(_,E),W_(n,s,E)}catch(F){Rm(n,s,F)}finally{d!==null&&_.types!==null&&(d.types=_.types),L.T=d}}else try{d=o(f,u),W_(n,s,d)}catch(F){Rm(n,s,F)}}function W_(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){J_(n,s,u)},function(u){return Rm(n,s,u)}):J_(n,s,o)}function J_(n,s,o){s.status="fulfilled",s.value=o,Z_(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,$_(n,o)))}function Rm(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,Z_(s),s=s.next;while(s!==u)}n.action=null}function Z_(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function ev(n,s){return s}function tv(n,s){if(Ge){var o=ht.formState;if(o!==null){e:{var u=Pe;if(Ge){if(ft){t:{for(var f=ft,d=Qn;f.nodeType!==8;){if(!d){f=null;break t}if(f=$n(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){ft=$n(f.nextSibling),u=f.data==="F!";break e}}Yr(u)}u=!1}u&&(s=o[0])}}return o=hn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ev,lastRenderedState:s},o.queue=u,o=bv.bind(null,Pe,u),u.dispatch=o,u=xm(!1),d=Vm.bind(null,Pe,!1,u.queue),u=hn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=yI.bind(null,Pe,f,d,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function nv(n){var s=It();return iv(s,at,n)}function iv(n,s,o){if(s=Am(n,s,ev)[0],n=Ah(cr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=uu(s)}catch(_){throw _===bo?gh:_}else u=s;s=It();var f=s.queue,d=f.dispatch;return o!==s.memoizedState&&(Pe.flags|=2048,Ao(9,{destroy:void 0},_I.bind(null,f,o),null)),[u,d,n]}function _I(n,s){n.action=s}function rv(n){var s=It(),o=at;if(o!==null)return iv(s,o,n);It(),s=s.memoizedState,o=It();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function Ao(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=wh(),Pe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function sv(){return It().memoizedState}function Ih(n,s,o,u){var f=hn();Pe.flags|=n,f.memoizedState=Ao(1|s,{destroy:void 0},o,u===void 0?null:u)}function xh(n,s,o,u){var f=It();u=u===void 0?null:u;var d=f.memoizedState.inst;at!==null&&u!==null&&vm(u,at.memoizedState.deps)?f.memoizedState=Ao(s,d,o,u):(Pe.flags|=n,f.memoizedState=Ao(1|s,d,o,u))}function av(n,s){Ih(8390656,8,n,s)}function Cm(n,s){xh(2048,8,n,s)}function vI(n){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=wh(),Pe.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function ov(n){var s=It().memoizedState;return vI({ref:s,nextImpl:n}),function(){if((We&2)!==0)throw Error(r(440));return s.impl.apply(void 0,arguments)}}function lv(n,s){return xh(4,2,n,s)}function uv(n,s){return xh(4,4,n,s)}function cv(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function hv(n,s,o){o=o!=null?o.concat([n]):null,xh(4,4,cv.bind(null,s,n),o)}function Nm(){}function fv(n,s){var o=It();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&vm(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function dv(n,s){var o=It();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&vm(s,u[1]))return u[0];if(u=n(),ca){jn(!0);try{n()}finally{jn(!1)}}return o.memoizedState=[u,s],u}function Dm(n,s,o){return o===void 0||(ur&1073741824)!==0&&(Fe&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=m0(),Pe.lanes|=n,ns|=n,o)}function mv(n,s,o,u){return An(o,s)?o:Eo.current!==null?(n=Dm(n,o,u),An(n,s)||(Vt=!0),n):(ur&42)===0||(ur&1073741824)!==0&&(Fe&261930)===0?(Vt=!0,n.memoizedState=o):(n=m0(),Pe.lanes|=n,ns|=n,s)}function gv(n,s,o,u,f){var d=W.p;W.p=d!==0&&8>d?d:8;var _=L.T,E={};L.T=E,Vm(n,!1,s,o);try{var N=f(),F=L.S;if(F!==null&&F(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=mI(N,u);cu(n,s,Y,Dn(n))}else cu(n,s,u,Dn(n))}catch(J){cu(n,s,{then:function(){},status:"rejected",reason:J},Dn())}finally{W.p=d,_!==null&&E.types!==null&&(_.types=E.types),L.T=_}}function bI(){}function Om(n,s,o,u){if(n.tag!==5)throw Error(r(476));var f=pv(n).queue;gv(n,f,s,K,o===null?bI:function(){return yv(n),o(u)})}function pv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:K},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function yv(n){var s=pv(n);s.next===null&&(s=n.alternate.memoizedState),cu(n,s.next.queue,{},Dn())}function Mm(){return Jt(xu)}function _v(){return It().memoizedState}function vv(){return It().memoizedState}function TI(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=Dn();n=$r(o);var u=Wr(s,n,o);u!==null&&(Tn(u,s,o),su(u,s,o)),s={cache:lm()},n.payload=s;return}s=s.return}}function EI(n,s,o){var u=Dn();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Rh(n)?Tv(s,o):(o=Wd(n,s,o,u),o!==null&&(Tn(o,n,u),Ev(o,s,u)))}function bv(n,s,o){var u=Dn();cu(n,s,o,u)}function cu(n,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Rh(n))Tv(s,f);else{var d=n.alternate;if(n.lanes===0&&(d===null||d.lanes===0)&&(d=s.lastRenderedReducer,d!==null))try{var _=s.lastRenderedState,E=d(_,o);if(f.hasEagerState=!0,f.eagerState=E,An(E,_))return lh(n,s,f,0),ht===null&&oh(),!1}catch{}finally{}if(o=Wd(n,s,f,u),o!==null)return Tn(o,n,u),Ev(o,s,u),!0}return!1}function Vm(n,s,o,u){if(u={lane:2,revertLane:fg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Rh(n)){if(s)throw Error(r(479))}else s=Wd(n,o,u,2),s!==null&&Tn(s,n,2)}function Rh(n){var s=n.alternate;return n===Pe||s!==null&&s===Pe}function Tv(n,s){wo=Th=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Ev(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,Ol(n,o)}}var hu={readContext:Jt,use:Sh,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};hu.useEffectEvent=bt;var wv={readContext:Jt,use:Sh,useCallback:function(n,s){return hn().memoizedState=[n,s===void 0?null:s],n},useContext:Jt,useEffect:av,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Ih(4194308,4,cv.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Ih(4194308,4,n,s)},useInsertionEffect:function(n,s){Ih(4,2,n,s)},useMemo:function(n,s){var o=hn();s=s===void 0?null:s;var u=n();if(ca){jn(!0);try{n()}finally{jn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=hn();if(o!==void 0){var f=o(s);if(ca){jn(!0);try{o(s)}finally{jn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=EI.bind(null,Pe,n),[u.memoizedState,n]},useRef:function(n){var s=hn();return n={current:n},s.memoizedState=n},useState:function(n){n=xm(n);var s=n.queue,o=bv.bind(null,Pe,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Nm,useDeferredValue:function(n,s){var o=hn();return Dm(o,n,s)},useTransition:function(){var n=xm(!1);return n=gv.bind(null,Pe,n.queue,!0,!1),hn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Pe,f=hn();if(Ge){if(o===void 0)throw Error(r(407));o=o()}else{if(o=s(),ht===null)throw Error(r(349));(Fe&127)!==0||H_(u,s,o)}f.memoizedState=o;var d={value:o,getSnapshot:s};return f.queue=d,av(K_.bind(null,u,d,n),[n]),u.flags|=2048,Ao(9,{destroy:void 0},G_.bind(null,u,d,o,s),null),o},useId:function(){var n=hn(),s=ht.identifierPrefix;if(Ge){var o=qi,u=Fi;o=(u&~(1<<32-wt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Eh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=gI++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Mm,useFormState:tv,useActionState:tv,useOptimistic:function(n){var s=hn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Vm.bind(null,Pe,!0,o),o.dispatch=s,[n,s]},useMemoCache:Sm,useCacheRefresh:function(){return hn().memoizedState=TI.bind(null,Pe)},useEffectEvent:function(n){var s=hn(),o={impl:n};return s.memoizedState=o,function(){if((We&2)!==0)throw Error(r(440));return o.impl.apply(void 0,arguments)}}},km={readContext:Jt,use:Sh,useCallback:fv,useContext:Jt,useEffect:Cm,useImperativeHandle:hv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:dv,useReducer:Ah,useRef:sv,useState:function(){return Ah(cr)},useDebugValue:Nm,useDeferredValue:function(n,s){var o=It();return mv(o,at.memoizedState,n,s)},useTransition:function(){var n=Ah(cr)[0],s=It().memoizedState;return[typeof n=="boolean"?n:uu(n),s]},useSyncExternalStore:q_,useId:_v,useHostTransitionStatus:Mm,useFormState:nv,useActionState:nv,useOptimistic:function(n,s){var o=It();return X_(o,at,n,s)},useMemoCache:Sm,useCacheRefresh:vv};km.useEffectEvent=ov;var Sv={readContext:Jt,use:Sh,useCallback:fv,useContext:Jt,useEffect:Cm,useImperativeHandle:hv,useInsertionEffect:lv,useLayoutEffect:uv,useMemo:dv,useReducer:Im,useRef:sv,useState:function(){return Im(cr)},useDebugValue:Nm,useDeferredValue:function(n,s){var o=It();return at===null?Dm(o,n,s):mv(o,at.memoizedState,n,s)},useTransition:function(){var n=Im(cr)[0],s=It().memoizedState;return[typeof n=="boolean"?n:uu(n),s]},useSyncExternalStore:q_,useId:_v,useHostTransitionStatus:Mm,useFormState:rv,useActionState:rv,useOptimistic:function(n,s){var o=It();return at!==null?X_(o,at,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:Sm,useCacheRefresh:vv};Sv.useEffectEvent=ov;function Pm(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:T({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Lm={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=Dn(),f=$r(u);f.payload=s,o!=null&&(f.callback=o),s=Wr(n,f,u),s!==null&&(Tn(s,n,u),su(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=Dn(),f=$r(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Wr(n,f,u),s!==null&&(Tn(s,n,u),su(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=Dn(),u=$r(o);u.tag=2,s!=null&&(u.callback=s),s=Wr(n,u,o),s!==null&&(Tn(s,n,o),su(s,n,o))}};function Av(n,s,o,u,f,d,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,d,_):s.prototype&&s.prototype.isPureReactComponent?!Wl(o,u)||!Wl(f,d):!0}function Iv(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Lm.enqueueReplaceState(s,s.state,null)}function ha(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=T({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function xv(n){ah(n)}function Rv(n){console.error(n)}function Cv(n){ah(n)}function Ch(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function Nv(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function Um(n,s,o){return o=$r(o),o.tag=3,o.payload={element:null},o.callback=function(){Ch(n,s)},o}function Dv(n){return n=$r(n),n.tag=3,n}function Ov(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var d=u.value;n.payload=function(){return f(d)},n.callback=function(){Nv(s,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){Nv(s,o,u),typeof f!="function"&&(is===null?is=new Set([this]):is.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function wI(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&yo(s,o,f,!0),o=xn.current,o!==null){switch(o.tag){case 31:case 13:return Xn===null?Bh():o.alternate===null&&Tt===0&&(Tt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===ph?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),ug(n,u,f)),!1;case 22:return o.flags|=65536,u===ph?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),ug(n,u,f)),!1}throw Error(r(435,o.tag))}return ug(n,u,f),Bh(),!1}if(Ge)return s=xn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==im&&(n=Error(r(422),{cause:u}),eu(Gn(n,o)))):(u!==im&&(s=Error(r(423),{cause:u}),eu(Gn(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Gn(u,o),f=Um(n.stateNode,u,f),mm(n,f),Tt!==4&&(Tt=2)),!1;var d=Error(r(520),{cause:u});if(d=Gn(d,o),vu===null?vu=[d]:vu.push(d),Tt!==4&&(Tt=2),s===null)return!0;u=Gn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=Um(o.stateNode,u,n),mm(o,n),!1;case 1:if(s=o.type,d=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(is===null||!is.has(d))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Dv(f),Ov(f,n,o,u),mm(o,f),!1}o=o.return}while(o!==null);return!1}var jm=Error(r(461)),Vt=!1;function Zt(n,s,o,u){s.child=n===null?P_(s,null,o,u):ua(s,n.child,o,u)}function Mv(n,s,o,u,f){o=o.render;var d=s.ref;if("ref"in u){var _={};for(var E in u)E!=="ref"&&(_[E]=u[E])}else _=u;return sa(s),u=bm(n,s,o,_,d,f),E=Tm(),n!==null&&!Vt?(Em(n,s,f),hr(n,s,f)):(Ge&&E&&tm(s),s.flags|=1,Zt(n,s,u,f),s.child)}function Vv(n,s,o,u,f){if(n===null){var d=o.type;return typeof d=="function"&&!Jd(d)&&d.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=d,kv(n,s,d,u,f)):(n=ch(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(d=n.child,!Ym(n,f)){var _=d.memoizedProps;if(o=o.compare,o=o!==null?o:Wl,o(_,u)&&n.ref===s.ref)return hr(n,s,f)}return s.flags|=1,n=sr(d,u),n.ref=s.ref,n.return=s,s.child=n}function kv(n,s,o,u,f){if(n!==null){var d=n.memoizedProps;if(Wl(d,u)&&n.ref===s.ref)if(Vt=!1,s.pendingProps=u=d,Ym(n,f))(n.flags&131072)!==0&&(Vt=!0);else return s.lanes=n.lanes,hr(n,s,f)}return zm(n,s,o,u,f)}function Pv(n,s,o,u){var f=u.children,d=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(d=d!==null?d.baseLanes|o:o,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~d}else u=0,s.child=null;return Lv(n,s,d,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&mh(s,d!==null?d.cachePool:null),d!==null?j_(s,d):pm(),z_(s);else return u=s.lanes=536870912,Lv(n,s,d!==null?d.baseLanes|o:o,o,u)}else d!==null?(mh(s,d.cachePool),j_(s,d),Zr(),s.memoizedState=null):(n!==null&&mh(s,null),pm(),Zr());return Zt(n,s,f,o),s.child}function fu(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function Lv(n,s,o,u,f){var d=cm();return d=d===null?null:{parent:Ot._currentValue,pool:d},s.memoizedState={baseLanes:o,cachePool:d},n!==null&&mh(s,null),pm(),z_(s),n!==null&&yo(n,s,u,!0),s.childLanes=f,null}function Nh(n,s){return s=Oh({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function Uv(n,s,o){return ua(s,n.child,null,o),n=Nh(s,s.pendingProps),n.flags|=2,Rn(s),s.memoizedState=null,n}function SI(n,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ge){if(u.mode==="hidden")return n=Nh(s,u),s.lanes=536870912,fu(null,n);if(_m(s),(n=ft)?(n=$0(n,Qn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Gr!==null?{id:Fi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},o=T_(n),o.return=s,s.child=o,Wt=s,ft=null)):n=null,n===null)throw Yr(s);return s.lanes=536870912,null}return Nh(s,u)}var d=n.memoizedState;if(d!==null){var _=d.dehydrated;if(_m(s),f)if(s.flags&256)s.flags&=-257,s=Uv(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(r(558));else if(Vt||yo(n,s,o,!1),f=(o&n.childLanes)!==0,Vt||f){if(u=ht,u!==null&&(_=Ml(u,o),_!==0&&_!==d.retryLane))throw d.retryLane=_,ta(n,_),Tn(u,n,_),jm;Bh(),s=Uv(n,s,o)}else n=d.treeContext,ft=$n(_.nextSibling),Wt=s,Ge=!0,Kr=null,Qn=!1,n!==null&&S_(s,n),s=Nh(s,u),s.flags|=4096;return s}return n=sr(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function Dh(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(r(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function zm(n,s,o,u,f){return sa(s),o=bm(n,s,o,u,void 0,f),u=Tm(),n!==null&&!Vt?(Em(n,s,f),hr(n,s,f)):(Ge&&u&&tm(s),s.flags|=1,Zt(n,s,o,f),s.child)}function jv(n,s,o,u,f,d){return sa(s),s.updateQueue=null,o=F_(s,u,o,f),B_(n),u=Tm(),n!==null&&!Vt?(Em(n,s,d),hr(n,s,d)):(Ge&&u&&tm(s),s.flags|=1,Zt(n,s,o,d),s.child)}function zv(n,s,o,u,f){if(sa(s),s.stateNode===null){var d=fo,_=o.contextType;typeof _=="object"&&_!==null&&(d=Jt(_)),d=new o(u,d),s.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=Lm,s.stateNode=d,d._reactInternals=s,d=s.stateNode,d.props=u,d.state=s.memoizedState,d.refs={},fm(s),_=o.contextType,d.context=typeof _=="object"&&_!==null?Jt(_):fo,d.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Pm(s,o,_,u),d.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&Lm.enqueueReplaceState(d,d.state,null),ou(s,u,d,f),au(),d.state=s.memoizedState),typeof d.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){d=s.stateNode;var E=s.memoizedProps,N=ha(o,E);d.props=N;var F=d.context,Y=o.contextType;_=fo,typeof Y=="object"&&Y!==null&&(_=Jt(Y));var J=o.getDerivedStateFromProps;Y=typeof J=="function"||typeof d.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,Y||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(E||F!==_)&&Iv(s,d,u,_),Xr=!1;var q=s.memoizedState;d.state=q,ou(s,u,d,f),au(),F=s.memoizedState,E||q!==F||Xr?(typeof J=="function"&&(Pm(s,o,J,u),F=s.memoizedState),(N=Xr||Av(s,o,N,u,q,F,_))?(Y||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(s.flags|=4194308)):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=F),d.props=u,d.state=F,d.context=_,u=N):(typeof d.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{d=s.stateNode,dm(n,s),_=s.memoizedProps,Y=ha(o,_),d.props=Y,J=s.pendingProps,q=d.context,F=o.contextType,N=fo,typeof F=="object"&&F!==null&&(N=Jt(F)),E=o.getDerivedStateFromProps,(F=typeof E=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==J||q!==N)&&Iv(s,d,u,N),Xr=!1,q=s.memoizedState,d.state=q,ou(s,u,d,f),au();var G=s.memoizedState;_!==J||q!==G||Xr||n!==null&&n.dependencies!==null&&fh(n.dependencies)?(typeof E=="function"&&(Pm(s,o,E,u),G=s.memoizedState),(Y=Xr||Av(s,o,Y,u,q,G,N)||n!==null&&n.dependencies!==null&&fh(n.dependencies))?(F||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(u,G,N),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(u,G,N)),typeof d.componentDidUpdate=="function"&&(s.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=G),d.props=u,d.state=G,d.context=N,u=Y):(typeof d.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),u=!1)}return d=u,Dh(n,s),u=(s.flags&128)!==0,d||u?(d=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:d.render(),s.flags|=1,n!==null&&u?(s.child=ua(s,n.child,null,f),s.child=ua(s,null,o,f)):Zt(n,s,o,f),s.memoizedState=d.state,n=s.child):n=hr(n,s,f),n}function Bv(n,s,o,u){return ia(),s.flags|=256,Zt(n,s,o,u),s.child}var Bm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fm(n){return{baseLanes:n,cachePool:N_()}}function qm(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Nn),n}function Fv(n,s,o){var u=s.pendingProps,f=!1,d=(s.flags&128)!==0,_;if((_=d)||(_=n!==null&&n.memoizedState===null?!1:(At.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ge){if(f?Jr(s):Zr(),(n=ft)?(n=$0(n,Qn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Gr!==null?{id:Fi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},o=T_(n),o.return=s,s.child=o,Wt=s,ft=null)):n=null,n===null)throw Yr(s);return Ag(n)?s.lanes=32:s.lanes=536870912,null}var E=u.children;return u=u.fallback,f?(Zr(),f=s.mode,E=Oh({mode:"hidden",children:E},f),u=na(u,f,o,null),E.return=s,u.return=s,E.sibling=u,s.child=E,u=s.child,u.memoizedState=Fm(o),u.childLanes=qm(n,_,o),s.memoizedState=Bm,fu(null,u)):(Jr(s),Hm(s,E))}var N=n.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(d)s.flags&256?(Jr(s),s.flags&=-257,s=Gm(n,s,o)):s.memoizedState!==null?(Zr(),s.child=n.child,s.flags|=128,s=null):(Zr(),E=u.fallback,f=s.mode,u=Oh({mode:"visible",children:u.children},f),E=na(E,f,o,null),E.flags|=2,u.return=s,E.return=s,u.sibling=E,s.child=u,ua(s,n.child,null,o),u=s.child,u.memoizedState=Fm(o),u.childLanes=qm(n,_,o),s.memoizedState=Bm,s=fu(null,u));else if(Jr(s),Ag(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var F=_.dgst;_=F,u=Error(r(419)),u.stack="",u.digest=_,eu({value:u,source:null,stack:null}),s=Gm(n,s,o)}else if(Vt||yo(n,s,o,!1),_=(o&n.childLanes)!==0,Vt||_){if(_=ht,_!==null&&(u=Ml(_,o),u!==0&&u!==N.retryLane))throw N.retryLane=u,ta(n,u),Tn(_,n,u),jm;Sg(E)||Bh(),s=Gm(n,s,o)}else Sg(E)?(s.flags|=192,s.child=n.child,s=null):(n=N.treeContext,ft=$n(E.nextSibling),Wt=s,Ge=!0,Kr=null,Qn=!1,n!==null&&S_(s,n),s=Hm(s,u.children),s.flags|=4096);return s}return f?(Zr(),E=u.fallback,f=s.mode,N=n.child,F=N.sibling,u=sr(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,F!==null?E=sr(F,E):(E=na(E,f,o,null),E.flags|=2),E.return=s,u.return=s,u.sibling=E,s.child=u,fu(null,u),u=s.child,E=n.child.memoizedState,E===null?E=Fm(o):(f=E.cachePool,f!==null?(N=Ot._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=N_(),E={baseLanes:E.baseLanes|o,cachePool:f}),u.memoizedState=E,u.childLanes=qm(n,_,o),s.memoizedState=Bm,fu(n.child,u)):(Jr(s),o=n.child,n=o.sibling,o=sr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=o,s.memoizedState=null,o)}function Hm(n,s){return s=Oh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function Oh(n,s){return n=In(22,n,null,s),n.lanes=0,n}function Gm(n,s,o){return ua(s,n.child,null,o),n=Hm(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function qv(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),am(n.return,s,o)}function Km(n,s,o,u,f,d){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:d}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=f,_.treeForkCount=d)}function Hv(n,s,o){var u=s.pendingProps,f=u.revealOrder,d=u.tail;u=u.children;var _=At.current,E=(_&2)!==0;if(E?(_=_&1|2,s.flags|=128):_&=1,re(At,_),Zt(n,s,u,o),u=Ge?Zl:0,!E&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&qv(n,o,s);else if(n.tag===19)qv(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&bh(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),Km(s,!1,f,o,d,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&bh(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}Km(s,!0,o,null,d,u);break;case"together":Km(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function hr(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),ns|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(yo(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(r(153));if(s.child!==null){for(n=s.child,o=sr(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=sr(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function Ym(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&fh(n)))}function AI(n,s,o){switch(s.tag){case 3:vt(s,s.stateNode.containerInfo),Qr(s,Ot,n.memoizedState.cache),ia();break;case 27:case 5:Un(s);break;case 4:vt(s,s.stateNode.containerInfo);break;case 10:Qr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,_m(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Jr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?Fv(n,s,o):(Jr(s),n=hr(n,s,o),n!==null?n.sibling:null);Jr(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(yo(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return Hv(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(At,At.current),u)break;return null;case 22:return s.lanes=0,Pv(n,s,o,s.pendingProps);case 24:Qr(s,Ot,n.memoizedState.cache)}return hr(n,s,o)}function Gv(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Vt=!0;else{if(!Ym(n,o)&&(s.flags&128)===0)return Vt=!1,AI(n,s,o);Vt=(n.flags&131072)!==0}else Vt=!1,Ge&&(s.flags&1048576)!==0&&w_(s,Zl,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=oa(s.elementType),s.type=n,typeof n=="function")Jd(n)?(u=ha(n,u),s.tag=1,s=zv(null,s,n,u,o)):(s.tag=0,s=zm(null,s,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===Ee){s.tag=11,s=Mv(null,s,n,u,o);break e}else if(f===x){s.tag=14,s=Vv(null,s,n,u,o);break e}}throw s=le(n)||n,Error(r(306,s,""))}}return s;case 0:return zm(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=ha(u,s.pendingProps),zv(n,s,u,f,o);case 3:e:{if(vt(s,s.stateNode.containerInfo),n===null)throw Error(r(387));u=s.pendingProps;var d=s.memoizedState;f=d.element,dm(n,s),ou(s,u,null,o);var _=s.memoizedState;if(u=_.cache,Qr(s,Ot,u),u!==d.cache&&om(s,[Ot],o,!0),au(),u=_.element,d.isDehydrated)if(d={element:u,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=d,s.memoizedState=d,s.flags&256){s=Bv(n,s,u,o);break e}else if(u!==f){f=Gn(Error(r(424)),s),eu(f),s=Bv(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(ft=$n(n.firstChild),Wt=s,Ge=!0,Kr=null,Qn=!0,o=P_(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(ia(),u===f){s=hr(n,s,o);break e}Zt(n,s,u,o)}s=s.child}return s;case 26:return Dh(n,s),n===null?(o=nb(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ge||(o=s.type,n=s.pendingProps,u=Qh(De.current).createElement(o),u[Ct]=s,u[Gt]=n,en(u,o,n),Nt(u),s.stateNode=u):s.memoizedState=nb(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return Un(s),n===null&&Ge&&(u=s.stateNode=Z0(s.type,s.pendingProps,De.current),Wt=s,Qn=!0,f=ft,os(s.type)?(Ig=f,ft=$n(u.firstChild)):ft=f),Zt(n,s,s.pendingProps.children,o),Dh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ge&&((f=u=ft)&&(u=tx(u,s.type,s.pendingProps,Qn),u!==null?(s.stateNode=u,Wt=s,ft=$n(u.firstChild),Qn=!1,f=!0):f=!1),f||Yr(s)),Un(s),f=s.type,d=s.pendingProps,_=n!==null?n.memoizedProps:null,u=d.children,Tg(f,d)?u=null:_!==null&&Tg(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=bm(n,s,pI,null,null,o),xu._currentValue=f),Dh(n,s),Zt(n,s,u,o),s.child;case 6:return n===null&&Ge&&((n=o=ft)&&(o=nx(o,s.pendingProps,Qn),o!==null?(s.stateNode=o,Wt=s,ft=null,n=!0):n=!1),n||Yr(s)),null;case 13:return Fv(n,s,o);case 4:return vt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=ua(s,null,u,o):Zt(n,s,u,o),s.child;case 11:return Mv(n,s,s.type,s.pendingProps,o);case 7:return Zt(n,s,s.pendingProps,o),s.child;case 8:return Zt(n,s,s.pendingProps.children,o),s.child;case 12:return Zt(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Qr(s,s.type,u.value),Zt(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,sa(s),f=Jt(f),u=u(f),s.flags|=1,Zt(n,s,u,o),s.child;case 14:return Vv(n,s,s.type,s.pendingProps,o);case 15:return kv(n,s,s.type,s.pendingProps,o);case 19:return Hv(n,s,o);case 31:return SI(n,s,o);case 22:return Pv(n,s,o,s.pendingProps);case 24:return sa(s),u=Jt(Ot),n===null?(f=cm(),f===null&&(f=ht,d=lm(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=o),f=d),s.memoizedState={parent:u,cache:f},fm(s),Qr(s,Ot,f)):((n.lanes&o)!==0&&(dm(n,s),ou(s,null,null,o),au()),f=n.memoizedState,d=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Qr(s,Ot,u)):(u=d.cache,Qr(s,Ot,u),u!==f.cache&&om(s,[Ot],o,!0))),Zt(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(r(156,s.tag))}function fr(n){n.flags|=4}function Qm(n,s,o,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(_0())n.flags|=8192;else throw la=ph,hm}else n.flags&=-16777217}function Kv(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!ob(s))if(_0())n.flags|=8192;else throw la=ph,hm}function Mh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?jc():536870912,n.lanes|=s,Co|=s)}function du(n,s){if(!Ge)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function dt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function II(n,s,o){var u=s.pendingProps;switch(nm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return dt(s),null;case 1:return dt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),lr(Ot),Je(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(po(s)?fr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,rm())),dt(s),null;case 26:var f=s.type,d=s.memoizedState;return n===null?(fr(s),d!==null?(dt(s),Kv(s,d)):(dt(s),Qm(s,f,null,u,o))):d?d!==n.memoizedState?(fr(s),dt(s),Kv(s,d)):(dt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&fr(s),dt(s),Qm(s,f,n,u,o)),null;case 27:if(wi(s),o=De.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&fr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return dt(s),null}n=oe.current,po(s)?A_(s):(n=Z0(f,u,o),s.stateNode=n,fr(s))}return dt(s),null;case 5:if(wi(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&fr(s);else{if(!u){if(s.stateNode===null)throw Error(r(166));return dt(s),null}if(d=oe.current,po(s))A_(s);else{var _=Qh(De.current);switch(d){case 1:d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":d=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":d=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":d=_.createElement("div"),d.innerHTML="<script><\/script>",d=d.removeChild(d.firstChild);break;case"select":d=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?d.multiple=!0:u.size&&(d.size=u.size);break;default:d=typeof u.is=="string"?_.createElement(f,{is:u.is}):_.createElement(f)}}d[Ct]=s,d[Gt]=u;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)d.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=d;e:switch(en(d,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&fr(s)}}return dt(s),Qm(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&fr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(r(166));if(n=De.current,po(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=Wt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Ct]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||F0(n.nodeValue,o)),n||Yr(s,!0)}else n=Qh(n).createTextNode(u),n[Ct]=s,s.stateNode=n}return dt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=po(s),o!==null){if(n===null){if(!u)throw Error(r(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(r(557));n[Ct]=s}else ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),n=!1}else o=rm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(Rn(s),s):(Rn(s),null);if((s.flags&128)!==0)throw Error(r(558))}return dt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=po(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(r(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(r(317));f[Ct]=s}else ia(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;dt(s),f=!1}else f=rm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Rn(s),s):(Rn(s),null)}return Rn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),d=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(d=u.memoizedState.cachePool.pool),d!==f&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),Mh(s,s.updateQueue),dt(s),null);case 4:return Je(),n===null&&pg(s.stateNode.containerInfo),dt(s),null;case 10:return lr(s.type),dt(s),null;case 19:if($(At),u=s.memoizedState,u===null)return dt(s),null;if(f=(s.flags&128)!==0,d=u.rendering,d===null)if(f)du(u,!1);else{if(Tt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(d=bh(n),d!==null){for(s.flags|=128,du(u,!1),n=d.updateQueue,s.updateQueue=n,Mh(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)b_(o,n),o=o.sibling;return re(At,At.current&1|2),Ge&&ar(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&un()>Uh&&(s.flags|=128,f=!0,du(u,!1),s.lanes=4194304)}else{if(!f)if(n=bh(d),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Mh(s,n),du(u,!0),u.tail===null&&u.tailMode==="hidden"&&!d.alternate&&!Ge)return dt(s),null}else 2*un()-u.renderingStartTime>Uh&&o!==536870912&&(s.flags|=128,f=!0,du(u,!1),s.lanes=4194304);u.isBackwards?(d.sibling=s.child,s.child=d):(n=u.last,n!==null?n.sibling=d:s.child=d,u.last=d)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=un(),n.sibling=null,o=At.current,re(At,f?o&1|2:o&1),Ge&&ar(s,u.treeForkCount),n):(dt(s),null);case 22:case 23:return Rn(s),ym(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(dt(s),s.subtreeFlags&6&&(s.flags|=8192)):dt(s),o=s.updateQueue,o!==null&&Mh(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&$(aa),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),lr(Ot),dt(s),null;case 25:return null;case 30:return null}throw Error(r(156,s.tag))}function xI(n,s){switch(nm(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return lr(Ot),Je(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return wi(s),null;case 31:if(s.memoizedState!==null){if(Rn(s),s.alternate===null)throw Error(r(340));ia()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Rn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(r(340));ia()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return $(At),null;case 4:return Je(),null;case 10:return lr(s.type),null;case 22:case 23:return Rn(s),ym(),n!==null&&$(aa),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return lr(Ot),null;case 25:return null;default:return null}}function Yv(n,s){switch(nm(s),s.tag){case 3:lr(Ot),Je();break;case 26:case 27:case 5:wi(s);break;case 4:Je();break;case 31:s.memoizedState!==null&&Rn(s);break;case 13:Rn(s);break;case 19:$(At);break;case 10:lr(s.type);break;case 22:case 23:Rn(s),ym(),n!==null&&$(aa);break;case 24:lr(Ot)}}function mu(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var d=o.create,_=o.inst;u=d(),_.destroy=u}o=o.next}while(o!==f)}}catch(E){tt(s,s.return,E)}}function es(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var d=f.next;u=d;do{if((u.tag&n)===n){var _=u.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,f=s;var N=o,F=E;try{F()}catch(Y){tt(f,N,Y)}}}u=u.next}while(u!==d)}}catch(Y){tt(s,s.return,Y)}}function Qv(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{U_(s,o)}catch(u){tt(n,n.return,u)}}}function Xv(n,s,o){o.props=ha(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){tt(n,s,u)}}function gu(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){tt(n,s,f)}}function Hi(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){tt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(n,s,f)}else o.current=null}function $v(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){tt(n,n.return,f)}}function Xm(n,s,o){try{var u=n.stateNode;XI(u,n.type,o,s),u[Gt]=s}catch(f){tt(n,n.return,f)}}function Wv(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&os(n.type)||n.tag===4}function $m(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||Wv(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&os(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function Wm(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=li));else if(u!==4&&(u===27&&os(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(Wm(n,s,o),n=n.sibling;n!==null;)Wm(n,s,o),n=n.sibling}function Vh(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&os(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Vh(n,s,o),n=n.sibling;n!==null;)Vh(n,s,o),n=n.sibling}function Jv(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);en(s,u,o),s[Ct]=n,s[Gt]=o}catch(d){tt(n,n.return,d)}}var dr=!1,kt=!1,Jm=!1,Zv=typeof WeakSet=="function"?WeakSet:Set,Yt=null;function RI(n,s){if(n=n.containerInfo,vg=tf,n=h_(n),Gd(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,d=u.focusNode;u=u.focusOffset;try{o.nodeType,d.nodeType}catch{o=null;break e}var _=0,E=-1,N=-1,F=0,Y=0,J=n,q=null;t:for(;;){for(var G;J!==o||f!==0&&J.nodeType!==3||(E=_+f),J!==d||u!==0&&J.nodeType!==3||(N=_+u),J.nodeType===3&&(_+=J.nodeValue.length),(G=J.firstChild)!==null;)q=J,J=G;for(;;){if(J===n)break t;if(q===o&&++F===f&&(E=_),q===d&&++Y===u&&(N=_),(G=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=G}o=E===-1||N===-1?null:{start:E,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(bg={focusedElem:n,selectionRange:o},tf=!1,Yt=s;Yt!==null;)if(s=Yt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Yt=n;else for(;Yt!==null;){switch(s=Yt,d=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&d!==null){n=void 0,o=s,f=d.memoizedProps,d=d.memoizedState,u=o.stateNode;try{var de=ha(o.type,f);n=u.getSnapshotBeforeUpdate(de,d),u.__reactInternalSnapshotBeforeUpdate=n}catch(Ie){tt(o,o.return,Ie)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)wg(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":wg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(r(163))}if(n=s.sibling,n!==null){n.return=s.return,Yt=n;break}Yt=s.return}}function e0(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:gr(n,o),u&4&&mu(5,o);break;case 1:if(gr(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(_){tt(o,o.return,_)}else{var f=ha(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(o,o.return,_)}}u&64&&Qv(o),u&512&&gu(o,o.return);break;case 3:if(gr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{U_(n,s)}catch(_){tt(o,o.return,_)}}break;case 27:s===null&&u&4&&Jv(o);case 26:case 5:gr(n,o),s===null&&u&4&&$v(o),u&512&&gu(o,o.return);break;case 12:gr(n,o);break;case 31:gr(n,o),u&4&&i0(n,o);break;case 13:gr(n,o),u&4&&r0(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=LI.bind(null,o),ix(n,o))));break;case 22:if(u=o.memoizedState!==null||dr,!u){s=s!==null&&s.memoizedState!==null||kt,f=dr;var d=kt;dr=u,(kt=s)&&!d?pr(n,o,(o.subtreeFlags&8772)!==0):gr(n,o),dr=f,kt=d}break;case 30:break;default:gr(n,o)}}function t0(n){var s=n.alternate;s!==null&&(n.alternate=null,t0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&Ja(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var gt=null,yn=!1;function mr(n,s,o){for(o=o.child;o!==null;)n0(n,s,o),o=o.sibling}function n0(n,s,o){if(Xt&&typeof Xt.onCommitFiberUnmount=="function")try{Xt.onCommitFiberUnmount(ri,o)}catch{}switch(o.tag){case 26:kt||Hi(o,s),mr(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:kt||Hi(o,s);var u=gt,f=yn;os(o.type)&&(gt=o.stateNode,yn=!1),mr(n,s,o),Su(o.stateNode),gt=u,yn=f;break;case 5:kt||Hi(o,s);case 6:if(u=gt,f=yn,gt=null,mr(n,s,o),gt=u,yn=f,gt!==null)if(yn)try{(gt.nodeType===9?gt.body:gt.nodeName==="HTML"?gt.ownerDocument.body:gt).removeChild(o.stateNode)}catch(d){tt(o,s,d)}else try{gt.removeChild(o.stateNode)}catch(d){tt(o,s,d)}break;case 18:gt!==null&&(yn?(n=gt,Q0(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),Lo(n)):Q0(gt,o.stateNode));break;case 4:u=gt,f=yn,gt=o.stateNode.containerInfo,yn=!0,mr(n,s,o),gt=u,yn=f;break;case 0:case 11:case 14:case 15:es(2,o,s),kt||es(4,o,s),mr(n,s,o);break;case 1:kt||(Hi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&Xv(o,s,u)),mr(n,s,o);break;case 21:mr(n,s,o);break;case 22:kt=(u=kt)||o.memoizedState!==null,mr(n,s,o),kt=u;break;default:mr(n,s,o)}}function i0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{Lo(n)}catch(o){tt(s,s.return,o)}}}function r0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{Lo(n)}catch(o){tt(s,s.return,o)}}function CI(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new Zv),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new Zv),s;default:throw Error(r(435,n.tag))}}function kh(n,s){var o=CI(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=UI.bind(null,n,u);u.then(f,f)}})}function _n(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],d=n,_=s,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(os(E.type)){gt=E.stateNode,yn=!1;break e}break;case 5:gt=E.stateNode,yn=!1;break e;case 3:case 4:gt=E.stateNode.containerInfo,yn=!0;break e}E=E.return}if(gt===null)throw Error(r(160));n0(d,_,f),gt=null,yn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)s0(s,n),s=s.sibling}var mi=null;function s0(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_n(s,n),vn(n),u&4&&(es(3,n,n.return),mu(3,n),es(5,n,n.return));break;case 1:_n(s,n),vn(n),u&512&&(kt||o===null||Hi(o,o.return)),u&64&&dr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=mi;if(_n(s,n),vn(n),u&512&&(kt||o===null||Hi(o,o.return)),u&4){var d=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":d=f.getElementsByTagName("title")[0],(!d||d[Ni]||d[Ct]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(u),f.head.insertBefore(d,f.querySelector("head > title"))),en(d,u,o),d[Ct]=n,Nt(d),u=d;break e;case"link":var _=sb("link","href",f).get(u+(o.href||""));if(_){for(var E=0;E<_.length;E++)if(d=_[E],d.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&d.getAttribute("rel")===(o.rel==null?null:o.rel)&&d.getAttribute("title")===(o.title==null?null:o.title)&&d.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(E,1);break t}}d=f.createElement(u),en(d,u,o),f.head.appendChild(d);break;case"meta":if(_=sb("meta","content",f).get(u+(o.content||""))){for(E=0;E<_.length;E++)if(d=_[E],d.getAttribute("content")===(o.content==null?null:""+o.content)&&d.getAttribute("name")===(o.name==null?null:o.name)&&d.getAttribute("property")===(o.property==null?null:o.property)&&d.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&d.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(E,1);break t}}d=f.createElement(u),en(d,u,o),f.head.appendChild(d);break;default:throw Error(r(468,u))}d[Ct]=n,Nt(d),u=d}n.stateNode=u}else ab(f,n.type,n.stateNode);else n.stateNode=rb(f,u,n.memoizedProps);else d!==u?(d===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):d.count--,u===null?ab(f,n.type,n.stateNode):rb(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&Xm(n,n.memoizedProps,o.memoizedProps)}break;case 27:_n(s,n),vn(n),u&512&&(kt||o===null||Hi(o,o.return)),o!==null&&u&4&&Xm(n,n.memoizedProps,o.memoizedProps);break;case 5:if(_n(s,n),vn(n),u&512&&(kt||o===null||Hi(o,o.return)),n.flags&32){f=n.stateNode;try{pn(f,"")}catch(de){tt(n,n.return,de)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,Xm(n,f,o!==null?o.memoizedProps:f)),u&1024&&(Jm=!0);break;case 6:if(_n(s,n),vn(n),u&4){if(n.stateNode===null)throw Error(r(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(de){tt(n,n.return,de)}}break;case 3:if(Wh=null,f=mi,mi=Xh(s.containerInfo),_n(s,n),mi=f,vn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Lo(s.containerInfo)}catch(de){tt(n,n.return,de)}Jm&&(Jm=!1,a0(n));break;case 4:u=mi,mi=Xh(n.stateNode.containerInfo),_n(s,n),vn(n),mi=u;break;case 12:_n(s,n),vn(n);break;case 31:_n(s,n),vn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,kh(n,u)));break;case 13:_n(s,n),vn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Lh=un()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,kh(n,u)));break;case 22:f=n.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,F=dr,Y=kt;if(dr=F||f,kt=Y||N,_n(s,n),kt=Y,dr=F,vn(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||N||dr||kt||fa(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){N=o=s;try{if(d=N.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=N.stateNode;var J=N.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(de){tt(N,N.return,de)}}}else if(s.tag===6){if(o===null){N=s;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(de){tt(N,N.return,de)}}}else if(s.tag===18){if(o===null){N=s;try{var G=N.stateNode;f?X0(G,!0):X0(N.stateNode,!1)}catch(de){tt(N,N.return,de)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,kh(n,o))));break;case 19:_n(s,n),vn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,kh(n,u)));break;case 30:break;case 21:break;default:_n(s,n),vn(n)}}function vn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(Wv(u)){o=u;break}u=u.return}if(o==null)throw Error(r(160));switch(o.tag){case 27:var f=o.stateNode,d=$m(n);Vh(n,d,f);break;case 5:var _=o.stateNode;o.flags&32&&(pn(_,""),o.flags&=-33);var E=$m(n);Vh(n,E,_);break;case 3:case 4:var N=o.stateNode.containerInfo,F=$m(n);Wm(n,F,N);break;default:throw Error(r(161))}}catch(Y){tt(n,n.return,Y)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function a0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;a0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function gr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)e0(n,s.alternate,s),s=s.sibling}function fa(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:es(4,s,s.return),fa(s);break;case 1:Hi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&Xv(s,s.return,o),fa(s);break;case 27:Su(s.stateNode);case 26:case 5:Hi(s,s.return),fa(s);break;case 22:s.memoizedState===null&&fa(s);break;case 30:fa(s);break;default:fa(s)}n=n.sibling}}function pr(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,d=s,_=d.flags;switch(d.tag){case 0:case 11:case 15:pr(f,d,o),mu(4,d);break;case 1:if(pr(f,d,o),u=d,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){tt(u,u.return,F)}if(u=d,f=u.updateQueue,f!==null){var E=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)L_(N[f],E)}catch(F){tt(u,u.return,F)}}o&&_&64&&Qv(d),gu(d,d.return);break;case 27:Jv(d);case 26:case 5:pr(f,d,o),o&&u===null&&_&4&&$v(d),gu(d,d.return);break;case 12:pr(f,d,o);break;case 31:pr(f,d,o),o&&_&4&&i0(f,d);break;case 13:pr(f,d,o),o&&_&4&&r0(f,d);break;case 22:d.memoizedState===null&&pr(f,d,o),gu(d,d.return);break;case 30:break;default:pr(f,d,o)}s=s.sibling}}function Zm(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&tu(o))}function eg(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&tu(n))}function gi(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)o0(n,s,o,u),s=s.sibling}function o0(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:gi(n,s,o,u),f&2048&&mu(9,s);break;case 1:gi(n,s,o,u);break;case 3:gi(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&tu(n)));break;case 12:if(f&2048){gi(n,s,o,u),n=s.stateNode;try{var d=s.memoizedProps,_=d.id,E=d.onPostCommit;typeof E=="function"&&E(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){tt(s,s.return,N)}}else gi(n,s,o,u);break;case 31:gi(n,s,o,u);break;case 13:gi(n,s,o,u);break;case 23:break;case 22:d=s.stateNode,_=s.alternate,s.memoizedState!==null?d._visibility&2?gi(n,s,o,u):pu(n,s):d._visibility&2?gi(n,s,o,u):(d._visibility|=2,Io(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&Zm(_,s);break;case 24:gi(n,s,o,u),f&2048&&eg(s.alternate,s);break;default:gi(n,s,o,u)}}function Io(n,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var d=n,_=s,E=o,N=u,F=_.flags;switch(_.tag){case 0:case 11:case 15:Io(d,_,E,N,f),mu(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Io(d,_,E,N,f):pu(d,_):(Y._visibility|=2,Io(d,_,E,N,f)),f&&F&2048&&Zm(_.alternate,_);break;case 24:Io(d,_,E,N,f),f&&F&2048&&eg(_.alternate,_);break;default:Io(d,_,E,N,f)}s=s.sibling}}function pu(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:pu(o,u),f&2048&&Zm(u.alternate,u);break;case 24:pu(o,u),f&2048&&eg(u.alternate,u);break;default:pu(o,u)}s=s.sibling}}var yu=8192;function xo(n,s,o){if(n.subtreeFlags&yu)for(n=n.child;n!==null;)l0(n,s,o),n=n.sibling}function l0(n,s,o){switch(n.tag){case 26:xo(n,s,o),n.flags&yu&&n.memoizedState!==null&&gx(o,mi,n.memoizedState,n.memoizedProps);break;case 5:xo(n,s,o);break;case 3:case 4:var u=mi;mi=Xh(n.stateNode.containerInfo),xo(n,s,o),mi=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=yu,yu=16777216,xo(n,s,o),yu=u):xo(n,s,o));break;default:xo(n,s,o)}}function u0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function _u(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,h0(u,n)}u0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)c0(n),n=n.sibling}function c0(n){switch(n.tag){case 0:case 11:case 15:_u(n),n.flags&2048&&es(9,n,n.return);break;case 3:_u(n);break;case 12:_u(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Ph(n)):_u(n);break;default:_u(n)}}function Ph(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Yt=u,h0(u,n)}u0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:es(8,s,s.return),Ph(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Ph(s));break;default:Ph(s)}n=n.sibling}}function h0(n,s){for(;Yt!==null;){var o=Yt;switch(o.tag){case 0:case 11:case 15:es(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:tu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Yt=u;else e:for(o=n;Yt!==null;){u=Yt;var f=u.sibling,d=u.return;if(t0(u),u===o){Yt=null;break e}if(f!==null){f.return=d,Yt=f;break e}Yt=d}}}var NI={getCacheForType:function(n){var s=Jt(Ot),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return Jt(Ot).controller.signal}},DI=typeof WeakMap=="function"?WeakMap:Map,We=0,ht=null,ze=null,Fe=0,et=0,Cn=null,ts=!1,Ro=!1,tg=!1,yr=0,Tt=0,ns=0,da=0,ng=0,Nn=0,Co=0,vu=null,bn=null,ig=!1,Lh=0,f0=0,Uh=1/0,jh=null,is=null,zt=0,rs=null,No=null,_r=0,rg=0,sg=null,d0=null,bu=0,ag=null;function Dn(){return(We&2)!==0&&Fe!==0?Fe&-Fe:L.T!==null?fg():zc()}function m0(){if(Nn===0)if((Fe&536870912)===0||Ge){var n=zs;zs<<=1,(zs&3932160)===0&&(zs=262144),Nn=n}else Nn=536870912;return n=xn.current,n!==null&&(n.flags|=32),Nn}function Tn(n,s,o){(n===ht&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(Do(n,0),ss(n,Fe,Nn,!1)),Bs(n,o),((We&2)===0||n!==ht)&&(n===ht&&((We&2)===0&&(da|=o),Tt===4&&ss(n,Fe,Nn,!1)),Gi(n))}function g0(n,s,o){if((We&6)!==0)throw Error(r(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||si(n,s),f=u?VI(n,s):lg(n,s,!0),d=u;do{if(f===0){Ro&&!u&&ss(n,s,0,!1);break}else{if(o=n.current.alternate,d&&!OI(o)){f=lg(n,s,!1),d=!1;continue}if(f===2){if(d=s,n.errorRecoveryDisabledLanes&d)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var E=n;f=vu;var N=E.current.memoizedState.isDehydrated;if(N&&(Do(E,_).flags|=256),_=lg(E,_,!1),_!==2){if(tg&&!N){E.errorRecoveryDisabledLanes|=d,da|=d,f=4;break e}d=bn,bn=f,d!==null&&(bn===null?bn=d:bn.push.apply(bn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Do(n,0),ss(n,s,0,!0);break}e:{switch(u=n,d=f,d){case 0:case 1:throw Error(r(345));case 4:if((s&4194048)!==s)break;case 6:ss(u,s,Nn,!ts);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(r(329))}if((s&62914560)===s&&(f=Lh+300-un(),10<f)){if(ss(u,s,Nn,!ts),xi(u,0,!0)!==0)break e;_r=s,u.timeoutHandle=K0(p0.bind(null,u,o,bn,jh,ig,s,Nn,da,Co,ts,d,"Throttled",-0,0),f);break e}p0(u,o,bn,jh,ig,s,Nn,da,Co,ts,d,null,-0,0)}}break}while(!0);Gi(n)}function p0(n,s,o,u,f,d,_,E,N,F,Y,J,q,G){if(n.timeoutHandle=-1,J=s.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},l0(s,d,J);var de=(d&62914560)===d?Lh-un():(d&4194048)===d?f0-un():0;if(de=px(J,de),de!==null){_r=d,n.cancelPendingCommit=de(S0.bind(null,n,s,d,o,u,f,_,E,N,Y,J,null,q,G)),ss(n,d,_,!F);return}}S0(n,s,d,o,u,f,_,E,N)}function OI(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],d=f.getSnapshot;f=f.value;try{if(!An(d(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ss(n,s,o,u){s&=~ng,s&=~da,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var d=31-wt(f),_=1<<d;u[d]=-1,f&=~_}o!==0&&Fs(n,o,s)}function zh(){return(We&6)===0?(Tu(0),!1):!0}function og(){if(ze!==null){if(et===0)var n=ze.return;else n=ze,or=ra=null,wm(n),To=null,iu=0,n=ze;for(;n!==null;)Yv(n.alternate,n),n=n.return;ze=null}}function Do(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,JI(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),_r=0,og(),ht=n,ze=o=sr(n.current,null),Fe=s,et=0,Cn=null,ts=!1,Ro=si(n,s),tg=!1,Co=Nn=ng=da=ns=Tt=0,bn=vu=null,ig=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-wt(u),d=1<<f;s|=n[f],u&=~d}return yr=s,oh(),o}function y0(n,s){Pe=null,L.H=hu,s===bo||s===gh?(s=M_(),et=3):s===hm?(s=M_(),et=4):et=s===jm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Cn=s,ze===null&&(Tt=1,Ch(n,Gn(s,n.current)))}function _0(){var n=xn.current;return n===null?!0:(Fe&4194048)===Fe?Xn===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?n===Xn:!1}function v0(){var n=L.H;return L.H=hu,n===null?hu:n}function b0(){var n=L.A;return L.A=NI,n}function Bh(){Tt=4,ts||(Fe&4194048)!==Fe&&xn.current!==null||(Ro=!0),(ns&134217727)===0&&(da&134217727)===0||ht===null||ss(ht,Fe,Nn,!1)}function lg(n,s,o){var u=We;We|=2;var f=v0(),d=b0();(ht!==n||Fe!==s)&&(jh=null,Do(n,s)),s=!1;var _=Tt;e:do try{if(et!==0&&ze!==null){var E=ze,N=Cn;switch(et){case 8:og(),_=6;break e;case 3:case 2:case 9:case 6:xn.current===null&&(s=!0);var F=et;if(et=0,Cn=null,Oo(n,E,N,F),o&&Ro){_=0;break e}break;default:F=et,et=0,Cn=null,Oo(n,E,N,F)}}MI(),_=Tt;break}catch(Y){y0(n,Y)}while(!0);return s&&n.shellSuspendCounter++,or=ra=null,We=u,L.H=f,L.A=d,ze===null&&(ht=null,Fe=0,oh()),_}function MI(){for(;ze!==null;)T0(ze)}function VI(n,s){var o=We;We|=2;var u=v0(),f=b0();ht!==n||Fe!==s?(jh=null,Uh=un()+500,Do(n,s)):Ro=si(n,s);e:do try{if(et!==0&&ze!==null){s=ze;var d=Cn;t:switch(et){case 1:et=0,Cn=null,Oo(n,s,d,1);break;case 2:case 9:if(D_(d)){et=0,Cn=null,E0(s);break}s=function(){et!==2&&et!==9||ht!==n||(et=7),Gi(n)},d.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:D_(d)?(et=0,Cn=null,E0(s)):(et=0,Cn=null,Oo(n,s,d,7));break;case 5:var _=null;switch(ze.tag){case 26:_=ze.memoizedState;case 5:case 27:var E=ze;if(_?ob(_):E.stateNode.complete){et=0,Cn=null;var N=E.sibling;if(N!==null)ze=N;else{var F=E.return;F!==null?(ze=F,Fh(F)):ze=null}break t}}et=0,Cn=null,Oo(n,s,d,5);break;case 6:et=0,Cn=null,Oo(n,s,d,6);break;case 8:og(),Tt=6;break e;default:throw Error(r(462))}}kI();break}catch(Y){y0(n,Y)}while(!0);return or=ra=null,L.H=u,L.A=f,We=o,ze!==null?0:(ht=null,Fe=0,oh(),Tt)}function kI(){for(;ze!==null&&!Ud();)T0(ze)}function T0(n){var s=Gv(n.alternate,n,yr);n.memoizedProps=n.pendingProps,s===null?Fh(n):ze=s}function E0(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=jv(o,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=jv(o,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:wm(s);default:Yv(o,s),s=ze=b_(s,yr),s=Gv(o,s,yr)}n.memoizedProps=n.pendingProps,s===null?Fh(n):ze=s}function Oo(n,s,o,u){or=ra=null,wm(s),To=null,iu=0;var f=s.return;try{if(wI(n,f,s,o,Fe)){Tt=1,Ch(n,Gn(o,n.current)),ze=null;return}}catch(d){if(f!==null)throw ze=f,d;Tt=1,Ch(n,Gn(o,n.current)),ze=null;return}s.flags&32768?(Ge||u===1?n=!0:Ro||(Fe&536870912)!==0?n=!1:(ts=n=!0,(u===2||u===9||u===3||u===6)&&(u=xn.current,u!==null&&u.tag===13&&(u.flags|=16384))),w0(s,n)):Fh(s)}function Fh(n){var s=n;do{if((s.flags&32768)!==0){w0(s,ts);return}n=s.return;var o=II(s.alternate,s,yr);if(o!==null){ze=o;return}if(s=s.sibling,s!==null){ze=s;return}ze=s=n}while(s!==null);Tt===0&&(Tt=5)}function w0(n,s){do{var o=xI(n.alternate,n);if(o!==null){o.flags&=32767,ze=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){ze=n;return}ze=n=o}while(n!==null);Tt=6,ze=null}function S0(n,s,o,u,f,d,_,E,N){n.cancelPendingCommit=null;do qh();while(zt!==0);if((We&6)!==0)throw Error(r(327));if(s!==null){if(s===n.current)throw Error(r(177));if(d=s.lanes|s.childLanes,d|=$d,Bd(n,o,d,_,E,N),n===ht&&(ze=ht=null,Fe=0),No=s,rs=n,_r=o,rg=d,sg=f,d0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,jI(kr,function(){return C0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,f=W.p,W.p=2,_=We,We|=4;try{RI(n,s,o)}finally{We=_,W.p=f,L.T=u}}zt=1,A0(),I0(),x0()}}function A0(){if(zt===1){zt=0;var n=rs,s=No,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var u=W.p;W.p=2;var f=We;We|=4;try{s0(s,n);var d=bg,_=h_(n.containerInfo),E=d.focusedElem,N=d.selectionRange;if(_!==E&&E&&E.ownerDocument&&c_(E.ownerDocument.documentElement,E)){if(N!==null&&Gd(E)){var F=N.start,Y=N.end;if(Y===void 0&&(Y=F),"selectionStart"in E)E.selectionStart=F,E.selectionEnd=Math.min(Y,E.value.length);else{var J=E.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var G=q.getSelection(),de=E.textContent.length,Ie=Math.min(N.start,de),lt=N.end===void 0?Ie:Math.min(N.end,de);!G.extend&&Ie>lt&&(_=lt,lt=Ie,Ie=_);var P=u_(E,Ie),M=u_(E,lt);if(P&&M&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==M.node||G.focusOffset!==M.offset)){var B=J.createRange();B.setStart(P.node,P.offset),G.removeAllRanges(),Ie>lt?(G.addRange(B),G.extend(M.node,M.offset)):(B.setEnd(M.node,M.offset),G.addRange(B))}}}}for(J=[],G=E;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var X=J[E];X.element.scrollLeft=X.left,X.element.scrollTop=X.top}}tf=!!vg,bg=vg=null}finally{We=f,W.p=u,L.T=o}}n.current=s,zt=2}}function I0(){if(zt===2){zt=0;var n=rs,s=No,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var u=W.p;W.p=2;var f=We;We|=4;try{e0(n,s.alternate,s)}finally{We=f,W.p=u,L.T=o}}zt=3}}function x0(){if(zt===4||zt===3){zt=0,Mc();var n=rs,s=No,o=_r,u=d0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?zt=5:(zt=0,No=rs=null,R0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(is=null),tr(o),s=s.stateNode,Xt&&typeof Xt.onCommitFiberRoot=="function")try{Xt.onCommitFiberRoot(ri,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=L.T,f=W.p,W.p=2,L.T=null;try{for(var d=n.onRecoverableError,_=0;_<u.length;_++){var E=u[_];d(E.value,{componentStack:E.stack})}}finally{L.T=s,W.p=f}}(_r&3)!==0&&qh(),Gi(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===ag?bu++:(bu=0,ag=n):bu=0,Tu(0)}}function R0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,tu(s)))}function qh(){return A0(),I0(),x0(),C0()}function C0(){if(zt!==5)return!1;var n=rs,s=rg;rg=0;var o=tr(_r),u=L.T,f=W.p;try{W.p=32>o?32:o,L.T=null,o=sg,sg=null;var d=rs,_=_r;if(zt=0,No=rs=null,_r=0,(We&6)!==0)throw Error(r(331));var E=We;if(We|=4,c0(d.current),o0(d,d.current,_,o),We=E,Tu(0,!1),Xt&&typeof Xt.onPostCommitFiberRoot=="function")try{Xt.onPostCommitFiberRoot(ri,d)}catch{}return!0}finally{W.p=f,L.T=u,R0(n,s)}}function N0(n,s,o){s=Gn(o,s),s=Um(n.stateNode,s,2),n=Wr(n,s,2),n!==null&&(Bs(n,2),Gi(n))}function tt(n,s,o){if(n.tag===3)N0(n,n,o);else for(;s!==null;){if(s.tag===3){N0(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(is===null||!is.has(u))){n=Gn(o,n),o=Dv(2),u=Wr(s,o,2),u!==null&&(Ov(o,u,s,n),Bs(u,2),Gi(u));break}}s=s.return}}function ug(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new DI;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(tg=!0,f.add(o),n=PI.bind(null,n,s,o),s.then(n,n))}function PI(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ht===n&&(Fe&o)===o&&(Tt===4||Tt===3&&(Fe&62914560)===Fe&&300>un()-Lh?(We&2)===0&&Do(n,0):ng|=o,Co===Fe&&(Co=0)),Gi(n)}function D0(n,s){s===0&&(s=jc()),n=ta(n,s),n!==null&&(Bs(n,s),Gi(n))}function LI(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),D0(n,o)}function UI(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(r(314))}u!==null&&u.delete(s),D0(n,o)}function jI(n,s){return jt(n,s)}var Hh=null,Mo=null,cg=!1,Gh=!1,hg=!1,as=0;function Gi(n){n!==Mo&&n.next===null&&(Mo===null?Hh=Mo=n:Mo=Mo.next=n),Gh=!0,cg||(cg=!0,BI())}function Tu(n,s){if(!hg&&Gh){hg=!0;do for(var o=!1,u=Hh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var d=0;else{var _=u.suspendedLanes,E=u.pingedLanes;d=(1<<31-wt(42|n)+1)-1,d&=f&~(_&~E),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(o=!0,k0(u,d))}else d=Fe,d=xi(u,u===ht?d:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(d&3)===0||si(u,d)||(o=!0,k0(u,d));u=u.next}while(o);hg=!1}}function zI(){O0()}function O0(){Gh=cg=!1;var n=0;as!==0&&WI()&&(n=as);for(var s=un(),o=null,u=Hh;u!==null;){var f=u.next,d=M0(u,s);d===0?(u.next=null,o===null?Hh=f:o.next=f,f===null&&(Mo=o)):(o=u,(n!==0||(d&3)!==0)&&(Gh=!0)),u=f}zt!==0&&zt!==5||Tu(n),as!==0&&(as=0)}function M0(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,d=n.pendingLanes&-62914561;0<d;){var _=31-wt(d),E=1<<_,N=f[_];N===-1?((E&o)===0||(E&u)!==0)&&(f[_]=zd(E,s)):N<=s&&(n.expiredLanes|=E),d&=~E}if(s=ht,o=Fe,o=xi(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(et===2||et===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Vr(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||si(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Vr(u),tr(o)){case 2:case 8:o=Dl;break;case 32:o=kr;break;case 268435456:o=Vc;break;default:o=kr}return u=V0.bind(null,n),o=jt(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Vr(u),n.callbackPriority=2,n.callbackNode=null,2}function V0(n,s){if(zt!==0&&zt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(qh()&&n.callbackNode!==o)return null;var u=Fe;return u=xi(n,n===ht?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(g0(n,u,s),M0(n,un()),n.callbackNode!=null&&n.callbackNode===o?V0.bind(null,n):null)}function k0(n,s){if(qh())return null;g0(n,s,!0)}function BI(){ZI(function(){(We&6)!==0?jt(Nl,zI):O0()})}function fg(){if(as===0){var n=_o;n===0&&(n=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),as=n}return as}function P0(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:no(""+n)}function L0(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function FI(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var d=P0((f[Gt]||null).action),_=u.submitter;_&&(s=(s=_[Gt]||null)?P0(s.formAction):_.getAttribute("formAction"),s!==null&&(d=s,_=null));var E=new Ui("action","action",null,u,f);n.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(as!==0){var N=_?L0(f,_):new FormData(f);Om(o,{pending:!0,data:N,method:f.method,action:d},null,N)}}else typeof d=="function"&&(E.preventDefault(),N=_?L0(f,_):new FormData(f),Om(o,{pending:!0,data:N,method:f.method,action:d},d,N))},currentTarget:f}]})}}for(var dg=0;dg<Xd.length;dg++){var mg=Xd[dg],qI=mg.toLowerCase(),HI=mg[0].toUpperCase()+mg.slice(1);di(qI,"on"+HI)}di(m_,"onAnimationEnd"),di(g_,"onAnimationIteration"),di(p_,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(aI,"onTransitionRun"),di(oI,"onTransitionStart"),di(lI,"onTransitionCancel"),di(y_,"onTransitionEnd"),Vi("onMouseEnter",["mouseout","mouseover"]),Vi("onMouseLeave",["mouseout","mouseover"]),Vi("onPointerEnter",["pointerout","pointerover"]),Vi("onPointerLeave",["pointerout","pointerover"]),Mi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Mi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Mi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Mi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Mi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Eu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GI=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Eu));function U0(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var d=void 0;if(s)for(var _=u.length-1;0<=_;_--){var E=u[_],N=E.instance,F=E.currentTarget;if(E=E.listener,N!==d&&f.isPropagationStopped())break e;d=E,f.currentTarget=F;try{d(f)}catch(Y){ah(Y)}f.currentTarget=null,d=N}else for(_=0;_<u.length;_++){if(E=u[_],N=E.instance,F=E.currentTarget,E=E.listener,N!==d&&f.isPropagationStopped())break e;d=E,f.currentTarget=F;try{d(f)}catch(Y){ah(Y)}f.currentTarget=null,d=N}}}}function Be(n,s){var o=s[Wa];o===void 0&&(o=s[Wa]=new Set);var u=n+"__bubble";o.has(u)||(j0(s,n,2,!1),o.add(u))}function gg(n,s,o){var u=0;s&&(u|=4),j0(o,n,u,s)}var Kh="_reactListening"+Math.random().toString(36).slice(2);function pg(n){if(!n[Kh]){n[Kh]=!0,Vl.forEach(function(o){o!=="selectionchange"&&(GI.has(o)||gg(o,!1,n),gg(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[Kh]||(s[Kh]=!0,gg("selectionchange",!1,s))}}function j0(n,s,o,u){switch(mb(s)){case 2:var f=vx;break;case 8:f=bx;break;default:f=Dg}o=f.bind(null,s,o,n),f=void 0,!Ys||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function yg(n,s,o,u,f){var d=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var E=u.stateNode.containerInfo;if(E===f)break;if(_===4)for(_=u.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;E!==null;){if(_=Di(E),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){u=d=_;continue e}E=E.parentNode}}u=u.return}Br(function(){var F=d,Y=Bn(o),J=[];e:{var q=__.get(n);if(q!==void 0){var G=Ui,de=n;switch(n){case"keypress":if(Xs(o)===0)break e;case"keydown":case"keyup":G=ih;break;case"focusin":de="focus",G=Ws;break;case"focusout":de="blur",G=Ws;break;case"beforeblur":case"afterblur":G=Ws;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=Yl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=Qc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case m_:case g_:case p_:G=$c;break;case y_:G=S;break;case"scroll":case"scrollend":G=Kl;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=Wc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=rr;break;case"toggle":case"beforetoggle":G=ke}var Ie=(s&4)!==0,lt=!Ie&&(n==="scroll"||n==="scrollend"),P=Ie?q!==null?q+"Capture":null:q;Ie=[];for(var M=F,B;M!==null;){var X=M;if(B=X.stateNode,X=X.tag,X!==5&&X!==26&&X!==27||B===null||P===null||(X=ui(M,P),X!=null&&Ie.push(wu(M,X,B))),lt)break;M=M.return}0<Ie.length&&(q=new G(q,de,null,o,Y),J.push({event:q,listeners:Ie}))}}if((s&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",q&&o!==ql&&(de=o.relatedTarget||o.fromElement)&&(Di(de)||de[Ci]))break e;if((G||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,G?(de=o.relatedTarget||o.toElement,G=F,de=de?Di(de):null,de!==null&&(lt=l(de),Ie=de.tag,de!==lt||Ie!==5&&Ie!==27&&Ie!==6)&&(de=null)):(G=null,de=F),G!==de)){if(Ie=Yl,X="onMouseLeave",P="onMouseEnter",M="mouse",(n==="pointerout"||n==="pointerover")&&(Ie=rr,X="onPointerLeave",P="onPointerEnter",M="pointer"),lt=G==null?q:wn(G),B=de==null?q:wn(de),q=new Ie(X,M+"leave",G,o,Y),q.target=lt,q.relatedTarget=B,X=null,Di(Y)===F&&(Ie=new Ie(P,M+"enter",de,o,Y),Ie.target=B,Ie.relatedTarget=lt,X=Ie),lt=X,G&&de)t:{for(Ie=KI,P=G,M=de,B=0,X=P;X;X=Ie(X))B++;X=0;for(var Te=M;Te;Te=Ie(Te))X++;for(;0<B-X;)P=Ie(P),B--;for(;0<X-B;)M=Ie(M),X--;for(;B--;){if(P===M||M!==null&&P===M.alternate){Ie=P;break t}P=Ie(P),M=Ie(M)}Ie=null}else Ie=null;G!==null&&z0(J,q,G,Ie,!1),de!==null&&lt!==null&&z0(J,lt,de,Ie,!0)}}e:{if(q=F?wn(F):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Qe=i_;else if(t_(q))if(r_)Qe=iI;else{Qe=tI;var ye=eI}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?F&&to(F.elementType)&&(Qe=i_):Qe=nI;if(Qe&&(Qe=Qe(n,F))){n_(J,Qe,o,Y);break e}ye&&ye(n,q,F),n==="focusout"&&F&&q.type==="number"&&F.memoizedProps.value!=null&&zl(q,"number",q.value)}switch(ye=F?wn(F):window,n){case"focusin":(t_(ye)||ye.contentEditable==="true")&&(uo=ye,Kd=F,Jl=null);break;case"focusout":Jl=Kd=uo=null;break;case"mousedown":Yd=!0;break;case"contextmenu":case"mouseup":case"dragend":Yd=!1,f_(J,o,Y);break;case"selectionchange":if(sI)break;case"keydown":case"keyup":f_(J,o,Y)}var Le;if($e)e:{switch(n){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else lo?Js(n,o)&&(qe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(qe="onCompositionStart");qe&&(Bi&&o.locale!=="ko"&&(lo||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&lo&&(Le=Gl()):(Li=Y,Hl="value"in Li?Li.value:Li.textContent,lo=!0)),ye=Yh(F,qe),0<ye.length&&(qe=new zi(qe,n,null,o,Y),J.push({event:qe,listeners:ye}),Le?qe.data=Le:(Le=oo(o),Le!==null&&(qe.data=Le)))),(Le=qn?$A(n,o):WA(n,o))&&(qe=Yh(F,"onBeforeInput"),0<qe.length&&(ye=new zi("onBeforeInput","beforeinput",null,o,Y),J.push({event:ye,listeners:qe}),ye.data=Le)),FI(J,n,F,o,Y)}U0(J,s)})}function wu(n,s,o){return{instance:n,listener:s,currentTarget:o}}function Yh(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=ui(n,o),f!=null&&u.unshift(wu(n,f,d)),f=ui(n,s),f!=null&&u.push(wu(n,f,d))),n.tag===3)return u;n=n.return}return[]}function KI(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function z0(n,s,o,u,f){for(var d=s._reactName,_=[];o!==null&&o!==u;){var E=o,N=E.alternate,F=E.stateNode;if(E=E.tag,N!==null&&N===u)break;E!==5&&E!==26&&E!==27||F===null||(N=F,f?(F=ui(o,d),F!=null&&_.unshift(wu(o,F,N))):f||(F=ui(o,d),F!=null&&_.push(wu(o,F,N)))),o=o.return}_.length!==0&&n.push({event:s,listeners:_})}var YI=/\r\n?/g,QI=/\u0000|\uFFFD/g;function B0(n){return(typeof n=="string"?n:""+n).replace(YI,`
`).replace(QI,"")}function F0(n,s){return s=B0(s),B0(n)===s}function ot(n,s,o,u,f,d){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||pn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&pn(n,""+u);break;case"className":Sn(n,"class",u);break;case"tabIndex":Sn(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":Sn(n,o,u);break;case"style":Fl(n,u,d);break;case"data":if(s!=="object"){Sn(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=no(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(o==="formAction"?(s!=="input"&&ot(n,s,"name",f.name,f,null),ot(n,s,"formEncType",f.formEncType,f,null),ot(n,s,"formMethod",f.formMethod,f,null),ot(n,s,"formTarget",f.formTarget,f,null)):(ot(n,s,"encType",f.encType,f,null),ot(n,s,"method",f.method,f,null),ot(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=no(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=li);break;case"onScroll":u!=null&&Be("scroll",n);break;case"onScrollEnd":u!=null&&Be("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=no(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Be("beforetoggle",n),Be("toggle",n),Za(n,"popover",u);break;case"xlinkActuate":Dt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Dt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Dt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Dt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Dt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Dt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Dt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Dt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Dt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Za(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=Yc.get(o)||o,Za(n,o,u))}}function _g(n,s,o,u,f,d){switch(o){case"style":Fl(n,u,d);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(r(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(r(60));n.innerHTML=o}}break;case"children":typeof u=="string"?pn(n,u):(typeof u=="number"||typeof u=="bigint")&&pn(n,""+u);break;case"onScroll":u!=null&&Be("scroll",n);break;case"onScrollEnd":u!=null&&Be("scrollend",n);break;case"onClick":u!=null&&(n.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!kl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),d=n[Gt]||null,d=d!=null?d[o]:null,typeof d=="function"&&n.removeEventListener(s,d,f),typeof u=="function")){typeof d!="function"&&d!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):Za(n,o,u)}}}function en(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",n),Be("load",n);var u=!1,f=!1,d;for(d in o)if(o.hasOwnProperty(d)){var _=o[d];if(_!=null)switch(d){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ot(n,s,d,_,o,null)}}f&&ot(n,s,"srcSet",o.srcSet,o,null),u&&ot(n,s,"src",o.src,o,null);return;case"input":Be("invalid",n);var E=d=_=f=null,N=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var Y=o[u];if(Y!=null)switch(u){case"name":f=Y;break;case"type":_=Y;break;case"checked":N=Y;break;case"defaultChecked":F=Y;break;case"value":d=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(r(137,s));break;default:ot(n,s,u,Y,o,null)}}Hc(n,d,E,N,F,_,f,!1);return;case"select":Be("invalid",n),u=_=d=null;for(f in o)if(o.hasOwnProperty(f)&&(E=o[f],E!=null))switch(f){case"value":d=E;break;case"defaultValue":_=E;break;case"multiple":u=E;default:ot(n,s,f,E,o,null)}s=d,o=_,n.multiple=!!u,s!=null?Lr(n,!!u,s,!1):o!=null&&Lr(n,!!u,o,!0);return;case"textarea":Be("invalid",n),d=f=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(E=o[_],E!=null))switch(_){case"value":u=E;break;case"defaultValue":f=E;break;case"children":d=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(r(91));break;default:ot(n,s,_,E,o,null)}Ur(n,u,f,d);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ot(n,s,N,u,o,null)}return;case"dialog":Be("beforetoggle",n),Be("toggle",n),Be("cancel",n),Be("close",n);break;case"iframe":case"object":Be("load",n);break;case"video":case"audio":for(u=0;u<Eu.length;u++)Be(Eu[u],n);break;case"image":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"embed":case"source":case"link":Be("error",n),Be("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,s));default:ot(n,s,F,u,o,null)}return;default:if(to(s)){for(Y in o)o.hasOwnProperty(Y)&&(u=o[Y],u!==void 0&&_g(n,s,Y,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&ot(n,s,E,u,o,null))}function XI(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,E=null,N=null,F=null,Y=null;for(G in o){var J=o[G];if(o.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=J;default:u.hasOwnProperty(G)||ot(n,s,G,null,u,J)}}for(var q in u){var G=u[q];if(J=o[q],u.hasOwnProperty(q)&&(G!=null||J!=null))switch(q){case"type":d=G;break;case"name":f=G;break;case"checked":F=G;break;case"defaultChecked":Y=G;break;case"value":_=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,s));break;default:G!==J&&ot(n,s,q,G,u,J)}}eo(n,_,E,N,F,Y,d,f);return;case"select":G=_=E=q=null;for(d in o)if(N=o[d],o.hasOwnProperty(d)&&N!=null)switch(d){case"value":break;case"multiple":G=N;default:u.hasOwnProperty(d)||ot(n,s,d,null,u,N)}for(f in u)if(d=u[f],N=o[f],u.hasOwnProperty(f)&&(d!=null||N!=null))switch(f){case"value":q=d;break;case"defaultValue":E=d;break;case"multiple":_=d;default:d!==N&&ot(n,s,f,d,u,N)}s=E,o=_,u=G,q!=null?Lr(n,!!o,q,!1):!!u!=!!o&&(s!=null?Lr(n,!!o,s,!0):Lr(n,!!o,o?[]:"",!1));return;case"textarea":G=q=null;for(E in o)if(f=o[E],o.hasOwnProperty(E)&&f!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(n,s,E,null,u,f)}for(_ in u)if(f=u[_],d=o[_],u.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":q=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(r(91));break;default:f!==d&&ot(n,s,_,f,u,d)}Gc(n,q,G);return;case"option":for(var de in o)if(q=o[de],o.hasOwnProperty(de)&&q!=null&&!u.hasOwnProperty(de))switch(de){case"selected":n.selected=!1;break;default:ot(n,s,de,null,u,q)}for(N in u)if(q=u[N],G=o[N],u.hasOwnProperty(N)&&q!==G&&(q!=null||G!=null))switch(N){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ot(n,s,N,q,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ie in o)q=o[Ie],o.hasOwnProperty(Ie)&&q!=null&&!u.hasOwnProperty(Ie)&&ot(n,s,Ie,null,u,q);for(F in u)if(q=u[F],G=o[F],u.hasOwnProperty(F)&&q!==G&&(q!=null||G!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,s));break;default:ot(n,s,F,q,u,G)}return;default:if(to(s)){for(var lt in o)q=o[lt],o.hasOwnProperty(lt)&&q!==void 0&&!u.hasOwnProperty(lt)&&_g(n,s,lt,void 0,u,q);for(Y in u)q=u[Y],G=o[Y],!u.hasOwnProperty(Y)||q===G||q===void 0&&G===void 0||_g(n,s,Y,q,u,G);return}}for(var P in o)q=o[P],o.hasOwnProperty(P)&&q!=null&&!u.hasOwnProperty(P)&&ot(n,s,P,null,u,q);for(J in u)q=u[J],G=o[J],!u.hasOwnProperty(J)||q===G||q==null&&G==null||ot(n,s,J,q,u,G)}function q0(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function $I(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],d=f.transferSize,_=f.initiatorType,E=f.duration;if(d&&E&&q0(_)){for(_=0,E=f.responseEnd,u+=1;u<o.length;u++){var N=o[u],F=N.startTime;if(F>E)break;var Y=N.transferSize,J=N.initiatorType;Y&&q0(J)&&(N=N.responseEnd,_+=Y*(N<E?1:(E-F)/(N-F)))}if(--u,s+=8*(d+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var vg=null,bg=null;function Qh(n){return n.nodeType===9?n:n.ownerDocument}function H0(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G0(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Tg(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Eg=null;function WI(){var n=window.event;return n&&n.type==="popstate"?n===Eg?!1:(Eg=n,!0):(Eg=null,!1)}var K0=typeof setTimeout=="function"?setTimeout:void 0,JI=typeof clearTimeout=="function"?clearTimeout:void 0,Y0=typeof Promise=="function"?Promise:void 0,ZI=typeof queueMicrotask=="function"?queueMicrotask:typeof Y0<"u"?function(n){return Y0.resolve(null).then(n).catch(ex)}:K0;function ex(n){setTimeout(function(){throw n})}function os(n){return n==="head"}function Q0(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),Lo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Su(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Su(o);for(var d=o.firstChild;d;){var _=d.nextSibling,E=d.nodeName;d[Ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&d.rel.toLowerCase()==="stylesheet"||o.removeChild(d),d=_}}else o==="body"&&Su(n.ownerDocument.body);o=f}while(o);Lo(s)}function X0(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function wg(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":wg(o),Ja(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function tx(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ni])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(d=n.getAttribute("rel"),d==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(d!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(d=n.getAttribute("src"),(d!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===d)return n}else return n;if(n=$n(n.nextSibling),n===null)break}return null}function nx(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=$n(n.nextSibling),n===null))return null;return n}function $0(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=$n(n.nextSibling),n===null))return null;return n}function Sg(n){return n.data==="$?"||n.data==="$~"}function Ag(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function ix(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function $n(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Ig=null;function W0(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return $n(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function J0(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function Z0(n,s,o){switch(s=Qh(o),n){case"html":if(n=s.documentElement,!n)throw Error(r(452));return n;case"head":if(n=s.head,!n)throw Error(r(453));return n;case"body":if(n=s.body,!n)throw Error(r(454));return n;default:throw Error(r(451))}}function Su(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);Ja(n)}var Wn=new Map,eb=new Set;function Xh(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var vr=W.d;W.d={f:rx,r:sx,D:ax,C:ox,L:lx,m:ux,X:hx,S:cx,M:fx};function rx(){var n=vr.f(),s=zh();return n||s}function sx(n){var s=zn(n);s!==null&&s.tag===5&&s.type==="form"?yv(s):vr.r(n)}var Vo=typeof document>"u"?null:document;function tb(n,s,o){var u=Vo;if(u&&typeof s=="string"&&s){var f=gn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),eb.has(f)||(eb.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),en(s,"link",n),Nt(s),u.head.appendChild(s)))}}function ax(n){vr.D(n),tb("dns-prefetch",n,null)}function ox(n,s){vr.C(n,s),tb("preconnect",n,s)}function lx(n,s,o){vr.L(n,s,o);var u=Vo;if(u&&n&&s){var f='link[rel="preload"][as="'+gn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+gn(o.imageSizes)+'"]')):f+='[href="'+gn(n)+'"]';var d=f;switch(s){case"style":d=ko(n);break;case"script":d=Po(n)}Wn.has(d)||(n=T({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Wn.set(d,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(Au(d))||s==="script"&&u.querySelector(Iu(d))||(s=u.createElement("link"),en(s,"link",n),Nt(s),u.head.appendChild(s)))}}function ux(n,s){vr.m(n,s);var o=Vo;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+gn(u)+'"][href="'+gn(n)+'"]',d=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=Po(n)}if(!Wn.has(d)&&(n=T({rel:"modulepreload",href:n},s),Wn.set(d,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Iu(d)))return}u=o.createElement("link"),en(u,"link",n),Nt(u),o.head.appendChild(u)}}}function cx(n,s,o){vr.S(n,s,o);var u=Vo;if(u&&n){var f=Oi(u).hoistableStyles,d=ko(n);s=s||"default";var _=f.get(d);if(!_){var E={loading:0,preload:null};if(_=u.querySelector(Au(d)))E.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Wn.get(d))&&xg(n,o);var N=_=u.createElement("link");Nt(N),en(N,"link",n),N._p=new Promise(function(F,Y){N.onload=F,N.onerror=Y}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,$h(_,s,u)}_={type:"stylesheet",instance:_,count:1,state:E},f.set(d,_)}}}function hx(n,s){vr.X(n,s);var o=Vo;if(o&&n){var u=Oi(o).hoistableScripts,f=Po(n),d=u.get(f);d||(d=o.querySelector(Iu(f)),d||(n=T({src:n,async:!0},s),(s=Wn.get(f))&&Rg(n,s),d=o.createElement("script"),Nt(d),en(d,"link",n),o.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function fx(n,s){vr.M(n,s);var o=Vo;if(o&&n){var u=Oi(o).hoistableScripts,f=Po(n),d=u.get(f);d||(d=o.querySelector(Iu(f)),d||(n=T({src:n,async:!0,type:"module"},s),(s=Wn.get(f))&&Rg(n,s),d=o.createElement("script"),Nt(d),en(d,"link",n),o.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},u.set(f,d))}}function nb(n,s,o,u){var f=(f=De.current)?Xh(f):null;if(!f)throw Error(r(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=ko(o.href),o=Oi(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=ko(o.href);var d=Oi(f).hoistableStyles,_=d.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(n,_),(d=f.querySelector(Au(n)))&&!d._p&&(_.instance=d,_.state.loading=5),Wn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Wn.set(n,o),d||dx(f,n,o,_.state))),s&&u===null)throw Error(r(528,""));return _}if(s&&u!==null)throw Error(r(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Po(o),o=Oi(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,n))}}function ko(n){return'href="'+gn(n)+'"'}function Au(n){return'link[rel="stylesheet"]['+n+"]"}function ib(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function dx(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),en(s,"link",o),Nt(s),n.head.appendChild(s))}function Po(n){return'[src="'+gn(n)+'"]'}function Iu(n){return"script[async]"+n}function rb(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+gn(o.href)+'"]');if(u)return s.instance=u,Nt(u),u;var f=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Nt(u),en(u,"style",f),$h(u,o.precedence,n),s.instance=u;case"stylesheet":f=ko(o.href);var d=n.querySelector(Au(f));if(d)return s.state.loading|=4,s.instance=d,Nt(d),d;u=ib(o),(f=Wn.get(f))&&xg(u,f),d=(n.ownerDocument||n).createElement("link"),Nt(d);var _=d;return _._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),en(d,"link",u),s.state.loading|=4,$h(d,o.precedence,n),s.instance=d;case"script":return d=Po(o.src),(f=n.querySelector(Iu(d)))?(s.instance=f,Nt(f),f):(u=o,(f=Wn.get(d))&&(u=T({},o),Rg(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Nt(f),en(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(r(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,$h(u,o.precedence,n));return s.instance}function $h(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,d=f,_=0;_<u.length;_++){var E=u[_];if(E.dataset.precedence===s)d=E;else if(d!==f)break}d?d.parentNode.insertBefore(n,d.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function xg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function Rg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var Wh=null;function sb(n,s,o){if(Wh===null){var u=new Map,f=Wh=new Map;f.set(o,u)}else f=Wh,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var d=o[f];if(!(d[Ni]||d[Ct]||n==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(s)||"";_=n+_;var E=u.get(_);E?E.push(d):u.set(_,[d])}}return u}function ab(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function mx(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function ob(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function gx(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=ko(u.href),d=s.querySelector(Au(f));if(d){s=d._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=Jh.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=d,Nt(d);return}d=s.ownerDocument||s,u=ib(u),(f=Wn.get(f))&&xg(u,f),d=d.createElement("link"),Nt(d);var _=d;_._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),en(d,"link",u),o.instance=d}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=Jh.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var Cg=0;function px(n,s){return n.stylesheets&&n.count===0&&ef(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&ef(n,n.stylesheets),n.unsuspend){var d=n.unsuspend;n.unsuspend=null,d()}},6e4+s);0<n.imgBytes&&Cg===0&&(Cg=62500*$I());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&ef(n,n.stylesheets),n.unsuspend)){var d=n.unsuspend;n.unsuspend=null,d()}},(n.imgBytes>Cg?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function Jh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ef(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var Zh=null;function ef(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,Zh=new Map,s.forEach(yx,n),Zh=null,Jh.call(n))}function yx(n,s){if(!(s.state.loading&4)){var o=Zh.get(n);if(o)var u=o.get(null);else{o=new Map,Zh.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}f=s.instance,_=f.getAttribute("data-precedence"),d=o.get(_)||u,d===u&&o.set(null,f),o.set(_,f),this.count++,u=Jh.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),d?d.parentNode.insertBefore(f,d.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var xu={$$typeof:ae,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function _x(n,s,o,u,f,d,_,E,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function lb(n,s,o,u,f,d,_,E,N,F,Y,J){return n=new _x(n,s,o,_,N,F,Y,J,E),s=1,d===!0&&(s|=24),d=In(3,null,null,s),n.current=d,d.stateNode=n,s=lm(),s.refCount++,n.pooledCache=s,s.refCount++,d.memoizedState={element:u,isDehydrated:o,cache:s},fm(d),n}function ub(n){return n?(n=fo,n):fo}function cb(n,s,o,u,f,d){f=ub(f),u.context===null?u.context=f:u.pendingContext=f,u=$r(s),u.payload={element:o},d=d===void 0?null:d,d!==null&&(u.callback=d),o=Wr(n,u,s),o!==null&&(Tn(o,n,s),su(o,n,s))}function hb(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Ng(n,s){hb(n,s),(n=n.alternate)&&hb(n,s)}function fb(n){if(n.tag===13||n.tag===31){var s=ta(n,67108864);s!==null&&Tn(s,n,67108864),Ng(n,67108864)}}function db(n){if(n.tag===13||n.tag===31){var s=Dn();s=qs(s);var o=ta(n,s);o!==null&&Tn(o,n,s),Ng(n,s)}}var tf=!0;function vx(n,s,o,u){var f=L.T;L.T=null;var d=W.p;try{W.p=2,Dg(n,s,o,u)}finally{W.p=d,L.T=f}}function bx(n,s,o,u){var f=L.T;L.T=null;var d=W.p;try{W.p=8,Dg(n,s,o,u)}finally{W.p=d,L.T=f}}function Dg(n,s,o,u){if(tf){var f=Og(u);if(f===null)yg(n,s,u,nf,o),gb(n,u);else if(Ex(f,n,s,o,u))u.stopPropagation();else if(gb(n,u),s&4&&-1<Tx.indexOf(n)){for(;f!==null;){var d=zn(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=Ii(d.pendingLanes);if(_!==0){var E=d;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var N=1<<31-wt(_);E.entanglements[1]|=N,_&=~N}Gi(d),(We&6)===0&&(Uh=un()+500,Tu(0))}}break;case 31:case 13:E=ta(d,2),E!==null&&Tn(E,d,2),zh(),Ng(d,2)}if(d=Og(u),d===null&&yg(n,s,u,nf,o),d===f)break;f=d}f!==null&&u.stopPropagation()}else yg(n,s,u,null,o)}}function Og(n){return n=Bn(n),Mg(n)}var nf=null;function Mg(n){if(nf=null,n=Di(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=m(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return nf=n,null}function mb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(js()){case Nl:return 2;case Dl:return 8;case kr:case jd:return 32;case Vc:return 268435456;default:return 32}default:return 32}}var Vg=!1,ls=null,us=null,cs=null,Ru=new Map,Cu=new Map,hs=[],Tx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function gb(n,s){switch(n){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Ru.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cu.delete(s.pointerId)}}function Nu(n,s,o,u,f,d){return n===null||n.nativeEvent!==d?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:d,targetContainers:[f]},s!==null&&(s=zn(s),s!==null&&fb(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function Ex(n,s,o,u,f){switch(s){case"focusin":return ls=Nu(ls,n,s,o,u,f),!0;case"dragenter":return us=Nu(us,n,s,o,u,f),!0;case"mouseover":return cs=Nu(cs,n,s,o,u,f),!0;case"pointerover":var d=f.pointerId;return Ru.set(d,Nu(Ru.get(d)||null,n,s,o,u,f)),!0;case"gotpointercapture":return d=f.pointerId,Cu.set(d,Nu(Cu.get(d)||null,n,s,o,u,f)),!0}return!1}function pb(n){var s=Di(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,ai(n.priority,function(){db(o)});return}}else if(s===31){if(s=m(o),s!==null){n.blockedOn=s,ai(n.priority,function(){db(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function rf(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=Og(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);ql=u,o.target.dispatchEvent(u),ql=null}else return s=zn(o),s!==null&&fb(s),n.blockedOn=o,!1;s.shift()}return!0}function yb(n,s,o){rf(n)&&o.delete(s)}function wx(){Vg=!1,ls!==null&&rf(ls)&&(ls=null),us!==null&&rf(us)&&(us=null),cs!==null&&rf(cs)&&(cs=null),Ru.forEach(yb),Cu.forEach(yb)}function sf(n,s){n.blockedOn===s&&(n.blockedOn=null,Vg||(Vg=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,wx)))}var af=null;function _b(n){af!==n&&(af=n,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){af===n&&(af=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(Mg(u||o)===null)continue;break}var d=zn(o);d!==null&&(n.splice(s,3),s-=3,Om(d,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function Lo(n){function s(N){return sf(N,n)}ls!==null&&sf(ls,n),us!==null&&sf(us,n),cs!==null&&sf(cs,n),Ru.forEach(s),Cu.forEach(s);for(var o=0;o<hs.length;o++){var u=hs[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<hs.length&&(o=hs[0],o.blockedOn===null);)pb(o),o.blockedOn===null&&hs.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],d=o[u+1],_=f[Gt]||null;if(typeof d=="function")_||_b(o);else if(_){var E=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[Gt]||null)E=_.formAction;else if(Mg(f)!==null)continue}else E=_.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),_b(o)}}}function vb(){function n(d){d.canIntercept&&d.info==="react-transition"&&d.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var d=navigation.currentEntry;d&&d.url!=null&&navigation.navigate(d.url,{state:d.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function kg(n){this._internalRoot=n}of.prototype.render=kg.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(r(409));var o=s.current,u=Dn();cb(o,u,n,s,null,null)},of.prototype.unmount=kg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;cb(n.current,2,null,n,null,null),zh(),s[Ci]=null}};function of(n){this._internalRoot=n}of.prototype.unstable_scheduleHydration=function(n){if(n){var s=zc();n={blockedOn:null,target:n,priority:s};for(var o=0;o<hs.length&&s!==0&&s<hs[o].priority;o++);hs.splice(o,0,n),o===0&&pb(n)}};var bb=e.version;if(bb!=="19.2.3")throw Error(r(527,bb,"19.2.3"));W.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(r(188)):(n=Object.keys(n).join(","),Error(r(268,n)));return n=p(s),n=n!==null?b(n):null,n=n===null?null:n.stateNode,n};var Sx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var lf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lf.isDisabled&&lf.supportsFiber)try{ri=lf.inject(Sx),Xt=lf}catch{}}return Ou.createRoot=function(n,s){if(!a(n))throw Error(r(299));var o=!1,u="",f=xv,d=Rv,_=Cv;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(d=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=lb(n,1,!1,null,null,o,u,null,f,d,_,vb),n[Ci]=s.current,pg(n),new kg(s)},Ou.hydrateRoot=function(n,s,o){if(!a(n))throw Error(r(299));var u=!1,f="",d=xv,_=Rv,E=Cv,N=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(d=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(N=o.formState)),s=lb(n,1,!0,s,o??null,u,f,N,d,_,E,vb),s.context=ub(null),o=s.current,u=Dn(),u=qs(u),f=$r(u),f.callback=null,Wr(o,f,u),o=u,s.current.lanes=o,Bs(s,o),Gi(s),n[Ci]=s.current,pg(n),new of(s)},Ou.version="19.2.3",Ou}var Nb;function Vx(){if(Nb)return Ug.exports;Nb=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Ug.exports=Mx(),Ug.exports}var kx=Vx();const Px="modulepreload",Lx=function(i){return"/subscription-tracker/"+i},Db={},Ux=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let g=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),m=c?.nonce||c?.getAttribute("nonce");a=g(t.map(p=>{if(p=Lx(p),p in Db)return;Db[p]=!0;const b=p.endsWith(".css"),T=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${T}`))return;const I=document.createElement("link");if(I.rel=b?"stylesheet":Px,b||(I.as="script"),I.crossOrigin="",I.href=p,m&&I.setAttribute("nonce",m),document.head.appendChild(I),b)return new Promise((U,Q)=>{I.addEventListener("load",U),I.addEventListener("error",()=>Q(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const m=new Event("vite:preloadError",{cancelable:!0});if(m.payload=c,window.dispatchEvent(m),!m.defaultPrevented)throw c}return a.then(c=>{for(const m of c||[])m.status==="rejected"&&l(m.reason);return e().catch(l)})},jx=()=>{};var Ob={};const QE=function(i){const e=[];let t=0;for(let r=0;r<i.length;r++){let a=i.charCodeAt(r);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&r+1<i.length&&(i.charCodeAt(r+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++r)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},zx=function(i){const e=[];let t=0,r=0;for(;t<i.length;){const a=i[t++];if(a<128)e[r++]=String.fromCharCode(a);else if(a>191&&a<224){const l=i[t++];e[r++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=i[t++],c=i[t++],m=i[t++],g=((a&7)<<18|(l&63)<<12|(c&63)<<6|m&63)-65536;e[r++]=String.fromCharCode(55296+(g>>10)),e[r++]=String.fromCharCode(56320+(g&1023))}else{const l=i[t++],c=i[t++];e[r++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},XE={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let a=0;a<i.length;a+=3){const l=i[a],c=a+1<i.length,m=c?i[a+1]:0,g=a+2<i.length,p=g?i[a+2]:0,b=l>>2,T=(l&3)<<4|m>>4;let I=(m&15)<<2|p>>6,U=p&63;g||(U=64,c||(I=64)),r.push(t[b],t[T],t[I],t[U])}return r.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(QE(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):zx(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let a=0;a<i.length;){const l=t[i.charAt(a++)],m=a<i.length?t[i.charAt(a)]:0;++a;const p=a<i.length?t[i.charAt(a)]:64;++a;const T=a<i.length?t[i.charAt(a)]:64;if(++a,l==null||m==null||p==null||T==null)throw new Bx;const I=l<<2|m>>4;if(r.push(I),p!==64){const U=m<<4&240|p>>2;if(r.push(U),T!==64){const Q=p<<6&192|T;r.push(Q)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class Bx extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Fx=function(i){const e=QE(i);return XE.encodeByteArray(e,!0)},Pf=function(i){return Fx(i).replace(/\./g,"")},$E=function(i){try{return XE.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function WE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const qx=()=>WE().__FIREBASE_DEFAULTS__,Hx=()=>{if(typeof process>"u"||typeof Ob>"u")return;const i=Ob.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},Gx=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&$E(i[1]);return e&&JSON.parse(e)},fd=()=>{try{return jx()||qx()||Hx()||Gx()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},JE=i=>fd()?.emulatorHosts?.[i],Kx=i=>{const e=JE(i);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ZE=()=>fd()?.config,ew=i=>fd()?.[`_${i}`];class Yx{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}function vl(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tw(i){return(await fetch(i,{credentials:"include"})).ok}function Qx(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",a=i.iat||0,l=i.sub||i.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${r}`,aud:r,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...i};return[Pf(JSON.stringify(t)),Pf(JSON.stringify(c)),""].join(".")}const Qu={};function Xx(){const i={prod:[],emulator:[]};for(const e of Object.keys(Qu))Qu[e]?i.emulator.push(e):i.prod.push(e);return i}function $x(i){let e=document.getElementById(i),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),t=!0),{created:t,element:e}}let Mb=!1;function nw(i,e){if(typeof window>"u"||typeof document>"u"||!vl(window.location.host)||Qu[i]===e||Qu[i]||Mb)return;Qu[i]=e;function t(I){return`__firebase__banner__${I}`}const r="__firebase__banner",l=Xx().prod.length>0;function c(){const I=document.getElementById(r);I&&I.remove()}function m(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,U){I.setAttribute("width","24"),I.setAttribute("id",U),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function p(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Mb=!0,c()},I}function b(I,U){I.setAttribute("id",U),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function T(){const I=$x(r),U=t("text"),Q=document.getElementById(U)||document.createElement("span"),ee=t("learnmore"),te=document.getElementById(ee)||document.createElement("a"),ue=t("preprendIcon"),fe=document.getElementById(ue)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ae=I.element;m(ae),b(te,ee);const Ee=p();g(fe,ue),ae.append(fe,Q,te,Ee),document.body.appendChild(ae)}l?(Q.innerText="Preview backend disconnected.",fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",U)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Wx(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function iw(){const i=fd()?.forceEnvironment;if(i==="node")return!0;if(i==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jx(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function rw(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function Zx(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function eR(){const i=qt();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function sw(){return!iw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aw(){return!iw()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function Yp(){try{return typeof indexedDB=="object"}catch{return!1}}function ow(){return new Promise((i,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(r);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(r),i(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}function tR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const nR="FirebaseError";class Ei extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=nR,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ha.prototype.create)}}class Ha{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?iR(l,r):"Error",m=`${this.serviceName}: ${c} (${a}).`;return new Ei(a,m,r)}}function iR(i,e){return i.replace(rR,(t,r)=>{const a=e[r];return a!=null?String(a):`<${r}?>`})}const rR=/\{\$([^}]+)}/g;function sR(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function Ns(i,e){if(i===e)return!0;const t=Object.keys(i),r=Object.keys(e);for(const a of t){if(!r.includes(a))return!1;const l=i[a],c=e[a];if(Vb(l)&&Vb(c)){if(!Ns(l,c))return!1}else if(l!==c)return!1}for(const a of r)if(!t.includes(a))return!1;return!0}function Vb(i){return i!==null&&typeof i=="object"}function bc(i){const e=[];for(const[t,r]of Object.entries(i))Array.isArray(r)?r.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function aR(i,e){const t=new oR(i,e);return t.subscribe.bind(t)}class oR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let a;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");lR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:r},a.next===void 0&&(a.next=Fg),a.error===void 0&&(a.error=Fg),a.complete===void 0&&(a.complete=Fg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lR(i,e){if(typeof i!="object"||i===null)return!1;for(const t of e)if(t in i&&typeof i[t]=="function")return!0;return!1}function Fg(){}const uR=1e3,cR=2,hR=14400*1e3,fR=.5;function kb(i,e=uR,t=cR){const r=e*Math.pow(t,i),a=Math.round(fR*r*(Math.random()-.5)*2);return Math.min(hR,r+a)}function ln(i){return i&&i._delegate?i._delegate:i}class Ti{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const pa="[DEFAULT]";class dR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Yx;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&r.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),r=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(r)return null;throw a}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(gR(e))try{this.getOrInitializeService({instanceIdentifier:pa})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});r.resolve(l)}catch{}}}}clearInstance(e=pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pa){return this.instances.has(e)}getOptions(e=pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[l,c]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(l);r===m&&c.resolve(a)}return a}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(r)??new Set;a.add(e),this.onInitCallbacks.set(r,a);const l=this.instances.get(r);return l&&e(l,r),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const a of r)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:mR(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pa){return this.component?this.component.multipleInstances?e:pa:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function mR(i){return i===pa?void 0:i}function gR(i){return i.instantiationMode==="EAGER"}class pR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new dR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var He;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(He||(He={}));const yR={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},_R=He.INFO,vR={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},bR=(i,e,...t)=>{if(e<i.logLevel)return;const r=new Date().toISOString(),a=vR[e];if(a)console[a](`[${r}]  ${i.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class dd{constructor(e){this.name=e,this._logLevel=_R,this._logHandler=bR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?yR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const TR=(i,e)=>e.some(t=>i instanceof t);let Pb,Lb;function ER(){return Pb||(Pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function wR(){return Lb||(Lb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lw=new WeakMap,up=new WeakMap,uw=new WeakMap,qg=new WeakMap,Qp=new WeakMap;function SR(i){const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("success",l),i.removeEventListener("error",c)},l=()=>{t(Is(i.result)),a()},c=()=>{r(i.error),a()};i.addEventListener("success",l),i.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&lw.set(t,i)}).catch(()=>{}),Qp.set(e,i),e}function AR(i){if(up.has(i))return;const e=new Promise((t,r)=>{const a=()=>{i.removeEventListener("complete",l),i.removeEventListener("error",c),i.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{r(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",l),i.addEventListener("error",c),i.addEventListener("abort",c)});up.set(i,e)}let cp={get(i,e,t){if(i instanceof IDBTransaction){if(e==="done")return up.get(i);if(e==="objectStoreNames")return i.objectStoreNames||uw.get(i);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(i[e])},set(i,e,t){return i[e]=t,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function IR(i){cp=i(cp)}function xR(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=i.call(Hg(this),e,...t);return uw.set(r,e.sort?e.sort():[e]),Is(r)}:wR().includes(i)?function(...e){return i.apply(Hg(this),e),Is(lw.get(this))}:function(...e){return Is(i.apply(Hg(this),e))}}function RR(i){return typeof i=="function"?xR(i):(i instanceof IDBTransaction&&AR(i),TR(i,ER())?new Proxy(i,cp):i)}function Is(i){if(i instanceof IDBRequest)return SR(i);if(qg.has(i))return qg.get(i);const e=RR(i);return e!==i&&(qg.set(i,e),Qp.set(e,i)),e}const Hg=i=>Qp.get(i);function cw(i,e,{blocked:t,upgrade:r,blocking:a,terminated:l}={}){const c=indexedDB.open(i,e),m=Is(c);return r&&c.addEventListener("upgradeneeded",g=>{r(Is(c.result),g.oldVersion,g.newVersion,Is(c.transaction),g)}),t&&c.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),m.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),m}const CR=["get","getKey","getAll","getAllKeys","count"],NR=["put","add","delete","clear"],Gg=new Map;function Ub(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Gg.get(e))return Gg.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,a=NR.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(a||CR.includes(t)))return;const l=async function(c,...m){const g=this.transaction(c,a?"readwrite":"readonly");let p=g.store;return r&&(p=p.index(m.shift())),(await Promise.all([p[t](...m),a&&g.done]))[0]};return Gg.set(e,l),l}IR(i=>({...i,get:(e,t,r)=>Ub(e,t)||i.get(e,t,r),has:(e,t)=>!!Ub(e,t)||i.has(e,t)}));class DR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(OR(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function OR(i){return i.getComponent()?.type==="VERSION"}const hp="@firebase/app",jb="0.14.8";const Rr=new dd("@firebase/app"),MR="@firebase/app-compat",VR="@firebase/analytics-compat",kR="@firebase/analytics",PR="@firebase/app-check-compat",LR="@firebase/app-check",UR="@firebase/auth",jR="@firebase/auth-compat",zR="@firebase/database",BR="@firebase/data-connect",FR="@firebase/database-compat",qR="@firebase/functions",HR="@firebase/functions-compat",GR="@firebase/installations",KR="@firebase/installations-compat",YR="@firebase/messaging",QR="@firebase/messaging-compat",XR="@firebase/performance",$R="@firebase/performance-compat",WR="@firebase/remote-config",JR="@firebase/remote-config-compat",ZR="@firebase/storage",e2="@firebase/storage-compat",t2="@firebase/firestore",n2="@firebase/ai",i2="@firebase/firestore-compat",r2="firebase",s2="12.9.0";const fp="[DEFAULT]",a2={[hp]:"fire-core",[MR]:"fire-core-compat",[kR]:"fire-analytics",[VR]:"fire-analytics-compat",[LR]:"fire-app-check",[PR]:"fire-app-check-compat",[UR]:"fire-auth",[jR]:"fire-auth-compat",[zR]:"fire-rtdb",[BR]:"fire-data-connect",[FR]:"fire-rtdb-compat",[qR]:"fire-fn",[HR]:"fire-fn-compat",[GR]:"fire-iid",[KR]:"fire-iid-compat",[YR]:"fire-fcm",[QR]:"fire-fcm-compat",[XR]:"fire-perf",[$R]:"fire-perf-compat",[WR]:"fire-rc",[JR]:"fire-rc-compat",[ZR]:"fire-gcs",[e2]:"fire-gcs-compat",[t2]:"fire-fst",[i2]:"fire-fst-compat",[n2]:"fire-vertex","fire-js":"fire-js",[r2]:"fire-js-all"};const Lf=new Map,o2=new Map,dp=new Map;function zb(i,e){try{i.container.addComponent(e)}catch(t){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,t)}}function Ji(i){const e=i.name;if(dp.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;dp.set(e,i);for(const t of Lf.values())zb(t,i);for(const t of o2.values())zb(t,i);return!0}function Ga(i,e){const t=i.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),i.container.getProvider(e)}function yi(i){return i==null?!1:i.settings!==void 0}const l2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new Ha("app","Firebase",l2);class u2{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}const bl=s2;function hw(i,e={}){let t=i;typeof e!="object"&&(e={name:e});const r={name:fp,automaticDataCollectionEnabled:!0,...e},a=r.name;if(typeof a!="string"||!a)throw xs.create("bad-app-name",{appName:String(a)});if(t||(t=ZE()),!t)throw xs.create("no-options");const l=Lf.get(a);if(l){if(Ns(t,l.options)&&Ns(r,l.config))return l;throw xs.create("duplicate-app",{appName:a})}const c=new pR(a);for(const g of dp.values())c.addComponent(g);const m=new u2(t,r,c);return Lf.set(a,m),m}function Xp(i=fp){const e=Lf.get(i);if(!e&&i===fp&&ZE())return hw();if(!e)throw xs.create("no-app",{appName:i});return e}function ti(i,e,t){let r=a2[i]??i;t&&(r+=`-${t}`);const a=r.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${r}" with version "${e}":`];a&&c.push(`library name "${r}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(c.join(" "));return}Ji(new Ti(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}const c2="firebase-heartbeat-database",h2=1,rc="firebase-heartbeat-store";let Kg=null;function fw(){return Kg||(Kg=cw(c2,h2,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(rc)}catch(t){console.warn(t)}}}}).catch(i=>{throw xs.create("idb-open",{originalErrorMessage:i.message})})),Kg}async function f2(i){try{const t=(await fw()).transaction(rc),r=await t.objectStore(rc).get(dw(i));return await t.done,r}catch(e){if(e instanceof Ei)Rr.warn(e.message);else{const t=xs.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(t.message)}}}async function Bb(i,e){try{const r=(await fw()).transaction(rc,"readwrite");await r.objectStore(rc).put(e,dw(i)),await r.done}catch(t){if(t instanceof Ei)Rr.warn(t.message);else{const r=xs.create("idb-set",{originalErrorMessage:t?.message});Rr.warn(r.message)}}}function dw(i){return`${i.name}!${i.options.appId}`}const d2=1024,m2=30;class g2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new y2(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Fb();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(a=>a.date===r))return;if(this._heartbeatsCache.heartbeats.push({date:r,agent:t}),this._heartbeatsCache.heartbeats.length>m2){const a=_2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Fb(),{heartbeatsToSend:t,unsentEntries:r}=p2(this._heartbeatsCache.heartbeats),a=Pf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Rr.warn(e),""}}}function Fb(){return new Date().toISOString().substring(0,10)}function p2(i,e=d2){const t=[];let r=i.slice();for(const a of i){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),qb(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),qb(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class y2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Yp()?ow().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await f2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Bb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Bb(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function qb(i){return Pf(JSON.stringify({version:2,heartbeats:i})).length}function _2(i){if(i.length===0)return-1;let e=0,t=i[0].date;for(let r=1;r<i.length;r++)i[r].date<t&&(t=i[r].date,e=r);return e}function v2(i){Ji(new Ti("platform-logger",e=>new DR(e),"PRIVATE")),Ji(new Ti("heartbeat",e=>new g2(e),"PRIVATE")),ti(hp,jb,i),ti(hp,jb,"esm2020"),ti("fire-js","")}v2("");var b2="firebase",T2="12.9.0";ti(b2,T2,"app");const mw="@firebase/installations",$p="0.6.19";const gw=1e4,pw=`w:${$p}`,yw="FIS_v2",E2="https://firebaseinstallations.googleapis.com/v1",w2=3600*1e3,S2="installations",A2="Installations";const I2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Va=new Ha(S2,A2,I2);function _w(i){return i instanceof Ei&&i.code.includes("request-failed")}function vw({projectId:i}){return`${E2}/projects/${i}/installations`}function bw(i){return{token:i.token,requestStatus:2,expiresIn:R2(i.expiresIn),creationTime:Date.now()}}async function Tw(i,e){const r=(await e.json()).error;return Va.create("request-failed",{requestName:i,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function Ew({apiKey:i}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":i})}function x2(i,{refreshToken:e}){const t=Ew(i);return t.append("Authorization",C2(e)),t}async function ww(i){const e=await i();return e.status>=500&&e.status<600?i():e}function R2(i){return Number(i.replace("s","000"))}function C2(i){return`${yw} ${i}`}async function N2({appConfig:i,heartbeatServiceProvider:e},{fid:t}){const r=vw(i),a=Ew(i),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={fid:t,authVersion:yw,appId:i.appId,sdkVersion:pw},m={method:"POST",headers:a,body:JSON.stringify(c)},g=await ww(()=>fetch(r,m));if(g.ok){const p=await g.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:bw(p.authToken)}}else throw await Tw("Create Installation",g)}function Sw(i){return new Promise(e=>{setTimeout(e,i)})}function D2(i){return btoa(String.fromCharCode(...i)).replace(/\+/g,"-").replace(/\//g,"_")}const O2=/^[cdef][\w-]{21}$/,mp="";function M2(){try{const i=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(i),i[0]=112+i[0]%16;const t=V2(i);return O2.test(t)?t:mp}catch{return mp}}function V2(i){return D2(i).substr(0,22)}function md(i){return`${i.appName}!${i.appId}`}const Aw=new Map;function Iw(i,e){const t=md(i);xw(t,e),k2(t,e)}function xw(i,e){const t=Aw.get(i);if(t)for(const r of t)r(e)}function k2(i,e){const t=P2();t&&t.postMessage({key:i,fid:e}),L2()}let Sa=null;function P2(){return!Sa&&"BroadcastChannel"in self&&(Sa=new BroadcastChannel("[Firebase] FID Change"),Sa.onmessage=i=>{xw(i.data.key,i.data.fid)}),Sa}function L2(){Aw.size===0&&Sa&&(Sa.close(),Sa=null)}const U2="firebase-installations-database",j2=1,ka="firebase-installations-store";let Yg=null;function Wp(){return Yg||(Yg=cw(U2,j2,{upgrade:(i,e)=>{switch(e){case 0:i.createObjectStore(ka)}}})),Yg}async function Uf(i,e){const t=md(i),a=(await Wp()).transaction(ka,"readwrite"),l=a.objectStore(ka),c=await l.get(t);return await l.put(e,t),await a.done,(!c||c.fid!==e.fid)&&Iw(i,e.fid),e}async function Rw(i){const e=md(i),r=(await Wp()).transaction(ka,"readwrite");await r.objectStore(ka).delete(e),await r.done}async function gd(i,e){const t=md(i),a=(await Wp()).transaction(ka,"readwrite"),l=a.objectStore(ka),c=await l.get(t),m=e(c);return m===void 0?await l.delete(t):await l.put(m,t),await a.done,m&&(!c||c.fid!==m.fid)&&Iw(i,m.fid),m}async function Jp(i){let e;const t=await gd(i.appConfig,r=>{const a=z2(r),l=B2(i,a);return e=l.registrationPromise,l.installationEntry});return t.fid===mp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function z2(i){const e=i||{fid:M2(),registrationStatus:0};return Cw(e)}function B2(i,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Va.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=F2(i,t);return{installationEntry:t,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:q2(i)}:{installationEntry:e}}async function F2(i,e){try{const t=await N2(i,e);return Uf(i.appConfig,t)}catch(t){throw _w(t)&&t.customData.serverCode===409?await Rw(i.appConfig):await Uf(i.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function q2(i){let e=await Hb(i.appConfig);for(;e.registrationStatus===1;)await Sw(100),e=await Hb(i.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:r}=await Jp(i);return r||t}return e}function Hb(i){return gd(i,e=>{if(!e)throw Va.create("installation-not-found");return Cw(e)})}function Cw(i){return H2(i)?{fid:i.fid,registrationStatus:0}:i}function H2(i){return i.registrationStatus===1&&i.registrationTime+gw<Date.now()}async function G2({appConfig:i,heartbeatServiceProvider:e},t){const r=K2(i,t),a=x2(i,t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={installation:{sdkVersion:pw,appId:i.appId}},m={method:"POST",headers:a,body:JSON.stringify(c)},g=await ww(()=>fetch(r,m));if(g.ok){const p=await g.json();return bw(p)}else throw await Tw("Generate Auth Token",g)}function K2(i,{fid:e}){return`${vw(i)}/${e}/authTokens:generate`}async function Zp(i,e=!1){let t;const r=await gd(i.appConfig,l=>{if(!Nw(l))throw Va.create("not-registered");const c=l.authToken;if(!e&&X2(c))return l;if(c.requestStatus===1)return t=Y2(i,e),l;{if(!navigator.onLine)throw Va.create("app-offline");const m=W2(l);return t=Q2(i,m),m}});return t?await t:r.authToken}async function Y2(i,e){let t=await Gb(i.appConfig);for(;t.authToken.requestStatus===1;)await Sw(100),t=await Gb(i.appConfig);const r=t.authToken;return r.requestStatus===0?Zp(i,e):r}function Gb(i){return gd(i,e=>{if(!Nw(e))throw Va.create("not-registered");const t=e.authToken;return J2(t)?{...e,authToken:{requestStatus:0}}:e})}async function Q2(i,e){try{const t=await G2(i,e),r={...e,authToken:t};return await Uf(i.appConfig,r),t}catch(t){if(_w(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Rw(i.appConfig);else{const r={...e,authToken:{requestStatus:0}};await Uf(i.appConfig,r)}throw t}}function Nw(i){return i!==void 0&&i.registrationStatus===2}function X2(i){return i.requestStatus===2&&!$2(i)}function $2(i){const e=Date.now();return e<i.creationTime||i.creationTime+i.expiresIn<e+w2}function W2(i){const e={requestStatus:1,requestTime:Date.now()};return{...i,authToken:e}}function J2(i){return i.requestStatus===1&&i.requestTime+gw<Date.now()}async function Z2(i){const e=i,{installationEntry:t,registrationPromise:r}=await Jp(e);return r?r.catch(console.error):Zp(e).catch(console.error),t.fid}async function eC(i,e=!1){const t=i;return await tC(t),(await Zp(t,e)).token}async function tC(i){const{registrationPromise:e}=await Jp(i);e&&await e}function nC(i){if(!i||!i.options)throw Qg("App Configuration");if(!i.name)throw Qg("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!i.options[t])throw Qg(t);return{appName:i.name,projectId:i.options.projectId,apiKey:i.options.apiKey,appId:i.options.appId}}function Qg(i){return Va.create("missing-app-config-values",{valueName:i})}const Dw="installations",iC="installations-internal",rC=i=>{const e=i.getProvider("app").getImmediate(),t=nC(e),r=Ga(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},sC=i=>{const e=i.getProvider("app").getImmediate(),t=Ga(e,Dw).getImmediate();return{getId:()=>Z2(t),getToken:a=>eC(t,a)}};function aC(){Ji(new Ti(Dw,rC,"PUBLIC")),Ji(new Ti(iC,sC,"PRIVATE"))}aC();ti(mw,$p);ti(mw,$p,"esm2020");const jf="analytics",oC="firebase_id",lC="origin",uC=60*1e3,cC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ey="https://www.googletagmanager.com/gtag/js";const dn=new dd("@firebase/analytics");const hC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},kn=new Ha("analytics","Analytics",hC);function fC(i){if(!i.startsWith(ey)){const e=kn.create("invalid-gtag-resource",{gtagURL:i});return dn.warn(e.message),""}return i}function Ow(i){return Promise.all(i.map(e=>e.catch(t=>t)))}function dC(i,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(i,e)),t}function mC(i,e){const t=dC("firebase-js-sdk-policy",{createScriptURL:fC}),r=document.createElement("script"),a=`${ey}?l=${i}&id=${e}`;r.src=t?t?.createScriptURL(a):a,r.async=!0,document.head.appendChild(r)}function gC(i){let e=[];return Array.isArray(window[i])?e=window[i]:window[i]=e,e}async function pC(i,e,t,r,a,l){const c=r[a];try{if(c)await e[c];else{const g=(await Ow(t)).find(p=>p.measurementId===a);g&&await e[g.appId]}}catch(m){dn.error(m)}i("config",a,l)}async function yC(i,e,t,r,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const m=await Ow(t);for(const g of c){const p=m.find(T=>T.measurementId===g),b=p&&e[p.appId];if(b)l.push(b);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),i("event",r,a||{})}catch(l){dn.error(l)}}function _C(i,e,t,r){async function a(l,...c){try{if(l==="event"){const[m,g]=c;await yC(i,e,t,m,g)}else if(l==="config"){const[m,g]=c;await pC(i,e,t,r,m,g)}else if(l==="consent"){const[m,g]=c;i("consent",m,g)}else if(l==="get"){const[m,g,p]=c;i("get",m,g,p)}else if(l==="set"){const[m]=c;i("set",m)}else i(l,...c)}catch(m){dn.error(m)}}return a}function vC(i,e,t,r,a){let l=function(...c){window[r].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=_C(l,i,e,t),{gtagCore:l,wrappedGtag:window[a]}}function bC(i){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(ey)&&t.src.includes(i))return t;return null}const TC=30,EC=1e3;class wC{constructor(e={},t=EC){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Mw=new wC;function SC(i){return new Headers({Accept:"application/json","x-goog-api-key":i})}async function AC(i){const{appId:e,apiKey:t}=i,r={method:"GET",headers:SC(t)},a=cC.replace("{app-id}",e),l=await fetch(a,r);if(l.status!==200&&l.status!==304){let c="";try{const m=await l.json();m.error?.message&&(c=m.error.message)}catch{}throw kn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function IC(i,e=Mw,t){const{appId:r,apiKey:a,measurementId:l}=i.options;if(!r)throw kn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:r};throw kn.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},m=new CC;return setTimeout(async()=>{m.abort()},uC),Vw({appId:r,apiKey:a,measurementId:l},c,m,e)}async function Vw(i,{throttleEndTimeMillis:e,backoffCount:t},r,a=Mw){const{appId:l,measurementId:c}=i;try{await xC(r,e)}catch(m){if(c)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${m?.message}]`),{appId:l,measurementId:c};throw m}try{const m=await AC(i);return a.deleteThrottleMetadata(l),m}catch(m){const g=m;if(!RC(g)){if(a.deleteThrottleMetadata(l),c)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:l,measurementId:c};throw m}const p=Number(g?.customData?.httpStatus)===503?kb(t,a.intervalMillis,TC):kb(t,a.intervalMillis),b={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return a.setThrottleMetadata(l,b),dn.debug(`Calling attemptFetch again in ${p} millis`),Vw(i,b,r,a)}}function xC(i,e){return new Promise((t,r)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);i.addEventListener(()=>{clearTimeout(l),r(kn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function RC(i){if(!(i instanceof Ei)||!i.customData)return!1;const e=Number(i.customData.httpStatus);return e===429||e===500||e===503||e===504}class CC{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function NC(i,e,t,r,a){if(a&&a.global){i("event",t,r);return}else{const l=await e,c={...r,send_to:l};i("event",t,c)}}async function DC(i,e,t,r){if(r&&r.global){const a={};for(const l of Object.keys(t))a[`user_properties.${l}`]=t[l];return i("set",a),Promise.resolve()}else{const a=await e;i("config",a,{update:!0,user_properties:t})}}async function OC(){if(Yp())try{await ow()}catch(i){return dn.warn(kn.create("indexeddb-unavailable",{errorInfo:i?.toString()}).message),!1}else return dn.warn(kn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function MC(i,e,t,r,a,l,c){const m=IC(i);m.then(I=>{t[I.measurementId]=I.appId,i.options.measurementId&&I.measurementId!==i.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${i.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>dn.error(I)),e.push(m);const g=OC().then(I=>{if(I)return r.getId()}),[p,b]=await Promise.all([m,g]);bC(l)||mC(l,p.measurementId),a("js",new Date);const T=c?.config??{};return T[lC]="firebase",T.update=!0,b!=null&&(T[oC]=b),a("config",p.measurementId,T),p.measurementId}class VC{constructor(e){this.app=e}_delete(){return delete Wo[this.app.options.appId],Promise.resolve()}}let Wo={},Kb=[];const Yb={};let Xg="dataLayer",kC="gtag",Qb,ty,Xb=!1;function PC(){const i=[];if(rw()&&i.push("This is a browser extension environment."),tR()||i.push("Cookies are not available."),i.length>0){const e=i.map((r,a)=>`(${a+1}) ${r}`).join(" "),t=kn.create("invalid-analytics-context",{errorInfo:e});dn.warn(t.message)}}function LC(i,e,t){PC();const r=i.options.appId;if(!r)throw kn.create("no-app-id");if(!i.options.apiKey)if(i.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${i.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw kn.create("no-api-key");if(Wo[r]!=null)throw kn.create("already-exists",{id:r});if(!Xb){gC(Xg);const{wrappedGtag:l,gtagCore:c}=vC(Wo,Kb,Yb,Xg,kC);ty=l,Qb=c,Xb=!0}return Wo[r]=MC(i,Kb,Yb,e,Qb,Xg,t),new VC(i)}function UC(i=Xp()){i=ln(i);const e=Ga(i,jf);return e.isInitialized()?e.getImmediate():jC(i)}function jC(i,e={}){const t=Ga(i,jf);if(t.isInitialized()){const a=t.getImmediate();if(Ns(e,t.getOptions()))return a;throw kn.create("already-initialized")}return t.initialize({options:e})}function zC(i,e,t){i=ln(i),DC(ty,Wo[i.app.options.appId],e,t).catch(r=>dn.error(r))}function BC(i,e,t,r){i=ln(i),NC(ty,Wo[i.app.options.appId],e,t,r).catch(a=>dn.error(a))}const $b="@firebase/analytics",Wb="0.10.19";function FC(){Ji(new Ti(jf,(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return LC(r,a,t)},"PUBLIC")),Ji(new Ti("analytics-internal",i,"PRIVATE")),ti($b,Wb),ti($b,Wb,"esm2020");function i(e){try{const t=e.getProvider(jf).getImmediate();return{logEvent:(r,a,l)=>BC(t,r,a,l),setUserProperties:(r,a)=>zC(t,r,a)}}catch(t){throw kn.create("interop-component-reg-failed",{reason:t})}}}FC();function kw(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qC=kw,Pw=new Ha("auth","Firebase",kw());const zf=new dd("@firebase/auth");function HC(i,...e){zf.logLevel<=He.WARN&&zf.warn(`Auth (${bl}): ${i}`,...e)}function bf(i,...e){zf.logLevel<=He.ERROR&&zf.error(`Auth (${bl}): ${i}`,...e)}function Zi(i,...e){throw iy(i,...e)}function vi(i,...e){return iy(i,...e)}function ny(i,e,t){const r={...qC(),[e]:t};return new Ha("auth","Firebase",r).create(e,{appName:i.name})}function xa(i){return ny(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function GC(i,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&Zi(i,"argument-error"),ny(i,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function iy(i,...e){if(typeof i!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=i.name),i._errorFactory.create(t,...r)}return Pw.create(i,...e)}function Re(i,e,...t){if(!i)throw iy(e,...t)}function wr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw bf(e),new Error(e)}function Cr(i,e){i||wr(e)}function gp(){return typeof self<"u"&&self.location?.href||""}function KC(){return Jb()==="http:"||Jb()==="https:"}function Jb(){return typeof self<"u"&&self.location?.protocol||null}function YC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(KC()||rw()||"connection"in navigator)?navigator.onLine:!0}function QC(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}class Tc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cr(t>e,"Short delay should be less than long delay!"),this.isMobile=Wx()||Zx()}get(){return YC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ry(i,e){Cr(i.emulator,"Emulator should always be set here");const{url:t}=i.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class Lw{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;wr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;wr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;wr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const XC={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $C=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],WC=new Tc(3e4,6e4);function sy(i,e){return i.tenantId&&!e.tenantId?{...e,tenantId:i.tenantId}:e}async function Tl(i,e,t,r,a={}){return Uw(i,a,async()=>{let l={},c={};r&&(e==="GET"?c=r:l={body:JSON.stringify(r)});const m=bc({key:i.config.apiKey,...c}).slice(1),g=await i._getAdditionalHeaders();g["Content-Type"]="application/json",i.languageCode&&(g["X-Firebase-Locale"]=i.languageCode);const p={method:e,headers:g,...l};return Jx()||(p.referrerPolicy="no-referrer"),i.emulatorConfig&&vl(i.emulatorConfig.host)&&(p.credentials="include"),Lw.fetch()(await jw(i,i.config.apiHost,t,m),p)})}async function Uw(i,e,t){i._canInitEmulator=!1;const r={...XC,...e};try{const a=new ZC(i),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw uf(i,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const m=l.ok?c.errorMessage:c.error.message,[g,p]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw uf(i,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw uf(i,"email-already-in-use",c);if(g==="USER_DISABLED")throw uf(i,"user-disabled",c);const b=r[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ny(i,b,p);Zi(i,b)}}catch(a){if(a instanceof Ei)throw a;Zi(i,"network-request-failed",{message:String(a)})}}async function JC(i,e,t,r,a={}){const l=await Tl(i,e,t,r,a);return"mfaPendingCredential"in l&&Zi(i,"multi-factor-auth-required",{_serverResponse:l}),l}async function jw(i,e,t,r){const a=`${e}${t}?${r}`,l=i,c=l.config.emulator?ry(i.config,a):`${i.config.apiScheme}://${a}`;return $C.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class ZC{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(vi(this.auth,"network-request-failed")),WC.get())})}}function uf(i,e,t){const r={appName:i.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const a=vi(i,e,r);return a.customData._tokenResponse=t,a}async function eN(i,e){return Tl(i,"POST","/v1/accounts:delete",e)}async function Bf(i,e){return Tl(i,"POST","/v1/accounts:lookup",e)}function Xu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function tN(i,e=!1){const t=ln(i),r=await t.getIdToken(e),a=ay(r);Re(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:r,authTime:Xu($g(a.auth_time)),issuedAtTime:Xu($g(a.iat)),expirationTime:Xu($g(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function $g(i){return Number(i)*1e3}function ay(i){const[e,t,r]=i.split(".");if(e===void 0||t===void 0||r===void 0)return bf("JWT malformed, contained fewer than 3 sections"),null;try{const a=$E(t);return a?JSON.parse(a):(bf("Failed to decode base64 JWT payload"),null)}catch(a){return bf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Zb(i){const e=ay(i);return Re(e,"internal-error"),Re(typeof e.exp<"u","internal-error"),Re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function sc(i,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof Ei&&nN(r)&&i.auth.currentUser===i&&await i.auth.signOut(),r}}function nN({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}class iN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class pp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xu(this.lastLoginAt),this.creationTime=Xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Ff(i){const e=i.auth,t=await i.getIdToken(),r=await sc(i,Bf(e,{idToken:t}));Re(r?.users.length,e,"internal-error");const a=r.users[0];i._notifyReloadListener(a);const l=a.providerUserInfo?.length?zw(a.providerUserInfo):[],c=sN(i.providerData,l),m=i.isAnonymous,g=!(i.email&&a.passwordHash)&&!c?.length,p=m?g:!1,b={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new pp(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(i,b)}async function rN(i){const e=ln(i);await Ff(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function sN(i,e){return[...i.filter(r=>!e.some(a=>a.providerId===r.providerId)),...e]}function zw(i){return i.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function aN(i,e){const t=await Uw(i,{},async()=>{const r=bc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=i.config,c=await jw(i,a,"/v1/token",`key=${l}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:r};return i.emulatorConfig&&vl(i.emulatorConfig.host)&&(g.credentials="include"),Lw.fetch()(c,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function oN(i,e){return Tl(i,"POST","/v2/accounts:revokeToken",sy(i,e))}class Jo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Re(e.idToken,"internal-error"),Re(typeof e.idToken<"u","internal-error"),Re(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Zb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Re(e.length!==0,"internal-error");const t=Zb(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:a,expiresIn:l}=await aN(e,t);this.updateTokensAndExpiration(r,a,Number(l))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:a,expirationTime:l}=t,c=new Jo;return r&&(Re(typeof r=="string","internal-error",{appName:e}),c.refreshToken=r),a&&(Re(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Re(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jo,this.toJSON())}_performRefresh(){return wr("not implemented")}}function ds(i,e){Re(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class _i{constructor({uid:e,auth:t,stsTokenManager:r,...a}){this.providerId="firebase",this.proactiveRefresh=new iN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new pp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await sc(this,this.stsTokenManager.getToken(this.auth,e));return Re(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return tN(this,e)}reload(){return rN(this)}_assign(e){this!==e&&(Re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ff(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(xa(this.auth));const e=await this.getIdToken();return await sc(this,eN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,m=t.tenantId??void 0,g=t._redirectEventId??void 0,p=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:T,emailVerified:I,isAnonymous:U,providerData:Q,stsTokenManager:ee}=t;Re(T&&ee,e,"internal-error");const te=Jo.fromJSON(this.name,ee);Re(typeof T=="string",e,"internal-error"),ds(r,e.name),ds(a,e.name),Re(typeof I=="boolean",e,"internal-error"),Re(typeof U=="boolean",e,"internal-error"),ds(l,e.name),ds(c,e.name),ds(m,e.name),ds(g,e.name),ds(p,e.name),ds(b,e.name);const ue=new _i({uid:T,auth:e,email:a,emailVerified:I,displayName:r,isAnonymous:U,photoURL:c,phoneNumber:l,tenantId:m,stsTokenManager:te,createdAt:p,lastLoginAt:b});return Q&&Array.isArray(Q)&&(ue.providerData=Q.map(fe=>({...fe}))),g&&(ue._redirectEventId=g),ue}static async _fromIdTokenResponse(e,t,r=!1){const a=new Jo;a.updateFromServerResponse(t);const l=new _i({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:r});return await Ff(l),l}static async _fromGetAccountInfoResponse(e,t,r){const a=t.users[0];Re(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?zw(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,m=new Jo;m.updateFromIdToken(r);const g=new _i({uid:a.localId,auth:e,stsTokenManager:m,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new pp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(g,p),g}}const eT=new Map;function Sr(i){Cr(i instanceof Function,"Expected a class definition");let e=eT.get(i);return e?(Cr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,eT.set(i,e),e)}class Bw{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}Bw.type="NONE";const tT=Bw;function Tf(i,e,t){return`firebase:${i}:${e}:${t}`}class Zo{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:a,name:l}=this.auth;this.fullUserKey=Tf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Tf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Bf(this.auth,{idToken:e}).catch(()=>{});return t?_i._fromGetAccountInfoResponse(this.auth,t,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Zo(Sr(tT),e,r);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Sr(tT);const c=Tf(r,e.config.apiKey,e.name);let m=null;for(const p of t)try{const b=await p._get(c);if(b){let T;if(typeof b=="string"){const I=await Bf(e,{idToken:b}).catch(()=>{});if(!I)break;T=await _i._fromGetAccountInfoResponse(e,I,b)}else T=_i._fromJSON(e,b);p!==l&&(m=T),l=p;break}}catch{}const g=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new Zo(l,e,r):(l=g[0],m&&await l._set(c,m.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new Zo(l,e,r))}}function nT(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Gw(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Fw(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Yw(e))return"Blackberry";if(Qw(e))return"Webos";if(qw(e))return"Safari";if((e.includes("chrome/")||Hw(e))&&!e.includes("edge/"))return"Chrome";if(Kw(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=i.match(t);if(r?.length===2)return r[1]}return"Other"}function Fw(i=qt()){return/firefox\//i.test(i)}function qw(i=qt()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Hw(i=qt()){return/crios\//i.test(i)}function Gw(i=qt()){return/iemobile/i.test(i)}function Kw(i=qt()){return/android/i.test(i)}function Yw(i=qt()){return/blackberry/i.test(i)}function Qw(i=qt()){return/webos/i.test(i)}function oy(i=qt()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function lN(i=qt()){return oy(i)&&!!window.navigator?.standalone}function uN(){return eR()&&document.documentMode===10}function Xw(i=qt()){return oy(i)||Kw(i)||Qw(i)||Yw(i)||/windows phone/i.test(i)||Gw(i)}function $w(i,e=[]){let t;switch(i){case"Browser":t=nT(qt());break;case"Worker":t=`${nT(qt())}-${i}`;break;default:t=i}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${bl}/${r}`}class cN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=l=>new Promise((c,m)=>{try{const g=e(l);c(g)}catch(g){m(g)}});r.onAbort=t,this.queue.push(r);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}}}async function hN(i,e={}){return Tl(i,"GET","/v2/passwordPolicy",sy(i,e))}const fN=6;class dN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??fN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let a=0;a<e.length;a++)r=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class mN{constructor(e,t,r,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new iT(this),this.idTokenSubscription=new iT(this),this.beforeStateQueue=new cN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Pw,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Sr(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zo.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Bf(this,{idToken:e}),r=await _i._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(yi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=r?._redirectEventId,m=await this.tryRedirectSignIn(e);(!l||l===c)&&m?.user&&(r=m.user,a=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(r)}catch(l){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Re(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ff(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=QC()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(xa(this));const t=e?ln(e):null;return t&&Re(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(xa(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(xa(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Sr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await hN(this),t=new dN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ha("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await oN(this,r)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Sr(e)||this._popupRedirectResolver;Re(t,this,"argument-error"),this.redirectPersistenceManager=await Zo.create(this,[Sr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Re(m,this,"internal-error"),m.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,r,a);return()=>{c=!0,g()}}else{const g=e.addObserver(t);return()=>{c=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$w(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&HC(`Error while retrieving App Check token: ${e.error}`),e?.token}}function pd(i){return ln(i)}class iT{constructor(e){this.auth=e,this.observer=null,this.addObserver=aR(t=>this.observer=t)}get next(){return Re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let ly={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function gN(i){ly=i}function pN(i){return ly.loadJS(i)}function yN(){return ly.gapiScript}function _N(i){return`__${i}${Math.floor(Math.random()*1e6)}`}function vN(i,e){const t=Ga(i,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ns(l,e??{}))return a;Zi(a,"already-initialized")}return t.initialize({options:e})}function bN(i,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Sr);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(r,e?.popupRedirectResolver)}function TN(i,e,t){const r=pd(i);Re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const a=!1,l=Ww(e),{host:c,port:m}=EN(e),g=m===null?"":`:${m}`,p={url:`${l}//${c}${g}/`},b=Object.freeze({host:c,port:m,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!r._canInitEmulator){Re(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Re(Ns(p,r.config.emulator)&&Ns(b,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=b,r.settings.appVerificationDisabledForTesting=!0,vl(c)?(tw(`${l}//${c}${g}`),nw("Auth",!0)):wN()}function Ww(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function EN(i){const e=Ww(i),t=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(r);if(a){const l=a[1];return{host:l,port:rT(r.substr(l.length+1))}}else{const[l,c]=r.split(":");return{host:l,port:rT(c)}}}function rT(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function wN(){function i(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}class Jw{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return wr("not implemented")}_getIdTokenResponse(e){return wr("not implemented")}_linkToIdToken(e,t){return wr("not implemented")}_getReauthenticationResolver(e){return wr("not implemented")}}async function el(i,e){return JC(i,"POST","/v1/accounts:signInWithIdp",sy(i,e))}const SN="http://localhost";class Pa extends Jw{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Pa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:a,...l}=t;if(!r||!a)return null;const c=new Pa(r,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return el(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,el(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,el(e,t)}buildRequest(){const e={requestUri:SN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bc(t)}return e}}class uy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Ec extends uy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ts extends Ec{constructor(){super("facebook.com")}static credential(e){return Pa._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";class Er extends Ec{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Pa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Er.credentialFromTaggedObject(e)}static credentialFromError(e){return Er.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Er.credential(t,r)}catch{return null}}}Er.GOOGLE_SIGN_IN_METHOD="google.com";Er.PROVIDER_ID="google.com";class Es extends Ec{constructor(){super("github.com")}static credential(e){return Pa._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";class ws extends Ec{constructor(){super("twitter.com")}static credential(e,t){return Pa._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return ws.credential(t,r)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";class rl{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,a=!1){const l=await _i._fromIdTokenResponse(e,r,a),c=sT(r);return new rl({user:l,providerId:c,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const a=sT(r);return new rl({user:e,providerId:a,_tokenResponse:r,operationType:t})}}function sT(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}class qf extends Ei{constructor(e,t,r,a){super(t.code,t.message),this.operationType=r,this.user=a,Object.setPrototypeOf(this,qf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,a){return new qf(e,t,r,a)}}function Zw(i,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(i):t._getIdTokenResponse(i)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?qf._fromErrorAndOperation(i,l,e,r):l})}async function AN(i,e,t=!1){const r=await sc(i,e._linkToIdToken(i.auth,await i.getIdToken()),t);return rl._forOperation(i,"link",r)}async function IN(i,e,t=!1){const{auth:r}=i;if(yi(r.app))return Promise.reject(xa(r));const a="reauthenticate";try{const l=await sc(i,Zw(r,a,e,i),t);Re(l.idToken,r,"internal-error");const c=ay(l.idToken);Re(c,r,"internal-error");const{sub:m}=c;return Re(i.uid===m,r,"user-mismatch"),rl._forOperation(i,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Zi(r,"user-mismatch"),l}}async function xN(i,e,t=!1){if(yi(i.app))return Promise.reject(xa(i));const r="signIn",a=await Zw(i,r,e),l=await rl._fromIdTokenResponse(i,r,a);return t||await i._updateCurrentUser(l.user),l}function RN(i,e,t,r){return ln(i).onIdTokenChanged(e,t,r)}function CN(i,e,t){return ln(i).beforeAuthStateChanged(e,t)}function NN(i,e,t,r){return ln(i).onAuthStateChanged(e,t,r)}function DN(i){return ln(i).signOut()}const Hf="__sak";class eS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Hf,"1"),this.storage.removeItem(Hf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const ON=1e3,MN=10;class tS extends eS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Xw(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),a=this.localCache[t];r!==a&&e(t,a,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,m,g)=>{this.notifyListeners(c,g)});return}const r=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(r);!t&&this.localCache[r]===c||this.notifyListeners(r,c)},l=this.storage.getItem(r);uN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,MN):a()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},ON)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}tS.type="LOCAL";const VN=tS;class nS extends eS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}nS.type="SESSION";const iS=nS;function kN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class yd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const r=new yd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:a});const m=Array.from(c).map(async p=>p(t.origin,l)),g=await kN(m);t.ports[0].postMessage({status:"done",eventId:r,eventType:a,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}yd.receivers=[];function cy(i="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return i+t}class PN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((m,g)=>{const p=cy("",20);a.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},r);c={messageChannel:a,onMessage(T){const I=T;if(I.data.eventId===p)switch(I.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),m(I.data.response);break;default:clearTimeout(b),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function $i(){return window}function LN(i){$i().location.href=i}function rS(){return typeof $i().WorkerGlobalScope<"u"&&typeof $i().importScripts=="function"}async function UN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function jN(){return navigator?.serviceWorker?.controller||null}function zN(){return rS()?self:null}const sS="firebaseLocalStorageDb",BN=1,Gf="firebaseLocalStorage",aS="fbase_key";class wc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _d(i,e){return i.transaction([Gf],e?"readwrite":"readonly").objectStore(Gf)}function FN(){const i=indexedDB.deleteDatabase(sS);return new wc(i).toPromise()}function yp(){const i=indexedDB.open(sS,BN);return new Promise((e,t)=>{i.addEventListener("error",()=>{t(i.error)}),i.addEventListener("upgradeneeded",()=>{const r=i.result;try{r.createObjectStore(Gf,{keyPath:aS})}catch(a){t(a)}}),i.addEventListener("success",async()=>{const r=i.result;r.objectStoreNames.contains(Gf)?e(r):(r.close(),await FN(),e(await yp()))})})}async function aT(i,e,t){const r=_d(i,!0).put({[aS]:e,value:t});return new wc(r).toPromise()}async function qN(i,e){const t=_d(i,!1).get(e),r=await new wc(t).toPromise();return r===void 0?null:r.value}function oT(i,e){const t=_d(i,!0).delete(e);return new wc(t).toPromise()}const HN=800,GN=3;class oS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>GN)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=yd._getInstance(zN()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await UN(),!this.activeServiceWorker)return;this.sender=new PN(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||jN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yp();return await aT(e,Hf,"1"),await oT(e,Hf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>aT(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>qN(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>oT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=_d(a,!1).getAll();return new wc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)r.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!r.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const a of Array.from(r))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),HN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}oS.type="LOCAL";const KN=oS;new Tc(3e4,6e4);function lS(i,e){return e?Sr(e):(Re(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}class hy extends Jw{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return el(e,this._buildIdpRequest())}_linkToIdToken(e,t){return el(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return el(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function YN(i){return xN(i.auth,new hy(i),i.bypassAuthState)}function QN(i){const{auth:e,user:t}=i;return Re(t,e,"internal-error"),IN(t,new hy(i),i.bypassAuthState)}async function XN(i){const{auth:e,user:t}=i;return Re(t,e,"internal-error"),AN(t,new hy(i),i.bypassAuthState)}class uS{constructor(e,t,r,a,l=!1){this.auth=e,this.resolver=r,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:a,tenantId:l,error:c,type:m}=e;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:t,sessionId:r,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return YN;case"linkViaPopup":case"linkViaRedirect":return XN;case"reauthViaPopup":case"reauthViaRedirect":return QN;default:Zi(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $N=new Tc(2e3,1e4);async function WN(i,e,t){if(yi(i.app))return Promise.reject(vi(i,"operation-not-supported-in-this-environment"));const r=pd(i);GC(i,e,uy);const a=lS(r,t);return new Aa(r,"signInViaPopup",e,a).executeNotNull()}class Aa extends uS{constructor(e,t,r,a,l){super(e,t,a,l),this.provider=r,this.authWindow=null,this.pollId=null,Aa.currentPopupAction&&Aa.currentPopupAction.cancel(),Aa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Re(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=cy();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Aa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,$N.get())};e()}}Aa.currentPopupAction=null;const JN="pendingRedirect",Ef=new Map;class ZN extends uS{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ef.get(this.auth._key());if(!e){try{const r=await eD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ef.set(this.auth._key(),e)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eD(i,e){const t=iD(e),r=nD(i);if(!await r._isAvailable())return!1;const a=await r._get(t)==="true";return await r._remove(t),a}function tD(i,e){Ef.set(i._key(),e)}function nD(i){return Sr(i._redirectPersistence)}function iD(i){return Tf(JN,i.config.apiKey,i.name)}async function rD(i,e,t=!1){if(yi(i.app))return Promise.reject(xa(i));const r=pd(i),a=lS(r,e),c=await new ZN(r,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await r._persistUserIfCurrent(c.user),await r._setRedirectUser(null,e)),c}const sD=600*1e3;class aD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!cS(e)){const r=e.error.code?.split("auth/")[1]||"internal-error";t.onError(vi(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sD&&this.cachedEventUids.clear(),this.cachedEventUids.has(lT(e))}saveEventToCache(e){this.cachedEventUids.add(lT(e)),this.lastProcessedEventTime=Date.now()}}function lT(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function cS({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function oD(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cS(i);default:return!1}}async function lD(i,e={}){return Tl(i,"GET","/v1/projects",e)}const uD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cD=/^https?/;async function hD(i){if(i.config.emulator)return;const{authorizedDomains:e}=await lD(i);for(const t of e)try{if(fD(t))return}catch{}Zi(i,"unauthorized-domain")}function fD(i){const e=gp(),{protocol:t,hostname:r}=new URL(e);if(i.startsWith("chrome-extension://")){const c=new URL(i);return c.hostname===""&&r===""?t==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===r}if(!cD.test(t))return!1;if(uD.test(i))return r===i;const a=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(r)}const dD=new Tc(3e4,6e4);function uT(){const i=$i().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let t=0;t<i.CP.length;t++)i.CP[t]=null}}function mD(i){return new Promise((e,t)=>{function r(){uT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{uT(),t(vi(i,"network-request-failed"))},timeout:dD.get()})}if($i().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if($i().gapi?.load)r();else{const a=_N("iframefcb");return $i()[a]=()=>{gapi.load?r():t(vi(i,"network-request-failed"))},pN(`${yN()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw wf=null,e})}let wf=null;function gD(i){return wf=wf||mD(i),wf}const pD=new Tc(5e3,15e3),yD="__/auth/iframe",_D="emulator/auth/iframe",vD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function TD(i){const e=i.config;Re(e.authDomain,i,"auth-domain-config-required");const t=e.emulator?ry(e,_D):`https://${i.config.authDomain}/${yD}`,r={apiKey:e.apiKey,appName:i.name,v:bl},a=bD.get(i.config.apiHost);a&&(r.eid=a);const l=i._getFrameworks();return l.length&&(r.fw=l.join(",")),`${t}?${bc(r).slice(1)}`}async function ED(i){const e=await gD(i),t=$i().gapi;return Re(t,i,"internal-error"),e.open({where:document.body,url:TD(i),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vD,dontclear:!0},r=>new Promise(async(a,l)=>{await r.restyle({setHideOnLeave:!1});const c=vi(i,"network-request-failed"),m=$i().setTimeout(()=>{l(c)},pD.get());function g(){$i().clearTimeout(m),a(r)}r.ping(g).then(g,()=>{l(c)})}))}const wD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},SD=500,AD=600,ID="_blank",xD="http://localhost";class cT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function RD(i,e,t,r=SD,a=AD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-r)/2,0).toString();let m="";const g={...wD,width:r.toString(),height:a.toString(),top:l,left:c},p=qt().toLowerCase();t&&(m=Hw(p)?ID:t),Fw(p)&&(e=e||xD,g.scrollbars="yes");const b=Object.entries(g).reduce((I,[U,Q])=>`${I}${U}=${Q},`,"");if(lN(p)&&m!=="_self")return CD(e||"",m),new cT(null);const T=window.open(e||"",m,b);Re(T,i,"popup-blocked");try{T.focus()}catch{}return new cT(T)}function CD(i,e){const t=document.createElement("a");t.href=i,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}const ND="__/auth/handler",DD="emulator/auth/handler",OD=encodeURIComponent("fac");async function hT(i,e,t,r,a,l){Re(i.config.authDomain,i,"auth-domain-config-required"),Re(i.config.apiKey,i,"invalid-api-key");const c={apiKey:i.config.apiKey,appName:i.name,authType:t,redirectUrl:r,v:bl,eventId:a};if(e instanceof uy){e.setDefaultLanguage(i.languageCode),c.providerId=e.providerId||"",sR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))c[b]=T}if(e instanceof Ec){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(c.scopes=b.join(","))}i.tenantId&&(c.tid=i.tenantId);const m=c;for(const b of Object.keys(m))m[b]===void 0&&delete m[b];const g=await i._getAppCheckToken(),p=g?`#${OD}=${encodeURIComponent(g)}`:"";return`${MD(i)}?${bc(m).slice(1)}${p}`}function MD({config:i}){return i.emulator?ry(i,DD):`https://${i.authDomain}/${ND}`}const Wg="webStorageSupport";class VD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iS,this._completeRedirectFn=rD,this._overrideRedirectResult=tD}async _openPopup(e,t,r,a){Cr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await hT(e,t,r,gp(),a);return RD(e,l,cy())}async _openRedirect(e,t,r,a){await this._originValidation(e);const l=await hT(e,t,r,gp(),a);return LN(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Cr(l,"If manager is not set, promise should be"),l)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await ED(e),r=new aD(e);return t.register("authEvent",a=>(Re(a?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Wg,{type:Wg},a=>{const l=a?.[0]?.[Wg];l!==void 0&&t(!!l),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=hD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Xw()||qw()||oy()}}const kD=VD;var fT="@firebase/auth",dT="1.12.0";class PD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function LD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function UD(i){Ji(new Ti("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:m}=r.options;Re(c&&!c.includes(":"),"invalid-api-key",{appName:r.name});const g={apiKey:c,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$w(i)},p=new mN(r,a,l,g);return bN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Ji(new Ti("auth-internal",e=>{const t=pd(e.getProvider("auth").getImmediate());return(r=>new PD(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ti(fT,dT,LD(i)),ti(fT,dT,"esm2020")}const jD=300,zD=ew("authIdTokenMaxAge")||jD;let mT=null;const BD=i=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>zD)return;const a=t?.token;mT!==a&&(mT=a,await fetch(i,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function FD(i=Xp()){const e=Ga(i,"auth");if(e.isInitialized())return e.getImmediate();const t=vN(i,{popupRedirectResolver:kD,persistence:[KN,VN,iS]}),r=ew("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(r,location.origin);if(location.origin===l.origin){const c=BD(l.toString());CN(t,c,()=>c(t.currentUser)),RN(t,m=>c(m))}}const a=JE("auth");return a&&TN(t,`http://${a}`),t}function qD(){return document.getElementsByTagName("head")?.[0]??document}gN({loadJS(i){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",i),r.onload=e,r.onerror=a=>{const l=vi("internal-error");l.customData=a,t(l)},r.type="text/javascript",r.charset="UTF-8",qD().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});UD("Browser");var gT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rs,hS;(function(){var i;function e(x,A){function R(){}R.prototype=A.prototype,x.F=A.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(V,O,k){for(var C=Array(arguments.length-2),le=2;le<arguments.length;le++)C[le-2]=arguments[le];return A.prototype[O].apply(V,C)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,A,R){R||(R=0);const V=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)V[O]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(O=0;O<16;++O)V[O]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=x.g[0],R=x.g[1],O=x.g[2];let k=x.g[3],C;C=A+(k^R&(O^k))+V[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=k+(O^A&(R^O))+V[1]+3905402710&4294967295,k=A+(C<<12&4294967295|C>>>20),C=O+(R^k&(A^R))+V[2]+606105819&4294967295,O=k+(C<<17&4294967295|C>>>15),C=R+(A^O&(k^A))+V[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(k^R&(O^k))+V[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=k+(O^A&(R^O))+V[5]+1200080426&4294967295,k=A+(C<<12&4294967295|C>>>20),C=O+(R^k&(A^R))+V[6]+2821735955&4294967295,O=k+(C<<17&4294967295|C>>>15),C=R+(A^O&(k^A))+V[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(k^R&(O^k))+V[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=k+(O^A&(R^O))+V[9]+2336552879&4294967295,k=A+(C<<12&4294967295|C>>>20),C=O+(R^k&(A^R))+V[10]+4294925233&4294967295,O=k+(C<<17&4294967295|C>>>15),C=R+(A^O&(k^A))+V[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(k^R&(O^k))+V[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=k+(O^A&(R^O))+V[13]+4254626195&4294967295,k=A+(C<<12&4294967295|C>>>20),C=O+(R^k&(A^R))+V[14]+2792965006&4294967295,O=k+(C<<17&4294967295|C>>>15),C=R+(A^O&(k^A))+V[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(O^k&(R^O))+V[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=k+(R^O&(A^R))+V[6]+3225465664&4294967295,k=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(k^A))+V[11]+643717713&4294967295,O=k+(C<<14&4294967295|C>>>18),C=R+(k^A&(O^k))+V[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^k&(R^O))+V[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=k+(R^O&(A^R))+V[10]+38016083&4294967295,k=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(k^A))+V[15]+3634488961&4294967295,O=k+(C<<14&4294967295|C>>>18),C=R+(k^A&(O^k))+V[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^k&(R^O))+V[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=k+(R^O&(A^R))+V[14]+3275163606&4294967295,k=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(k^A))+V[3]+4107603335&4294967295,O=k+(C<<14&4294967295|C>>>18),C=R+(k^A&(O^k))+V[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^k&(R^O))+V[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=k+(R^O&(A^R))+V[2]+4243563512&4294967295,k=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(k^A))+V[7]+1735328473&4294967295,O=k+(C<<14&4294967295|C>>>18),C=R+(k^A&(O^k))+V[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(R^O^k)+V[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=k+(A^R^O)+V[8]+2272392833&4294967295,k=A+(C<<11&4294967295|C>>>21),C=O+(k^A^R)+V[11]+1839030562&4294967295,O=k+(C<<16&4294967295|C>>>16),C=R+(O^k^A)+V[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^k)+V[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=k+(A^R^O)+V[4]+1272893353&4294967295,k=A+(C<<11&4294967295|C>>>21),C=O+(k^A^R)+V[7]+4139469664&4294967295,O=k+(C<<16&4294967295|C>>>16),C=R+(O^k^A)+V[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^k)+V[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=k+(A^R^O)+V[0]+3936430074&4294967295,k=A+(C<<11&4294967295|C>>>21),C=O+(k^A^R)+V[3]+3572445317&4294967295,O=k+(C<<16&4294967295|C>>>16),C=R+(O^k^A)+V[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^k)+V[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=k+(A^R^O)+V[12]+3873151461&4294967295,k=A+(C<<11&4294967295|C>>>21),C=O+(k^A^R)+V[15]+530742520&4294967295,O=k+(C<<16&4294967295|C>>>16),C=R+(O^k^A)+V[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(O^(R|~k))+V[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=k+(R^(A|~O))+V[7]+1126891415&4294967295,k=A+(C<<10&4294967295|C>>>22),C=O+(A^(k|~R))+V[14]+2878612391&4294967295,O=k+(C<<15&4294967295|C>>>17),C=R+(k^(O|~A))+V[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~k))+V[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=k+(R^(A|~O))+V[3]+2399980690&4294967295,k=A+(C<<10&4294967295|C>>>22),C=O+(A^(k|~R))+V[10]+4293915773&4294967295,O=k+(C<<15&4294967295|C>>>17),C=R+(k^(O|~A))+V[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~k))+V[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=k+(R^(A|~O))+V[15]+4264355552&4294967295,k=A+(C<<10&4294967295|C>>>22),C=O+(A^(k|~R))+V[6]+2734768916&4294967295,O=k+(C<<15&4294967295|C>>>17),C=R+(k^(O|~A))+V[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~k))+V[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=k+(R^(A|~O))+V[11]+3174756917&4294967295,k=A+(C<<10&4294967295|C>>>22),C=O+(A^(k|~R))+V[2]+718787259&4294967295,O=k+(C<<15&4294967295|C>>>17),C=R+(k^(O|~A))+V[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+k&4294967295}r.prototype.v=function(x,A){A===void 0&&(A=x.length);const R=A-this.blockSize,V=this.C;let O=this.h,k=0;for(;k<A;){if(O==0)for(;k<=R;)a(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<A;)if(V[O++]=x.charCodeAt(k++),O==this.blockSize){a(this,V),O=0;break}}else for(;k<A;)if(V[O++]=x[k++],O==this.blockSize){a(this,V),O=0;break}}this.h=O,this.o+=A},r.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,R=0;R<4;++R)for(let V=0;V<32;V+=8)x[A++]=this.g[R]>>>V&255;return x};function l(x,A){var R=m;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=A(x)}function c(x,A){this.h=A;const R=[];let V=!0;for(let O=x.length-1;O>=0;O--){const k=x[O]|0;V&&k==A||(R[O]=k,V=!1)}this.g=R}var m={};function g(x){return-128<=x&&x<128?l(x,function(A){return new c([A|0],A<0?-1:0)}):new c([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return T;if(x<0)return te(p(-x));const A=[];let R=1;for(let V=0;x>=R;V++)A[V]=x/R|0,R*=4294967296;return new c(A,0)}function b(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return te(b(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(A,8));let V=T;for(let k=0;k<x.length;k+=8){var O=Math.min(8,x.length-k);const C=parseInt(x.substring(k,k+O),A);O<8?(O=p(Math.pow(A,O)),V=V.j(O).add(p(C))):(V=V.j(R),V=V.add(p(C)))}return V}var T=g(0),I=g(1),U=g(16777216);i=c.prototype,i.m=function(){if(ee(this))return-te(this).m();let x=0,A=1;for(let R=0;R<this.g.length;R++){const V=this.i(R);x+=(V>=0?V:4294967296+V)*A,A*=4294967296}return x},i.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Q(this))return"0";if(ee(this))return"-"+te(this).toString(x);const A=p(Math.pow(x,6));var R=this;let V="";for(;;){const O=Ee(R,A).g;R=ue(R,O.j(A));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=O,Q(R))return k+V;for(;k.length<6;)k="0"+k;V=k+V}},i.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Q(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function ee(x){return x.h==-1}i.l=function(x){return x=ue(this,x),ee(x)?-1:Q(x)?0:1};function te(x){const A=x.g.length,R=[];for(let V=0;V<A;V++)R[V]=~x.g[V];return new c(R,~x.h).add(I)}i.abs=function(){return ee(this)?te(this):this},i.add=function(x){const A=Math.max(this.g.length,x.g.length),R=[];let V=0;for(let O=0;O<=A;O++){let k=V+(this.i(O)&65535)+(x.i(O)&65535),C=(k>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);V=C>>>16,k&=65535,C&=65535,R[O]=C<<16|k}return new c(R,R[R.length-1]&-2147483648?-1:0)};function ue(x,A){return x.add(te(A))}i.j=function(x){if(Q(this)||Q(x))return T;if(ee(this))return ee(x)?te(this).j(te(x)):te(te(this).j(x));if(ee(x))return te(this.j(te(x)));if(this.l(U)<0&&x.l(U)<0)return p(this.m()*x.m());const A=this.g.length+x.g.length,R=[];for(var V=0;V<2*A;V++)R[V]=0;for(V=0;V<this.g.length;V++)for(let O=0;O<x.g.length;O++){const k=this.i(V)>>>16,C=this.i(V)&65535,le=x.i(O)>>>16,ne=x.i(O)&65535;R[2*V+2*O]+=C*ne,fe(R,2*V+2*O),R[2*V+2*O+1]+=k*ne,fe(R,2*V+2*O+1),R[2*V+2*O+1]+=C*le,fe(R,2*V+2*O+1),R[2*V+2*O+2]+=k*le,fe(R,2*V+2*O+2)}for(x=0;x<A;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=A;x<2*A;x++)R[x]=0;return new c(R,0)};function fe(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function ae(x,A){this.g=x,this.h=A}function Ee(x,A){if(Q(A))throw Error("division by zero");if(Q(x))return new ae(T,T);if(ee(x))return A=Ee(te(x),A),new ae(te(A.g),te(A.h));if(ee(A))return A=Ee(x,te(A)),new ae(te(A.g),A.h);if(x.g.length>30){if(ee(x)||ee(A))throw Error("slowDivide_ only works with positive integers.");for(var R=I,V=A;V.l(x)<=0;)R=be(R),V=be(V);var O=_e(R,1),k=_e(V,1);for(V=_e(V,2),R=_e(R,2);!Q(V);){var C=k.add(V);C.l(x)<=0&&(O=O.add(R),k=C),V=_e(V,1),R=_e(R,1)}return A=ue(x,O.j(A)),new ae(O,A)}for(O=T;x.l(A)>=0;){for(R=Math.max(1,Math.floor(x.m()/A.m())),V=Math.ceil(Math.log(R)/Math.LN2),V=V<=48?1:Math.pow(2,V-48),k=p(R),C=k.j(A);ee(C)||C.l(x)>0;)R-=V,k=p(R),C=k.j(A);Q(k)&&(k=I),O=O.add(k),x=ue(x,C)}return new ae(O,x)}i.B=function(x){return Ee(this,x).h},i.and=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)&x.i(V);return new c(R,this.h&x.h)},i.or=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)|x.i(V);return new c(R,this.h|x.h)},i.xor=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let V=0;V<A;V++)R[V]=this.i(V)^x.i(V);return new c(R,this.h^x.h)};function be(x){const A=x.g.length+1,R=[];for(let V=0;V<A;V++)R[V]=x.i(V)<<1|x.i(V-1)>>>31;return new c(R,x.h)}function _e(x,A){const R=A>>5;A%=32;const V=x.g.length-R,O=[];for(let k=0;k<V;k++)O[k]=A>0?x.i(k+R)>>>A|x.i(k+R+1)<<32-A:x.i(k+R);return new c(O,x.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,hS=r,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=b,Rs=c}).apply(typeof gT<"u"?gT:typeof self<"u"?self:typeof window<"u"?window:{});var cf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var fS,qu,dS,Sf,_p,mS,gS,pS;(function(){var i,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof cf=="object"&&cf];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var r=t(this);function a(h,y){if(y)e:{var v=r;h=h.split(".");for(var S=0;S<h.length-1;S++){var z=h[S];if(!(z in v))break e;v=v[z]}h=h[h.length-1],S=v[h],y=y(S),y!=S&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var l=l||{},c=this||self;function m(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,v){return h.call.apply(h.bind,arguments)}function p(h,y,v){return p=g,p.apply(null,arguments)}function b(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function T(h,y){function v(){}v.prototype=y.prototype,h.Z=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(S,z,H){for(var se=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)se[ke-2]=arguments[ke];return y.prototype[z].apply(S,se)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function U(h){const y=h.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=h[S];return v}return[]}function Q(h,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=h.length||0;const H=z.length||0;h.length=v+H;for(let se=0;se<H;se++)h[v+se]=z[se]}else h.push(z)}}class ee{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function te(h){c.setTimeout(()=>{throw h},0)}function ue(){var h=x;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class fe{constructor(){this.h=this.g=null}add(y,v){const S=ae.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new ee(()=>new Ee,h=>h.reset());class Ee{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let be,_e=!1,x=new fe,A=()=>{const h=Promise.resolve(void 0);be=()=>{h.then(R)}};function R(){for(var h;h=ue();){try{h.h.call(h.g)}catch(v){te(v)}var y=ae;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}_e=!1}function V(){this.u=this.u,this.C=this.C}V.prototype.u=!1,V.prototype.dispose=function(){this.u||(this.u=!0,this.N())},V.prototype[Symbol.dispose]=function(){this.dispose()},V.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function le(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(le,O),le.prototype.init=function(h,y){const v=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ne="closure_listenable_"+(Math.random()*1e6|0),L=0;function W(h,y,v,S,z){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=z,this.key=++L,this.da=this.fa=!1}function K(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function xe(h,y,v){for(const S in h)y.call(v,h[S],S,h)}function Me(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function D(h){const y={};for(const v in h)y[v]=h[v];return y}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(h,y){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)h[v]=S[v];for(let H=0;H<$.length;H++)v=$[H],Object.prototype.hasOwnProperty.call(S,v)&&(h[v]=S[v])}}function oe(h){this.src=h,this.g={},this.h=0}oe.prototype.add=function(h,y,v,S,z){const H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);const se=De(h,y,S,z);return se>-1?(y=h[se],v||(y.fa=!1)):(y=new W(y,this.src,H,!!S,z),y.fa=v,h.push(y)),y};function Ae(h,y){const v=y.type;if(v in h.g){var S=h.g[v],z=Array.prototype.indexOf.call(S,y,void 0),H;(H=z>=0)&&Array.prototype.splice.call(S,z,1),H&&(K(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function De(h,y,v,S){for(let z=0;z<h.length;++z){const H=h[z];if(!H.da&&H.listener==y&&H.capture==!!v&&H.ha==S)return z}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),vt={};function Je(h,y,v,S,z){if(Array.isArray(y)){for(let H=0;H<y.length;H++)Je(h,y[H],v,S,z);return null}return v=Cl(v),h&&h[ne]?h.J(y,v,m(S)?!!S.capture:!1,z):Un(h,y,v,!1,S,z)}function Un(h,y,v,S,z,H){if(!y)throw Error("Invalid event type");const se=m(z)?!!z.capture:!!z;let ke=Us(h);if(ke||(h[Se]=ke=new oe(h)),v=ke.add(y,v,S,se,H),v.proxy)return v;if(S=wi(),v.proxy=S,S.src=h,S.listener=v,h.addEventListener)k||(z=se),z===void 0&&(z=!1),h.addEventListener(y.toString(),S,z);else if(h.attachEvent)h.attachEvent(Si(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function wi(){function h(v){return y.call(h.src,h.listener,v)}const y=xl;return h}function ii(h,y,v,S,z){if(Array.isArray(y))for(var H=0;H<y.length;H++)ii(h,y[H],v,S,z);else S=m(S)?!!S.capture:!!S,v=Cl(v),h&&h[ne]?(h=h.i,H=String(y).toString(),H in h.g&&(y=h.g[H],v=De(y,v,S,z),v>-1&&(K(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete h.g[H],h.h--)))):h&&(h=Us(h))&&(y=h.g[y.toString()],h=-1,y&&(h=De(y,v,S,z)),(v=h>-1?y[h]:null)&&Xa(v))}function Xa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ne])Ae(y.i,h);else{var v=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(v,S,h.capture):y.detachEvent?y.detachEvent(Si(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=Us(y))?(Ae(v,h),v.h==0&&(v.src=null,y[Se]=null)):K(h)}}}function Si(h){return h in vt?vt[h]:vt[h]="on"+h}function xl(h,y){if(h.da)h=!0;else{y=new le(y,this);const v=h.listener,S=h.ha||h.src;h.fa&&Xa(h),h=v.call(S,y)}return h}function Us(h){return h=h[Se],h instanceof oe?h:null}var Rl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Cl(h){return typeof h=="function"?h:(h[Rl]||(h[Rl]=function(y){return h.handleEvent(y)}),h[Rl])}function xt(){V.call(this),this.i=new oe(this),this.M=this,this.G=null}T(xt,V),xt.prototype[ne]=!0,xt.prototype.removeEventListener=function(h,y,v,S){ii(this,h,y,v,S)};function jt(h,y){var v,S=h.G;if(S)for(v=[];S;S=S.G)v.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var z=y;y=new O(S,h),re(y,z)}z=!0;let H,se;if(v)for(se=v.length-1;se>=0;se--)H=y.g=v[se],z=Vr(H,S,!0,y)&&z;if(H=y.g=h,z=Vr(H,S,!0,y)&&z,z=Vr(H,S,!1,y)&&z,v)for(se=0;se<v.length;se++)H=y.g=v[se],z=Vr(H,S,!1,y)&&z}xt.prototype.N=function(){if(xt.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const v=h.g[y];for(let S=0;S<v.length;S++)K(v[S]);delete h.g[y],h.h--}}this.G=null},xt.prototype.J=function(h,y,v,S){return this.i.add(String(h),y,!1,v,S)},xt.prototype.K=function(h,y,v,S){return this.i.add(String(h),y,!0,v,S)};function Vr(h,y,v,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let H=0;H<y.length;++H){const se=y[H];if(se&&!se.da&&se.capture==v){const ke=se.listener,St=se.ha||se.src;se.fa&&Ae(h.i,se),z=ke.call(St,S)!==!1&&z}}return z&&!S.defaultPrevented}function Ud(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Mc(h){h.g=Ud(()=>{h.g=null,h.i&&(h.i=!1,Mc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class un extends V{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Mc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function js(h){V.call(this),this.h=h,this.g={}}T(js,V);var Nl=[];function Dl(h){xe(h.g,function(y,v){this.g.hasOwnProperty(v)&&Xa(y)},h),h.g={}}js.prototype.N=function(){js.Z.N.call(this),Dl(this)},js.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kr=c.JSON.stringify,jd=c.JSON.parse,Vc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function kc(){}function Pc(){}var ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Xt(){O.call(this,"d")}T(Xt,O);function jn(){O.call(this,"c")}T(jn,O);var wt={},Lc=null;function $a(){return Lc=Lc||new xt}wt.Ia="serverreachability";function Uc(h){O.call(this,wt.Ia,h)}T(Uc,O);function Ai(h){const y=$a();jt(y,new Uc(y))}wt.STAT_EVENT="statevent";function zs(h,y){O.call(this,wt.STAT_EVENT,h),this.stat=y}T(zs,O);function Rt(h){const y=$a();jt(y,new zs(y,h))}wt.Ja="timingevent";function Ii(h,y){O.call(this,wt.Ja,h),this.size=y}T(Ii,O);function xi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function zd(h,y,v,S,z,H){h.info(function(){if(h.g)if(H){var se="",ke=H.split("&");for(let $e=0;$e<ke.length;$e++){var St=ke[$e].split("=");if(St.length>1){const mt=St[0];St=St[1];const qn=mt.split("_");se=qn.length>=2&&qn[1]=="type"?se+(mt+"="+St+"&"):se+(mt+"=redacted&")}}}else se=null;else se=H;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+v+`
`+se})}function jc(h,y,v,S,z,H,se){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+v+`
`+H+" "+se})}function Ri(h,y,v,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Bd(h,v)+(S?" "+S:"")})}function Bs(h,y){h.info(function(){return"TIMEOUT: "+y})}si.prototype.info=function(){};function Bd(h,y){if(!h.g)return y;if(!y)return null;try{const H=JSON.parse(y);if(H){for(h=0;h<H.length;h++)if(Array.isArray(H[h])){var v=H[h];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return kr(H)}catch{return y}}var Fs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Ol={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ml;function qs(){}T(qs,kc),qs.prototype.g=function(){return new XMLHttpRequest},Ml=new qs;function tr(h){return encodeURIComponent(String(h))}function zc(h){var y=1;h=h.split(":");const v=[];for(;y>0&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function ai(h,y,v,S){this.j=h,this.i=y,this.l=v,this.S=S||1,this.V=new js(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var Ct={},Gt={};function Ci(h,y,v){h.M=1,h.A=Hs(Dt(y)),h.u=v,h.R=!0,Wa(h,null)}function Wa(h,y){h.F=Date.now(),Ni(h),h.B=Dt(h.A);var v=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),to(v.i,"t",S),h.C=0,v=h.j.L,h.h=new oi,h.g=th(h.j,v?y:null,!h.u),h.P>0&&(h.O=new un(p(h.Y,h,h.g),h.P)),y=h.V,v=h.g,S=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(Nl[0]=z.toString()),z=Nl);for(let H=0;H<z.length;H++){const se=Je(v,z[H],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=h.J?D(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Ai(),zd(h.i,h.v,h.B,h.l,h.S,h.u)}ai.prototype.ba=function(h){h=h.target;const y=this.O;y&&ci(h)==3?y.j():this.Y(h)},ai.prototype.Y=function(h){try{if(h==this.g)e:{const ke=ci(this.g),St=this.g.ya(),$e=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||$t(this.g)))){this.K||ke!=4||St==7||(St==8||$e<=0?Ai(3):Ai(2)),Di(this);var y=this.g.ca();this.X=y;var v=Fd(this);if(this.o=y==200,jc(this.i,this.v,this.B,this.l,this.S,ke,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var H=S;break t}}H=null}if(h=H)Ri(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,h);else{this.o=!1,this.m=3,Rt(12),wn(this),zn(this);break e}}if(this.R){h=!0;let mt;for(;!this.K&&this.C<v.length;)if(mt=Fc(this,v),mt==Gt){ke==4&&(this.m=4,Rt(14),h=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(mt==Ct){this.m=4,Rt(15),Ri(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else Ri(this.i,this.l,mt,null),Oi(this,mt);if(Bc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||v.length!=0||this.h.h||(this.m=1,Rt(16),h=!1),this.o=this.o&&h,!h)Ri(this.i,this.l,v,"[Invalid Chunked Response]"),wn(this),zn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),Ql(se),se.P=!0,Rt(11))}}else Ri(this.i,this.l,v,null),Oi(this,v);ke==4&&wn(this),this.o&&!this.K&&(ke==4?Wc(this.j,this):(this.o=!1,Ni(this)))}else ir(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Rt(12)):(this.m=0,Rt(13)),wn(this),zn(this)}}}catch{}finally{}};function Fd(h){if(!Bc(h))return h.g.la();const y=$t(h.g);if(y==="")return"";let v="";const S=y.length,z=ci(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return wn(h),zn(h),"";h.h.i=new c.TextDecoder}for(let H=0;H<S;H++)h.h.h=!0,v+=h.h.i.decode(y[H],{stream:!(z&&H==S-1)});return y.length=0,h.h.g+=v,h.C=0,h.h.g}function Bc(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Fc(h,y){var v=h.C,S=y.indexOf(`
`,v);return S==-1?Gt:(v=Number(y.substring(v,S)),isNaN(v)?Ct:(S+=1,S+v>y.length?Gt:(y=y.slice(S,S+v),h.C=S+v,y)))}ai.prototype.cancel=function(){this.K=!0,wn(this)};function Ni(h){h.T=Date.now()+h.H,Ja(h,h.H)}function Ja(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=xi(p(h.aa,h),y)}function Di(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ai.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(Bs(this.i,this.B),this.M!=2&&(Ai(),Rt(17)),wn(this),this.m=2,zn(this)):Ja(this,this.T-h)};function zn(h){h.j.I==0||h.K||Wc(h.j,h)}function wn(h){Di(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Dl(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Oi(h,y){try{var v=h.j;if(v.I!=0&&(v.g==h||Vi(v.h,h))){if(!h.L&&Vi(v.h,h)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)ao(v),qr(v);else break e;Ws(v),Rt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=xi(p(v.Va,v),6e3));Mi(v.h)<=1&&v.ta&&(v.ta=void 0)}else zi(v,11)}else if((h.L||v.g==h)&&ao(v),!C(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let $e=z[y];const mt=$e[0];if(!(mt<=v.K))if(v.K=mt,$e=$e[1],v.I==2)if($e[0]=="c"){v.M=$e[1],v.ba=$e[2];const qn=$e[3];qn!=null&&(v.ka=qn,v.j.info("VER="+v.ka));const Bi=$e[4];Bi!=null&&(v.za=Bi,v.j.info("SVER="+v.za));const hi=$e[5];hi!=null&&typeof hi=="number"&&hi>0&&(S=1.5*hi,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const fi=h.g;if(fi){const Js=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Js){var H=S.h;H.g||Js.indexOf("spdy")==-1&&Js.indexOf("quic")==-1&&Js.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(Pl(H,H.h),H.h=null))}if(S.G){const oo=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;oo&&(S.wa=oo,Ze(S.J,S.G,oo))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=h;if(S.na=eh(S,S.L?S.ba:null,S.W),se.L){Ll(S.h,se);var ke=se,St=S.O;St&&(ke.H=St),ke.D&&(Di(ke),Ni(ke)),S.g=se}else Xc(S);v.i.length>0&&ji(v)}else $e[0]!="stop"&&$e[0]!="close"||zi(v,7);else v.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?zi(v,7):Kl(v):$e[0]!="noop"&&v.l&&v.l.qa($e),v.A=0)}}Ai(4)}catch{}}var Nt=class{constructor(h,y){this.g=h,this.map=y}};function Vl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function kl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Mi(h){return h.h?1:h.g?h.g.size:0}function Vi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function Pl(h,y){h.g?h.g.add(y):h.h=y}function Ll(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Vl.prototype.cancel=function(){if(this.i=Ul(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Ul(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.G);return y}return U(h.i)}var qc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Za(h,y){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const S=h[v].indexOf("=");let z,H=null;S>=0?(z=h[v].substring(0,S),H=h[v].substring(S+1)):z=h[v],y(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function Sn(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof Sn?(this.l=h.l,Kt(this,h.j),this.o=h.o,this.g=h.g,Pr(this,h.u),this.h=h.h,jl(this,Yc(h.i)),this.m=h.m):h&&(y=String(h).match(qc))?(this.l=!1,Kt(this,y[1]||"",!0),this.o=ki(y[2]||""),this.g=ki(y[3]||"",!0),Pr(this,y[4]),this.h=ki(y[5]||"",!0),jl(this,y[6]||"",!0),this.m=ki(y[7]||"")):(this.l=!1,this.i=new Ur(null,this.l))}Sn.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Gs(y,eo,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Gs(y,eo,!0),"@"),h.push(tr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Gs(v,v.charAt(0)=="/"?zl:Hc,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Gs(v,Gc)),h.join("")},Sn.prototype.resolve=function(h){const y=Dt(this);let v=!!h.j;v?Kt(y,h.j):v=!!h.o,v?y.o=h.o:v=!!h.g,v?y.g=h.g:v=h.u!=null;var S=h.h;if(v)Pr(y,h.u);else if(v=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const H=[];for(let se=0;se<z.length;){const ke=z[se++];ke=="."?S&&se==z.length&&H.push(""):ke==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&se==z.length&&H.push("")):(H.push(ke),S=!0)}S=H.join("/")}else S=z}return v?y.h=S:v=h.i.toString()!=="",v?jl(y,Yc(h.i)):v=!!h.m,v&&(y.m=h.m),y};function Dt(h){return new Sn(h)}function Kt(h,y,v){h.j=v?ki(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Pr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function jl(h,y,v){y instanceof Ur?(h.i=y,no(h.i,h.l)):(v||(y=Gs(y,Lr)),h.i=new Ur(y,h.l))}function Ze(h,y,v){h.i.set(y,v)}function Hs(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ki(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Gs(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,gn),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var eo=/[#\/\?@]/g,Hc=/[#\?:]/g,zl=/[#\?]/g,Lr=/[#\?@]/g,Gc=/#/g;function Ur(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function pn(h){h.g||(h.g=new Map,h.h=0,h.i&&Za(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=Ur.prototype,i.add=function(h,y){pn(this),this.i=null,h=jr(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function Kc(h,y){pn(h),y=jr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Bl(h,y){return pn(h),y=jr(h,y),h.g.has(y)}i.forEach=function(h,y){pn(this),this.g.forEach(function(v,S){v.forEach(function(z){h.call(y,z,S,this)},this)},this)};function Fl(h,y){pn(h);let v=[];if(typeof y=="string")Bl(h,y)&&(v=v.concat(h.g.get(jr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)v=v.concat(h[y]);return v}i.set=function(h,y){return pn(this),this.i=null,h=jr(this,h),Bl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},i.get=function(h,y){return h?(h=Fl(this,h),h.length>0?String(h[0]):y):y};function to(h,y,v){Kc(h,y),v.length>0&&(h.i=null,h.g.set(jr(h,y),U(v)),h.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const z=tr(v);v=Fl(this,v);for(let H=0;H<v.length;H++){let se=z;v[H]!==""&&(se+="="+tr(v[H])),h.push(se)}}return this.i=h.join("&")};function Yc(h){const y=new Ur;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function jr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function no(h,y){y&&!h.j&&(pn(h),h.i=null,h.g.forEach(function(v,S){const z=S.toLowerCase();S!=z&&(Kc(this,S),to(this,z,v))},h)),h.j=y}function li(h,y){const v=new si;if(c.Image){const S=new Image;S.onload=b(Bn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=b(Bn,v,"TestLoadImage: error",!1,y,S),S.onabort=b(Bn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=b(Bn,v,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function ql(h,y){const v=new si,S=new AbortController,z=setTimeout(()=>{S.abort(),Bn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(H=>{clearTimeout(z),H.ok?Bn(v,"TestPingServer: ok",!0,y):Bn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),Bn(v,"TestPingServer: error",!1,y)})}function Bn(h,y,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function zr(){this.g=new Vc}function Pi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Pi,kc),Pi.prototype.g=function(){return new Ks(this.i,this.h)};function Ks(h,y){xt.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Ks,xt),i=Ks.prototype,i.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ui(this)},i.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},i.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;io(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function io(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}i.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Br(this):ui(this),this.readyState==3&&io(this)}},i.Oa=function(h){this.g&&(this.response=this.responseText=h,Br(this))},i.Na=function(h){this.g&&(this.response=h,Br(this))},i.ga=function(){this.g&&Br(this)};function Br(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ui(h)}i.setRequestHeader=function(h,y){this.A.append(h,y)},i.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function ui(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Ks.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Fn(h){let y="";return xe(h,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function Ys(h,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Fn(v),typeof h=="string"?v!=null&&tr(v):Ze(h,y,v))}function st(h){xt.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(st,xt);var Li=/^https?$/i,Hl=["POST","PUT"];i=st.prototype,i.Fa=function(h){this.H=h},i.ea=function(h,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ml.g(),this.g.onreadystatechange=I(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(H){Qs(this,H);return}if(h=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())v.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Hl,y,void 0)>=0)||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of v)this.g.setRequestHeader(H,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(H){Qs(this,H)}};function Qs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Gl(h),nr(h)}function Gl(h){h.A||(h.A=!0,jt(h,"complete"),jt(h,"error"))}i.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,jt(this,"complete"),jt(this,"abort"),nr(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),st.Z.N.call(this)},i.Ca=function(){this.u||(this.B||this.v||this.j?Xs(this):this.Xa())},i.Xa=function(){Xs(this)};function Xs(h){if(h.h&&typeof l<"u"){if(h.v&&ci(h)==4)setTimeout(h.Ca.bind(h),0);else if(jt(h,"readystatechange"),ci(h)==4){h.h=!1;try{const H=h.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=H===0){let se=String(h.D).match(qc)[1]||null;!se&&c.self&&c.self.location&&(se=c.self.location.protocol.slice(0,-1)),S=!Li.test(se?se.toLowerCase():"")}v=S}if(v)jt(h,"complete"),jt(h,"success");else{h.o=6;try{var z=ci(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",Gl(h)}}finally{nr(h)}}}}function nr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,y||jt(h,"ready");try{v.onreadystatechange=null}catch{}}}i.isActive=function(){return!!this.g};function ci(h){return h.g?h.g.readyState:0}i.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},i.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),jd(y)}};function $t(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ir(h){const y={};h=(h.g&&ci(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(C(h[S]))continue;var v=zc(h[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=y[z]||[];y[z]=H,H.push(v)}Me(y,function(S){return S.join(", ")})}i.ya=function(){return this.o},i.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function Fr(h){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,h),this.Za=Ui("retryDelaySeedMs",1e4,h),this.Ta=Ui("forwardChannelMaxRetries",2,h),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Vl(h&&h.concurrentRequestLimit),this.Ba=new zr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}i=Fr.prototype,i.ka=8,i.I=1,i.connect=function(h,y,v,S){Rt(0),this.W=h,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=eh(this,null,this.W),ji(this)};function Kl(h){if(ro(h),h.I==3){var y=h.V++,v=Dt(h.J);if(Ze(v,"SID",h.M),Ze(v,"RID",y),Ze(v,"TYPE","terminate"),$s(h,v),y=new ai(h,h.j,y),y.M=2,y.A=Hs(Dt(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=th(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ni(y)}Zc(h)}function qr(h){h.g&&(Ql(h),h.g.cancel(),h.g=null)}function ro(h){qr(h),h.v&&(c.clearTimeout(h.v),h.v=null),ao(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ji(h){if(!kl(h.h)&&!h.m){h.m=!0;var y=h.Ea;be||A(),_e||(be(),_e=!0),x.add(y,h),h.D=0}}function so(h,y){return Mi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=xi(p(h.Ea,h,y),Jc(h,h.D)),h.D++,!0)}i.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new ai(this,this.j,h);let H=this.o;if(this.U&&(H?(H=D(H),re(H,this.U)):H=this.U),this.u!==null||this.R||(z.J=H,H=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=Qc(this,z,y),v=Dt(this.J),Ze(v,"RID",h),Ze(v,"CVER",22),this.G&&Ze(v,"X-HTTP-Session-Id",this.G),$s(this,v),H&&(this.R?y="headers="+tr(Fn(H))+"&"+y:this.u&&Ys(v,this.u,H)),Pl(this.h,z),this.Ra&&Ze(v,"TYPE","init"),this.S?(Ze(v,"$req",y),Ze(v,"SID","null"),z.U=!0,Ci(z,v,null)):Ci(z,v,y),this.I=2}}else this.I==3&&(h?Yl(this,h):this.i.length==0||kl(this.h)||Yl(this))};function Yl(h,y){var v;y?v=y.l:v=h.V++;const S=Dt(h.J);Ze(S,"SID",h.M),Ze(S,"RID",v),Ze(S,"AID",h.K),$s(h,S),h.u&&h.o&&Ys(S,h.u,h.o),v=new ai(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),y&&(h.i=y.G.concat(h.i)),y=Qc(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),Pl(h.h,v),Ci(v,S,y)}function $s(h,y){h.H&&xe(h.H,function(v,S){Ze(y,S,v)}),h.l&&xe({},function(v,S){Ze(y,S,v)})}function Qc(h,y,v){v=Math.min(h.i.length,v);const S=h.l?p(h.l.Ka,h.l,h):null;e:{var z=h.i;let ke=-1;for(;;){const St=["count="+v];ke==-1?v>0?(ke=z[0].g,St.push("ofs="+ke)):ke=0:St.push("ofs="+ke);let $e=!0;for(let mt=0;mt<v;mt++){var H=z[mt].g;const qn=z[mt].map;if(H-=ke,H<0)ke=Math.max(0,z[mt].g-100),$e=!1;else try{H="req"+H+"_"||"";try{var se=qn instanceof Map?qn:Object.entries(qn);for(const[Bi,hi]of se){let fi=hi;m(hi)&&(fi=kr(hi)),St.push(H+Bi+"="+encodeURIComponent(fi))}}catch(Bi){throw St.push(H+"type="+encodeURIComponent("_badmap")),Bi}}catch{S&&S(qn)}}if($e){se=St.join("&");break e}}se=void 0}return h=h.i.splice(0,v),y.G=h,se}function Xc(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;be||A(),_e||(be(),_e=!0),x.add(y,h),h.A=0}}function Ws(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=xi(p(h.Da,h),Jc(h,h.A)),h.A++,!0)}i.Da=function(){if(this.v=null,$c(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=xi(p(this.Wa,this),h)}},i.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Rt(10),qr(this),$c(this))};function Ql(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function $c(h){h.g=new ai(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Dt(h.na);Ze(y,"RID","rpc"),Ze(y,"SID",h.M),Ze(y,"AID",h.K),Ze(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(y,"TO",h.ia),Ze(y,"TYPE","xmlhttp"),$s(h,y),h.u&&h.o&&Ys(y,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=Hs(Dt(y)),v.u=null,v.R=!0,Wa(v,h)}i.Va=function(){this.C!=null&&(this.C=null,qr(this),Ws(this),Rt(19))};function ao(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function Wc(h,y){var v=null;if(h.g==y){ao(h),Ql(h),h.g=null;var S=2}else if(Vi(h.h,y))v=y.G,Ll(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;S=$a(),jt(S,new Ii(S,v)),ji(h)}else Xc(h);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&so(h,y)||S==2&&Ws(h)))switch(v&&v.length>0&&(y=h.h,y.i=y.i.concat(v)),z){case 1:zi(h,5);break;case 4:zi(h,10);break;case 3:zi(h,6);break;default:zi(h,2)}}}function Jc(h,y){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*y}function zi(h,y){if(h.j.info("Error code "+y),y==2){var v=p(h.bb,h),S=h.Ua;const z=!S;S=new Sn(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Kt(S,"https"),Hs(S),z?li(S.toString(),v):ql(S.toString(),v)}else Rt(2);h.I=0,h.l&&h.l.pa(y),Zc(h),ro(h)}i.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Rt(2)):(this.j.info("Failed to ping google.com"),Rt(1))};function Zc(h){if(h.I=0,h.ja=[],h.l){const y=Ul(h.h);(y.length!=0||h.i.length!=0)&&(Q(h.ja,y),Q(h.ja,h.i),h.h.i.length=0,U(h.i),h.i.length=0),h.l.oa()}}function eh(h,y,v){var S=v instanceof Sn?Dt(v):new Sn(v);if(S.g!="")y&&(S.g=y+"."+S.g),Pr(S,S.u);else{var z=c.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const H=new Sn(null);S&&Kt(H,S),y&&(H.g=y),z&&Pr(H,z),v&&(H.h=v),S=H}return v=h.G,y=h.wa,v&&y&&Ze(S,v,y),Ze(S,"VER",h.ka),$s(h,S),S}function th(h,y,v){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new st(new Pi({ab:v})):new st(h.ma),y.Fa(h.L),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function nh(){}i=nh.prototype,i.ra=function(){},i.qa=function(){},i.pa=function(){},i.oa=function(){},i.isActive=function(){return!0},i.Ka=function(){};function Hr(){}Hr.prototype.g=function(h,y){return new cn(h,y)};function cn(h,y){xt.call(this),this.g=new Fr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!C(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new rr(this)}T(cn,xt),cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){Kl(this.g)},cn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=kr(h),h=v);y.i.push(new Nt(y.Ya++,h)),y.I==3&&ji(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,Kl(this.g),delete this.g,cn.Z.N.call(this)};function ih(h){Xt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(ih,Xt);function rh(){jn.call(this),this.status=1}T(rh,jn);function rr(h){this.g=h}T(rr,nh),rr.prototype.ra=function(){jt(this.g,"a")},rr.prototype.qa=function(h){jt(this.g,new ih(h))},rr.prototype.pa=function(h){jt(this.g,new rh)},rr.prototype.oa=function(){jt(this.g,"b")},Hr.prototype.createWebChannel=Hr.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,pS=function(){return new Hr},gS=function(){return $a()},mS=wt,_p={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Fs.NO_ERROR=0,Fs.TIMEOUT=8,Fs.HTTP_ERROR=6,Sf=Fs,Ol.COMPLETE="complete",dS=Ol,Pc.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",xt.prototype.listen=xt.prototype.J,qu=Pc,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,fS=st}).apply(typeof cf<"u"?cf:typeof self<"u"?self:typeof window<"u"?window:{});class tn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}tn.UNAUTHENTICATED=new tn(null),tn.GOOGLE_CREDENTIALS=new tn("google-credentials-uid"),tn.FIRST_PARTY=new tn("first-party-uid"),tn.MOCK_USER=new tn("mock-user");let El="12.9.0";function HD(i){El=i}const La=new dd("@firebase/firestore");function Ko(){return La.logLevel}function ie(i,...e){if(La.logLevel<=He.DEBUG){const t=e.map(fy);La.debug(`Firestore (${El}): ${i}`,...t)}}function fn(i,...e){if(La.logLevel<=He.ERROR){const t=e.map(fy);La.error(`Firestore (${El}): ${i}`,...t)}}function Ds(i,...e){if(La.logLevel<=He.WARN){const t=e.map(fy);La.warn(`Firestore (${El}): ${i}`,...t)}}function fy(i){if(typeof i=="string")return i;try{return(function(t){return JSON.stringify(t)})(i)}catch{return i}}function pe(i,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,yS(i,r,t)}function yS(i,e,t){let r=`FIRESTORE (${El}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw fn(r),new Error(r)}function ve(i,e,t,r){let a="Unexpected state";typeof t=="string"?a=t:r=t,i||yS(e,a,r)}function Ne(i,e){return i}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ei{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ir{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class _S{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class GD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(tn.UNAUTHENTICATED)))}shutdown(){}}class KD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class YD{constructor(e){this.t=e,this.currentUser=tn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ve(this.o===void 0,42304);let r=this.i;const a=g=>this.i!==r?(r=this.i,t(g)):Promise.resolve();let l=new Ir;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ir,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},m=g=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>m(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ir)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ve(typeof r.accessToken=="string",31837,{l:r}),new _S(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ve(e===null||typeof e=="string",2055,{h:e}),new tn(e)}}class QD{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=tn.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class XD{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new QD(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(tn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class $D{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ve(this.o===void 0,3512);const r=l=>{l.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ie("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>r(l)))};const a=l=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ve(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new pT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function WD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<i;r++)t[r]=Math.floor(256*Math.random());return t}class dy{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const a=WD(40);for(let l=0;l<a.length;++l)r.length<20&&a[l]<t&&(r+=e.charAt(a[l]%62))}return r}}function Ce(i,e){return i<e?-1:i>e?1:0}function vp(i,e){const t=Math.min(i.length,e.length);for(let r=0;r<t;r++){const a=i.charAt(r),l=e.charAt(r);if(a!==l)return Jg(a)===Jg(l)?Ce(a,l):Jg(a)?1:-1}return Ce(i.length,e.length)}const JD=55296,ZD=57343;function Jg(i){const e=i.charCodeAt(0);return e>=JD&&e<=ZD}function sl(i,e,t){return i.length===e.length&&i.every(((r,a)=>t(r,e[a])))}function vS(i){return i+"\0"}const yT="__name__";class Yi{constructor(e,t,r){t===void 0?t=0:t>e.length&&pe(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&pe(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Yi.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Yi?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let a=0;a<r;a++){const l=Yi.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ce(e.length,t.length)}static compareSegments(e,t){const r=Yi.isNumericId(e),a=Yi.isNumericId(t);return r&&!a?-1:!r&&a?1:r&&a?Yi.extractNumericId(e).compare(Yi.extractNumericId(t)):vp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class ut extends Yi{construct(e,t,r){return new ut(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((a=>a.length>0)))}return new ut(t)}static emptyPath(){return new ut([])}}const eO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Yi{construct(e,t,r){return new _t(e,t,r)}static isValidIdentifier(e){return eO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yT}static keyField(){return new _t([yT])}static fromServerFormat(e){const t=[];let r="",a=0;const l=()=>{if(r.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=g,a+=2}else m==="`"?(c=!c,a++):m!=="."||c?(r+=m,a++):(l(),a++)}if(l(),c)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(t)}static emptyPath(){return new _t([])}}class ce{constructor(e){this.path=e}static fromPath(e){return new ce(ut.fromString(e))}static fromName(e){return new ce(ut.fromString(e).popFirst(5))}static empty(){return new ce(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new ut(e.slice()))}}function tO(i,e,t){if(!t)throw new he(Z.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function nO(i,e,t,r){if(e===!0&&r===!0)throw new he(Z.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function _T(i){if(!ce.isDocumentKey(i))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function bS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function my(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":pe(12329,{type:typeof i})}function xr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=my(i);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Lt(i,e){const t={typeString:i};return e&&(t.value=e),t}function Sc(i,e){if(!bS(i))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const a=e[r].typeString,l="value"in e[r]?{value:e[r].value}:void 0;if(!(r in i)){t=`JSON missing required field: '${r}'`;break}const c=i[r];if(a&&typeof c!==a){t=`JSON field '${r}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${r}' field to equal '${l.value}'`;break}}if(t)throw new he(Z.INVALID_ARGUMENT,t);return!0}const vT=-62135596800,bT=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*bT);return new it(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<vT)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/bT}_compareTo(e){return this.seconds===e.seconds?Ce(this.nanoseconds,e.nanoseconds):Ce(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Sc(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:Lt("string",it._jsonSchemaVersion),seconds:Lt("number"),nanoseconds:Lt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new it(0,0))}static max(){return new we(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ac=-1;class Kf{constructor(e,t,r,a){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=a}}function bp(i){return i.fields.find((e=>e.kind===2))}function ya(i){return i.fields.filter((e=>e.kind!==2))}Kf.UNKNOWN_ID=-1;class Af{constructor(e,t){this.fieldPath=e,this.kind=t}}class oc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new oc(0,Pn.min())}}function iO(i,e){const t=i.toTimestamp().seconds,r=i.toTimestamp().nanoseconds+1,a=we.fromTimestamp(r===1e9?new it(t+1,0):new it(t,r));return new Pn(a,ce.empty(),e)}function TS(i){return new Pn(i.readTime,i.key,ac)}class Pn{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Pn(we.min(),ce.empty(),ac)}static max(){return new Pn(we.max(),ce.empty(),ac)}}function gy(i,e){let t=i.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(i.documentKey,e.documentKey),t!==0?t:Ce(i.largestBatchId,e.largestBatchId))}const ES="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ka(i){if(i.code!==Z.FAILED_PRECONDITION||i.message!==ES)throw i;ie("LocalStore","Unexpectedly lost primary lease")}class j{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&pe(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new j(((r,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(r,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(r,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof j?t:j.resolve(t)}catch(t){return j.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):j.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):j.reject(t)}static resolve(e){return new j(((t,r)=>{t(e)}))}static reject(e){return new j(((t,r)=>{r(e)}))}static waitFor(e){return new j(((t,r)=>{let a=0,l=0,c=!1;e.forEach((m=>{++a,m.next((()=>{++l,c&&l===a&&t()}),(g=>r(g)))})),c=!0,l===a&&t()}))}static or(e){let t=j.resolve(!1);for(const r of e)t=t.next((a=>a?j.resolve(a):r()));return t}static forEach(e,t){const r=[];return e.forEach(((a,l)=>{r.push(t.call(this,a,l))})),this.waitFor(r)}static mapArray(e,t){return new j(((r,a)=>{const l=e.length,c=new Array(l);let m=0;for(let g=0;g<l;g++){const p=g;t(e[p]).next((b=>{c[p]=b,++m,m===l&&r(c)}),(b=>a(b)))}}))}static doWhile(e,t){return new j(((r,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):r()};l()}))}}const On="SimpleDb";class vd{static open(e,t,r,a){try{return new vd(t,e.transaction(a,r))}catch(l){throw new $u(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new Ir,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new $u(e,t.error)):this.S.resolve()},this.transaction.onerror=r=>{const a=py(r.target.error);this.S.reject(new $u(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ie(On,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new sO(t)}}class Cs{static delete(e){return ie(On,"Removing database:",e),ba(WE().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!Yp())return!1;if(Cs.F())return!0;const e=qt(),t=Cs.M(e),r=0<t&&t<10,a=SS(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}constructor(e,t,r){this.name=e,this.version=t,this.N=r,this.B=null,Cs.M(qt())===12.2&&fn("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ie(On,"Opening database:",this.name),this.db=await new Promise(((t,r)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;t(c)},a.onblocked=()=>{r(new $u(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?r(new he(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?r(new he(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):r(new $u(e,c))},a.onupgradeneeded=l=>{ie(On,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,a.transaction,l.oldVersion,this.version).next((()=>{ie(On,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,r,a){const l=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const m=vd.open(this.db,e,l?"readonly":"readwrite",r),g=a(m).next((p=>(m.C(),p))).catch((p=>(m.abort(p),j.reject(p)))).toPromise();return g.catch((()=>{})),await m.D,g}catch(m){const g=m,p=g.name!=="FirebaseError"&&c<3;if(ie(On,"Transaction failed with error:",g.message,"Retrying:",p),this.close(),!p)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}function SS(i){const e=i.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class rO{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return ba(this.U.delete())}}class $u extends he{constructor(e,t){super(Z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ps(i){return i.name==="IndexedDbTransactionError"}class sO{constructor(e){this.store=e}put(e,t){let r;return t!==void 0?(ie(On,"PUT",this.store.name,e,t),r=this.store.put(t,e)):(ie(On,"PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),ba(r)}add(e){return ie(On,"ADD",this.store.name,e,e),ba(this.store.add(e))}get(e){return ba(this.store.get(e)).next((t=>(t===void 0&&(t=null),ie(On,"GET",this.store.name,e,t),t)))}delete(e){return ie(On,"DELETE",this.store.name,e),ba(this.store.delete(e))}count(){return ie(On,"COUNT",this.store.name),ba(this.store.count())}H(e,t){const r=this.options(e,t),a=r.index?this.store.index(r.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(r.range);return new j(((c,m)=>{l.onerror=g=>{m(g.target.error)},l.onsuccess=g=>{c(g.target.result)}}))}{const l=this.cursor(r),c=[];return this.J(l,((m,g)=>{c.push(g)})).next((()=>c))}}Z(e,t){const r=this.store.getAll(e,t===null?void 0:t);return new j(((a,l)=>{r.onerror=c=>{l(c.target.error)},r.onsuccess=c=>{a(c.target.result)}}))}X(e,t){ie(On,"DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const a=this.cursor(r);return this.J(a,((l,c,m)=>m.delete()))}ee(e,t){let r;t?r=e:(r={},t=e);const a=this.cursor(r);return this.J(a,t)}te(e){const t=this.cursor({});return new j(((r,a)=>{t.onerror=l=>{const c=py(l.target.error);a(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next((m=>{m?c.continue():r()})):r()}}))}J(e,t){const r=[];return new j(((a,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const m=c.target.result;if(!m)return void a();const g=new rO(m),p=t(m.primaryKey,m.value,g);if(p instanceof j){const b=p.catch((T=>(g.done(),j.reject(T))));r.push(b)}g.isDone?a():g.G===null?m.continue():m.continue(g.G)}})).next((()=>j.waitFor(r)))}options(e,t){let r;return e!==void 0&&(typeof e=="string"?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ba(i){return new j(((e,t)=>{i.onsuccess=r=>{const a=r.target.result;e(a)},i.onerror=r=>{const a=py(r.target.error);t(a)}}))}let TT=!1;function py(i){const e=Cs.M(qt());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const r=new he("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return TT||(TT=!0,setTimeout((()=>{throw r}),0)),r}}return i}const Wu="IndexBackfiller";class aO{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ie(Wu,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();ie(Wu,`Documents written: ${t}`)}catch(t){Ps(t)?ie(Wu,"Ignoring IndexedDB error during index backfill: ",t):await Ka(t)}await this.re(6e4)}))}}class oO{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const r=new Set;let a=t,l=!0;return j.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!r.has(c))return ie(Wu,`Processing collection: ${c}`),this.oe(e,c,a).next((m=>{a-=m,r.add(c)}));l=!1})))).next((()=>t-a))}oe(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,r).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,l))).next((m=>(ie(Wu,`Updating offset: ${m}`),this.localStore.indexManager.updateCollectionGroup(e,t,m)))).next((()=>c.size))}))))}_e(e,t){let r=e;return t.changes.forEach(((a,l)=>{const c=TS(l);gy(c,r)>0&&(r=c)})),new Pn(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}class Zn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zn.ce=-1;const Ra=-1;function bd(i){return i==null}function lc(i){return i===0&&1/i==-1/0}function lO(i){return typeof i=="number"&&Number.isInteger(i)&&!lc(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}const Yf="";function on(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=ET(e)),e=uO(i.get(t),e);return ET(e)}function uO(i,e){let t=e;const r=i.length;for(let a=0;a<r;a++){const l=i.charAt(a);switch(l){case"\0":t+="";break;case Yf:t+="";break;default:t+=l}}return t}function ET(i){return i+Yf+""}function Qi(i){const e=i.length;if(ve(e>=2,64408,{path:i}),e===2)return ve(i.charAt(0)===Yf&&i.charAt(1)==="",56145,{path:i}),ut.emptyPath();const t=e-2,r=[];let a="";for(let l=0;l<e;){const c=i.indexOf(Yf,l);switch((c<0||c>t)&&pe(50515,{path:i}),i.charAt(c+1)){case"":const m=i.substring(l,c);let g;a.length===0?g=m:(a+=m,g=a,a=""),r.push(g);break;case"":a+=i.substring(l,c),a+="\0";break;case"":a+=i.substring(l,c+1);break;default:pe(61167,{path:i})}l=c+2}return new ut(r)}const _a="remoteDocuments",Ac="owner",Uo="owner",uc="mutationQueues",cO="userId",pi="mutations",wT="batchId",Ia="userMutationsIndex",ST=["userId","batchId"];function If(i,e){return[i,on(e)]}function AS(i,e,t){return[i,on(e),t]}const hO={},al="documentMutations",Qf="remoteDocumentsV14",fO=["prefixPath","collectionGroup","readTime","documentId"],xf="documentKeyIndex",dO=["prefixPath","collectionGroup","documentId"],IS="collectionGroupIndex",mO=["collectionGroup","readTime","prefixPath","documentId"],cc="remoteDocumentGlobal",Tp="remoteDocumentGlobalKey",ol="targets",xS="queryTargetsIndex",gO=["canonicalId","targetId"],ll="targetDocuments",pO=["targetId","path"],yy="documentTargetsIndex",yO=["path","targetId"],Xf="targetGlobalKey",Ca="targetGlobal",hc="collectionParents",_O=["collectionId","parent"],ul="clientMetadata",vO="clientId",Td="bundles",bO="bundleId",Ed="namedQueries",TO="name",_y="indexConfiguration",EO="indexId",Ep="collectionGroupIndex",wO="collectionGroup",Ju="indexState",SO=["indexId","uid"],RS="sequenceNumberIndex",AO=["uid","sequenceNumber"],Zu="indexEntries",IO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],CS="documentKeyIndex",xO=["indexId","uid","orderedDocumentKey"],wd="documentOverlays",RO=["userId","collectionPath","documentId"],wp="collectionPathOverlayIndex",CO=["userId","collectionPath","largestBatchId"],NS="collectionGroupOverlayIndex",NO=["userId","collectionGroup","largestBatchId"],vy="globals",DO="name",DS=[uc,pi,al,_a,ol,Ac,Ca,ll,ul,cc,hc,Td,Ed],OO=[...DS,wd],OS=[uc,pi,al,Qf,ol,Ac,Ca,ll,ul,cc,hc,Td,Ed,wd],MS=OS,by=[...MS,_y,Ju,Zu],MO=by,VS=[...by,vy],VO=VS;class Sp extends wS{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Ht(i,e){const t=Ne(i);return Cs.O(t.le,e)}function AT(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function Ya(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function kS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class yt{constructor(e,t){this.comparator=e,this.root=t||nn.EMPTY}insert(e,t){return new yt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(e){return new yt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,nn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const a=this.comparator(e,r.key);if(a===0)return t+r.left.size;a<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new hf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new hf(this.root,e,this.comparator,!1)}getReverseIterator(){return new hf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new hf(this.root,e,this.comparator,!0)}}class hf{constructor(e,t,r,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class nn{constructor(e,t,r,a,l){this.key=e,this.value=t,this.color=r??nn.RED,this.left=a??nn.EMPTY,this.right=l??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,a,l){return new nn(e??this.key,t??this.value,r??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let a=this;const l=r(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,r),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,r)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;r=a.right.min(),a=a.copy(r.key,r.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw pe(43730,{key:this.key,value:this.value});if(this.right.isRed())throw pe(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw pe(27949);return e+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw pe(57766)}get value(){throw pe(16141)}get color(){throw pe(16727)}get left(){throw pe(29726)}get right(){throw pe(36894)}copy(e,t,r,a,l){return this}insert(e,t,r){return new nn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rt{constructor(e){this.comparator=e,this.data=new yt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const a=r.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new IT(this.data.getIterator())}getIteratorFrom(e){return new IT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new rt(this.comparator);return t.data=e,t}}class IT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function jo(i){return i.hasNext()?i.getNext():void 0}class ei{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new ei([])}unionWith(e){let t=new rt(_t.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new ei(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return sl(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}class PS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ut{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new PS("Invalid base64 string: "+l):l}})(e);return new Ut(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Ut(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ce(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ut.EMPTY_BYTE_STRING=new Ut("");const kO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(i){if(ve(!!i,39018),typeof i=="string"){let e=0;const t=kO.exec(i);if(ve(!!t,46558,{timestamp:i}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const r=new Date(i);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(i.seconds),nanos:pt(i.nanos)}}function pt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function Dr(i){return typeof i=="string"?Ut.fromBase64String(i):Ut.fromUint8Array(i)}const LS="server_timestamp",US="__type__",jS="__previous_value__",zS="__local_write_time__";function Ty(i){return(i?.mapValue?.fields||{})[US]?.stringValue===LS}function Sd(i){const e=i.mapValue.fields[jS];return Ty(e)?Sd(e):e}function fc(i){const e=Nr(i.mapValue.fields[zS].timestampValue);return new it(e.seconds,e.nanos)}class PO{constructor(e,t,r,a,l,c,m,g,p,b,T){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=b,this.apiKey=T}}const $f="(default)";class Ua{constructor(e,t){this.projectId=e,this.database=t||$f}static empty(){return new Ua("","")}get isDefaultDatabase(){return this.database===$f}isEqual(e){return e instanceof Ua&&e.projectId===this.projectId&&e.database===this.database}}function LO(i,e){if(!Object.prototype.hasOwnProperty.apply(i.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ua(i.options.projectId,e)}const Ey="__type__",BS="__max__",As={mapValue:{fields:{__type__:{stringValue:BS}}}},wy="__vector__",cl="value",Rf={nullValue:"NULL_VALUE"};function Os(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Ty(i)?4:FS(i)?9007199254740991:Ad(i)?10:11:pe(28295,{value:i})}function er(i,e){if(i===e)return!0;const t=Os(i);if(t!==Os(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return fc(i).isEqual(fc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Nr(a.timestampValue),m=Nr(l.timestampValue);return c.seconds===m.seconds&&c.nanos===m.nanos})(i,e);case 5:return i.stringValue===e.stringValue;case 6:return(function(a,l){return Dr(a.bytesValue).isEqual(Dr(l.bytesValue))})(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return(function(a,l){return pt(a.geoPointValue.latitude)===pt(l.geoPointValue.latitude)&&pt(a.geoPointValue.longitude)===pt(l.geoPointValue.longitude)})(i,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return pt(a.integerValue)===pt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=pt(a.doubleValue),m=pt(l.doubleValue);return c===m?lc(c)===lc(m):isNaN(c)&&isNaN(m)}return!1})(i,e);case 9:return sl(i.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},m=l.mapValue.fields||{};if(AT(c)!==AT(m))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(m[g]===void 0||!er(c[g],m[g])))return!1;return!0})(i,e);default:return pe(52216,{left:i})}}function dc(i,e){return(i.values||[]).find((t=>er(t,e)))!==void 0}function Ms(i,e){if(i===e)return 0;const t=Os(i),r=Os(e);if(t!==r)return Ce(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ce(i.booleanValue,e.booleanValue);case 2:return(function(l,c){const m=pt(l.integerValue||l.doubleValue),g=pt(c.integerValue||c.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1})(i,e);case 3:return xT(i.timestampValue,e.timestampValue);case 4:return xT(fc(i),fc(e));case 5:return vp(i.stringValue,e.stringValue);case 6:return(function(l,c){const m=Dr(l),g=Dr(c);return m.compareTo(g)})(i.bytesValue,e.bytesValue);case 7:return(function(l,c){const m=l.split("/"),g=c.split("/");for(let p=0;p<m.length&&p<g.length;p++){const b=Ce(m[p],g[p]);if(b!==0)return b}return Ce(m.length,g.length)})(i.referenceValue,e.referenceValue);case 8:return(function(l,c){const m=Ce(pt(l.latitude),pt(c.latitude));return m!==0?m:Ce(pt(l.longitude),pt(c.longitude))})(i.geoPointValue,e.geoPointValue);case 9:return RT(i.arrayValue,e.arrayValue);case 10:return(function(l,c){const m=l.fields||{},g=c.fields||{},p=m[cl]?.arrayValue,b=g[cl]?.arrayValue,T=Ce(p?.values?.length||0,b?.values?.length||0);return T!==0?T:RT(p,b)})(i.mapValue,e.mapValue);case 11:return(function(l,c){if(l===As.mapValue&&c===As.mapValue)return 0;if(l===As.mapValue)return 1;if(c===As.mapValue)return-1;const m=l.fields||{},g=Object.keys(m),p=c.fields||{},b=Object.keys(p);g.sort(),b.sort();for(let T=0;T<g.length&&T<b.length;++T){const I=vp(g[T],b[T]);if(I!==0)return I;const U=Ms(m[g[T]],p[b[T]]);if(U!==0)return U}return Ce(g.length,b.length)})(i.mapValue,e.mapValue);default:throw pe(23264,{he:t})}}function xT(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ce(i,e);const t=Nr(i),r=Nr(e),a=Ce(t.seconds,r.seconds);return a!==0?a:Ce(t.nanos,r.nanos)}function RT(i,e){const t=i.values||[],r=e.values||[];for(let a=0;a<t.length&&a<r.length;++a){const l=Ms(t[a],r[a]);if(l)return l}return Ce(t.length,r.length)}function hl(i){return Ap(i)}function Ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?(function(t){const r=Nr(t);return`time(${r.seconds},${r.nanos})`})(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?(function(t){return Dr(t).toBase64()})(i.bytesValue):"referenceValue"in i?(function(t){return ce.fromName(t).toString()})(i.referenceValue):"geoPointValue"in i?(function(t){return`geo(${t.latitude},${t.longitude})`})(i.geoPointValue):"arrayValue"in i?(function(t){let r="[",a=!0;for(const l of t.values||[])a?a=!1:r+=",",r+=Ap(l);return r+"]"})(i.arrayValue):"mapValue"in i?(function(t){const r=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of r)l?l=!1:a+=",",a+=`${c}:${Ap(t.fields[c])}`;return a+"}"})(i.mapValue):pe(61005,{value:i})}function Cf(i){switch(Os(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Sd(i);return e?16+Cf(e):16;case 5:return 2*i.stringValue.length;case 6:return Dr(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((a,l)=>a+Cf(l)),0)})(i.arrayValue);case 10:case 11:return(function(r){let a=0;return Ya(r.fields,((l,c)=>{a+=l.length+Cf(c)})),a})(i.mapValue);default:throw pe(13486,{value:i})}}function Sy(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Ip(i){return!!i&&"integerValue"in i}function mc(i){return!!i&&"arrayValue"in i}function CT(i){return!!i&&"nullValue"in i}function NT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Nf(i){return!!i&&"mapValue"in i}function Ad(i){return(i?.mapValue?.fields||{})[Ey]?.stringValue===wy}function ec(i){if(i.geoPointValue)return{geoPointValue:{...i.geoPointValue}};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:{...i.timestampValue}};if(i.mapValue){const e={mapValue:{fields:{}}};return Ya(i.mapValue.fields,((t,r)=>e.mapValue.fields[t]=ec(r))),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ec(i.arrayValue.values[t]);return e}return{...i}}function FS(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===BS}const qS={mapValue:{fields:{[Ey]:{stringValue:wy},[cl]:{arrayValue:{}}}}};function UO(i){return"nullValue"in i?Rf:"booleanValue"in i?{booleanValue:!1}:"integerValue"in i||"doubleValue"in i?{doubleValue:NaN}:"timestampValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in i?{stringValue:""}:"bytesValue"in i?{bytesValue:""}:"referenceValue"in i?Sy(Ua.empty(),ce.empty()):"geoPointValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in i?{arrayValue:{}}:"mapValue"in i?Ad(i)?qS:{mapValue:{}}:pe(35942,{value:i})}function jO(i){return"nullValue"in i?{booleanValue:!1}:"booleanValue"in i?{doubleValue:NaN}:"integerValue"in i||"doubleValue"in i?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in i?{stringValue:""}:"stringValue"in i?{bytesValue:""}:"bytesValue"in i?Sy(Ua.empty(),ce.empty()):"referenceValue"in i?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in i?{arrayValue:{}}:"arrayValue"in i?qS:"mapValue"in i?Ad(i)?{mapValue:{}}:As:pe(61959,{value:i})}function DT(i,e){const t=Ms(i.value,e.value);return t!==0?t:i.inclusive&&!e.inclusive?-1:!i.inclusive&&e.inclusive?1:0}function OT(i,e){const t=Ms(i.value,e.value);return t!==0?t:i.inclusive&&!e.inclusive?1:!i.inclusive&&e.inclusive?-1:0}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Nf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(t)}setAll(e){let t=_t.emptyPath(),r={},a=[];e.forEach(((c,m)=>{if(!t.isImmediateParentOf(m)){const g=this.getFieldsMap(t);this.applyChanges(g,r,a),r={},a=[],t=m.popLast()}c?r[m.lastSegment()]=ec(c):a.push(m.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,r,a)}delete(e){const t=this.field(e.popLast());Nf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let a=t.mapValue.fields[e.get(r)];Nf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,r){Ya(t,((a,l)=>e[a]=l));for(const a of r)delete e[a]}clone(){return new En(ec(this.value))}}function HS(i){const e=[];return Ya(i.fields,((t,r)=>{const a=new _t([t]);if(Nf(r)){const l=HS(r.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new ei(e)}class Et{constructor(e,t,r,a,l,c,m){this.key=e,this.documentType=t,this.version=r,this.readTime=a,this.createTime=l,this.data=c,this.documentState=m}static newInvalidDocument(e){return new Et(e,0,we.min(),we.min(),we.min(),En.empty(),0)}static newFoundDocument(e,t,r,a){return new Et(e,1,t,we.min(),r,a,0)}static newNoDocument(e,t){return new Et(e,2,t,we.min(),we.min(),En.empty(),0)}static newUnknownDocument(e,t){return new Et(e,3,t,we.min(),we.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class fl{constructor(e,t){this.position=e,this.inclusive=t}}function MT(i,e,t){let r=0;for(let a=0;a<i.position.length;a++){const l=e[a],c=i.position[a];if(l.field.isKeyField()?r=ce.comparator(ce.fromName(c.referenceValue),t.key):r=Ms(c,t.data.field(l.field)),l.dir==="desc"&&(r*=-1),r!==0)break}return r}function VT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!er(i.position[t],e.position[t]))return!1;return!0}class Wf{constructor(e,t="asc"){this.field=e,this.dir=t}}function zO(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}class GS{}class Ke extends GS{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new BO(e,t,r):t==="array-contains"?new HO(e,r):t==="in"?new WS(e,r):t==="not-in"?new GO(e,r):t==="array-contains-any"?new KO(e,r):new Ke(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new FO(e,r):new qO(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Ms(t,this.value)):t!==null&&Os(this.value)===Os(t)&&this.matchesComparison(Ms(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return pe(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ct extends GS{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ct(e,t)}matches(e){return dl(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function dl(i){return i.op==="and"}function xp(i){return i.op==="or"}function Ay(i){return KS(i)&&dl(i)}function KS(i){for(const e of i.filters)if(e instanceof ct)return!1;return!0}function Rp(i){if(i instanceof Ke)return i.field.canonicalString()+i.op.toString()+hl(i.value);if(Ay(i))return i.filters.map((e=>Rp(e))).join(",");{const e=i.filters.map((t=>Rp(t))).join(",");return`${i.op}(${e})`}}function YS(i,e){return i instanceof Ke?(function(r,a){return a instanceof Ke&&r.op===a.op&&r.field.isEqual(a.field)&&er(r.value,a.value)})(i,e):i instanceof ct?(function(r,a){return a instanceof ct&&r.op===a.op&&r.filters.length===a.filters.length?r.filters.reduce(((l,c,m)=>l&&YS(c,a.filters[m])),!0):!1})(i,e):void pe(19439)}function QS(i,e){const t=i.filters.concat(e);return ct.create(t,i.op)}function XS(i){return i instanceof Ke?(function(t){return`${t.field.canonicalString()} ${t.op} ${hl(t.value)}`})(i):i instanceof ct?(function(t){return t.op.toString()+" {"+t.getFilters().map(XS).join(" ,")+"}"})(i):"Filter"}class BO extends Ke{constructor(e,t,r){super(e,t,r),this.key=ce.fromName(r.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class FO extends Ke{constructor(e,t){super(e,"in",t),this.keys=$S("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class qO extends Ke{constructor(e,t){super(e,"not-in",t),this.keys=$S("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function $S(i,e){return(e.arrayValue?.values||[]).map((t=>ce.fromName(t.referenceValue)))}class HO extends Ke{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return mc(t)&&dc(t.arrayValue,this.value)}}class WS extends Ke{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&dc(this.value.arrayValue,t)}}class GO extends Ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(dc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!dc(this.value.arrayValue,t)}}class KO extends Ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!mc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>dc(this.value.arrayValue,r)))}}class YO{constructor(e,t=null,r=[],a=[],l=null,c=null,m=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=a,this.limit=l,this.startAt=c,this.endAt=m,this.Te=null}}function Cp(i,e=null,t=[],r=[],a=null,l=null,c=null){return new YO(i,e,t,r,a,l,c)}function ja(i){const e=Ne(i);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Rp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(l){return l.field.canonicalString()+l.dir})(r))).join(","),bd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>hl(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>hl(r))).join(",")),e.Te=t}return e.Te}function Ic(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<i.orderBy.length;t++)if(!zO(i.orderBy[t],e.orderBy[t]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let t=0;t<i.filters.length;t++)if(!YS(i.filters[t],e.filters[t]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!VT(i.startAt,e.startAt)&&VT(i.endAt,e.endAt)}function Jf(i){return ce.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function Zf(i,e){return i.filters.filter((t=>t instanceof Ke&&t.field.isEqual(e)))}function kT(i,e,t){let r=Rf,a=!0;for(const l of Zf(i,e)){let c=Rf,m=!0;switch(l.op){case"<":case"<=":c=UO(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,m=!1;break;case"!=":case"not-in":c=Rf}DT({value:r,inclusive:a},{value:c,inclusive:m})<0&&(r=c,a=m)}if(t!==null){for(let l=0;l<i.orderBy.length;++l)if(i.orderBy[l].field.isEqual(e)){const c=t.position[l];DT({value:r,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(r=c,a=t.inclusive);break}}return{value:r,inclusive:a}}function PT(i,e,t){let r=As,a=!0;for(const l of Zf(i,e)){let c=As,m=!0;switch(l.op){case">=":case">":c=jO(l.value),m=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,m=!1;break;case"!=":case"not-in":c=As}OT({value:r,inclusive:a},{value:c,inclusive:m})>0&&(r=c,a=m)}if(t!==null){for(let l=0;l<i.orderBy.length;++l)if(i.orderBy[l].field.isEqual(e)){const c=t.position[l];OT({value:r,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(r=c,a=t.inclusive);break}}return{value:r,inclusive:a}}class Id{constructor(e,t=null,r=[],a=[],l=null,c="F",m=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=a,this.limit=l,this.limitType=c,this.startAt=m,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function QO(i,e,t,r,a,l,c,m){return new Id(i,e,t,r,a,l,c,m)}function xc(i){return new Id(i)}function LT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function XO(i){return ce.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}function $O(i){return i.collectionGroup!==null}function tc(i){const e=Ne(i);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let m=new rt(_t.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(m=m.add(p.field))}))})),m})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new Wf(l,r))})),t.has(_t.keyField().canonicalString())||e.Ie.push(new Wf(_t.keyField(),r))}return e.Ie}function ni(i){const e=Ne(i);return e.Ee||(e.Ee=WO(e,tc(i))),e.Ee}function WO(i,e){if(i.limitType==="F")return Cp(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new Wf(a.field,l)}));const t=i.endAt?new fl(i.endAt.position,i.endAt.inclusive):null,r=i.startAt?new fl(i.startAt.position,i.startAt.inclusive):null;return Cp(i.path,i.collectionGroup,e,i.filters,i.limit,t,r)}}function Np(i,e,t){return new Id(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function xd(i,e){return Ic(ni(i),ni(e))&&i.limitType===e.limitType}function JS(i){return`${ja(ni(i))}|lt:${i.limitType}`}function Yo(i){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((a=>XS(a))).join(", ")}]`),bd(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((a=>hl(a))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((a=>hl(a))).join(",")),`Target(${r})`})(ni(i))}; limitType=${i.limitType})`}function Rc(i,e){return e.isFoundDocument()&&(function(r,a){const l=a.key.path;return r.collectionGroup!==null?a.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(l):ce.isDocumentKey(r.path)?r.path.isEqual(l):r.path.isImmediateParentOf(l)})(i,e)&&(function(r,a){for(const l of tc(r))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(i,e)&&(function(r,a){for(const l of r.filters)if(!l.matches(a))return!1;return!0})(i,e)&&(function(r,a){return!(r.startAt&&!(function(c,m,g){const p=MT(c,m,g);return c.inclusive?p<=0:p<0})(r.startAt,tc(r),a)||r.endAt&&!(function(c,m,g){const p=MT(c,m,g);return c.inclusive?p>=0:p>0})(r.endAt,tc(r),a))})(i,e)}function JO(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function ZS(i){return(e,t)=>{let r=!1;for(const a of tc(i)){const l=ZO(a,e,t);if(l!==0)return l;r=r||a.field.isKeyField()}return 0}}function ZO(i,e,t){const r=i.field.isKeyField()?ce.comparator(e.key,t.key):(function(l,c,m){const g=c.data.field(l),p=m.data.field(l);return g!==null&&p!==null?Ms(g,p):pe(42886)})(i.field,e,t);switch(i.dir){case"asc":return r;case"desc":return-1*r;default:return pe(19790,{direction:i.dir})}}class Mr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[a,l]of r)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),a=this.inner[r];if(a===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let a=0;a<r.length;a++)if(this.equalsFn(r[a][0],e))return r.length===1?delete this.inner[t]:r.splice(a,1),this.innerSize--,!0;return!1}forEach(e){Ya(this.inner,((t,r)=>{for(const[a,l]of r)e(a,l)}))}isEmpty(){return kS(this.inner)}size(){return this.innerSize}}const eM=new yt(ce.comparator);function Mn(){return eM}const e1=new yt(ce.comparator);function Hu(...i){let e=e1;for(const t of i)e=e.insert(t.key,t);return e}function t1(i){let e=e1;return i.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Xi(){return nc()}function n1(){return nc()}function nc(){return new Mr((i=>i.toString()),((i,e)=>i.isEqual(e)))}const tM=new yt(ce.comparator),nM=new rt(ce.comparator);function je(...i){let e=nM;for(const t of i)e=e.add(t);return e}const iM=new rt(Ce);function rM(){return iM}function Iy(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:lc(e)?"-0":e}}function i1(i){return{integerValue:""+i}}function sM(i,e){return lO(e)?i1(e):Iy(i,e)}class Rd{constructor(){this._=void 0}}function aM(i,e,t){return i instanceof gc?(function(a,l){const c={fields:{[US]:{stringValue:LS},[zS]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Ty(l)&&(l=Sd(l)),l&&(c.fields[jS]=l),{mapValue:c}})(t,e):i instanceof ml?s1(i,e):i instanceof gl?a1(i,e):(function(a,l){const c=r1(a,l),m=UT(c)+UT(a.Ae);return Ip(c)&&Ip(a.Ae)?i1(m):Iy(a.serializer,m)})(i,e)}function oM(i,e,t){return i instanceof ml?s1(i,e):i instanceof gl?a1(i,e):t}function r1(i,e){return i instanceof pc?(function(r){return Ip(r)||(function(l){return!!l&&"doubleValue"in l})(r)})(e)?e:{integerValue:0}:null}class gc extends Rd{}class ml extends Rd{constructor(e){super(),this.elements=e}}function s1(i,e){const t=o1(e);for(const r of i.elements)t.some((a=>er(a,r)))||t.push(r);return{arrayValue:{values:t}}}class gl extends Rd{constructor(e){super(),this.elements=e}}function a1(i,e){let t=o1(e);for(const r of i.elements)t=t.filter((a=>!er(a,r)));return{arrayValue:{values:t}}}class pc extends Rd{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function UT(i){return pt(i.integerValue||i.doubleValue)}function o1(i){return mc(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class lM{constructor(e,t){this.field=e,this.transform=t}}function uM(i,e){return i.field.isEqual(e.field)&&(function(r,a){return r instanceof ml&&a instanceof ml||r instanceof gl&&a instanceof gl?sl(r.elements,a.elements,er):r instanceof pc&&a instanceof pc?er(r.Ae,a.Ae):r instanceof gc&&a instanceof gc})(i.transform,e.transform)}class cM{constructor(e,t){this.version=e,this.transformResults=t}}class Vn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vn}static exists(e){return new Vn(void 0,e)}static updateTime(e){return new Vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Df(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Cd{}function l1(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new xy(i.key,Vn.none()):new wl(i.key,i.data,Vn.none());{const t=i.data,r=En.empty();let a=new rt(_t.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?r.delete(l):r.set(l,c),a=a.add(l)}return new Ls(i.key,r,new ei(a.toArray()),Vn.none())}}function hM(i,e,t){i instanceof wl?(function(a,l,c){const m=a.value.clone(),g=zT(a.fieldTransforms,l,c.transformResults);m.setAll(g),l.convertToFoundDocument(c.version,m).setHasCommittedMutations()})(i,e,t):i instanceof Ls?(function(a,l,c){if(!Df(a.precondition,l))return void l.convertToUnknownDocument(c.version);const m=zT(a.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(u1(a)),g.setAll(m),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(i,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function ic(i,e,t,r){return i instanceof wl?(function(l,c,m,g){if(!Df(l.precondition,c))return m;const p=l.value.clone(),b=BT(l.fieldTransforms,g,c);return p.setAll(b),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(i,e,t,r):i instanceof Ls?(function(l,c,m,g){if(!Df(l.precondition,c))return m;const p=BT(l.fieldTransforms,g,c),b=c.data;return b.setAll(u1(l)),b.setAll(p),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),m===null?null:m.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(i,e,t,r):(function(l,c,m){return Df(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):m})(i,e,t)}function fM(i,e){let t=null;for(const r of i.fieldTransforms){const a=e.data.field(r.field),l=r1(r.transform,a||null);l!=null&&(t===null&&(t=En.empty()),t.set(r.field,l))}return t||null}function jT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!(function(r,a){return r===void 0&&a===void 0||!(!r||!a)&&sl(r,a,((l,c)=>uM(l,c)))})(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class wl extends Cd{constructor(e,t,r,a=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Ls extends Cd{constructor(e,t,r,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function u1(i){const e=new Map;return i.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=i.data.field(t);e.set(t,r)}})),e}function zT(i,e,t){const r=new Map;ve(i.length===t.length,32656,{Ve:t.length,de:i.length});for(let a=0;a<t.length;a++){const l=i[a],c=l.transform,m=e.data.field(l.field);r.set(l.field,oM(c,m,t[a]))}return r}function BT(i,e,t){const r=new Map;for(const a of i){const l=a.transform,c=t.data.field(a.field);r.set(a.field,aM(l,c,e))}return r}class xy extends Cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class c1 extends Cd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Ry{constructor(e,t,r,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=a}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&hM(l,e,r[a])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=ic(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=ic(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=n1();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let m=this.applyToLocalView(c,l.mutatedFields);m=t.has(a.key)?null:m;const g=l1(c,m);g!==null&&r.set(a.key,g),c.isValidDocument()||c.convertToNoDocument(we.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&sl(this.mutations,e.mutations,((t,r)=>jT(t,r)))&&sl(this.baseMutations,e.baseMutations,((t,r)=>jT(t,r)))}}class Cy{constructor(e,t,r,a){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=a}static from(e,t,r){ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let a=(function(){return tM})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,r[c].version);return new Cy(e,t,r,a)}}class Ny{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class dM{constructor(e,t){this.count=e,this.unchangedNames=t}}var Pt,Ye;function mM(i){switch(i){case Z.OK:return pe(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return pe(15467,{code:i})}}function h1(i){if(i===void 0)return fn("GRPC error has no .code"),Z.UNKNOWN;switch(i){case Pt.OK:return Z.OK;case Pt.CANCELLED:return Z.CANCELLED;case Pt.UNKNOWN:return Z.UNKNOWN;case Pt.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Pt.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Pt.INTERNAL:return Z.INTERNAL;case Pt.UNAVAILABLE:return Z.UNAVAILABLE;case Pt.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Pt.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Pt.NOT_FOUND:return Z.NOT_FOUND;case Pt.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Pt.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Pt.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Pt.ABORTED:return Z.ABORTED;case Pt.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Pt.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Pt.DATA_LOSS:return Z.DATA_LOSS;default:return pe(39323,{code:i})}}(Ye=Pt||(Pt={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function gM(){return new TextEncoder}const pM=new Rs([4294967295,4294967295],0);function FT(i){const e=gM().encode(i),t=new hS;return t.update(e),new Uint8Array(t.digest())}function qT(i){const e=new DataView(i.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Rs([t,r],0),new Rs([a,l],0)]}class Dy{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Gu(`Invalid padding: ${t}`);if(r<0)throw new Gu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Gu(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Gu(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Rs.fromNumber(this.ge)}ye(e,t,r){let a=e.add(t.multiply(Rs.fromNumber(r)));return a.compare(pM)===1&&(a=new Rs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=FT(e),[r,a]=qT(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);if(!this.we(c))return!1}return!0}static create(e,t,r){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Dy(l,a,t);return r.forEach((m=>c.insert(m))),c}insert(e){if(this.ge===0)return;const t=FT(e),[r,a]=qT(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(r,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Gu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Nd{constructor(e,t,r,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const a=new Map;return a.set(e,Cc.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Nd(we.min(),a,new yt(Ce),Mn(),je())}}class Cc{constructor(e,t,r,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new Cc(r,t,je(),je(),je())}}class Of{constructor(e,t,r,a){this.Se=e,this.removedTargetIds=t,this.key=r,this.De=a}}class f1{constructor(e,t){this.targetId=e,this.Ce=t}}class d1{constructor(e,t,r=Ut.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=a}}class HT{constructor(){this.ve=0,this.Fe=GT(),this.Me=Ut.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),r=je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:r=r.add(a);break;default:pe(38017,{changeType:l})}})),new Cc(this.Me,this.xe,e,t,r)}Ke(){this.Oe=!1,this.Fe=GT()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,ve(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class yM{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mn(),this.He=ff(),this.Je=ff(),this.Ze=new yt(Ce)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:pe(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,r=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(Jf(l))if(r===0){const c=new ce(l.path);this.et(t,c,Et.newNoDocument(c,we.min()))}else ve(r===1,20013,{expectedCount:r});else{const c=this._t(t);if(c!==r){const m=this.ut(e),g=m?this.ct(m,e,c):1;if(g!==0){this.it(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:a=0},hashCount:l=0}=t;let c,m;try{c=Dr(r).toUint8Array()}catch(g){if(g instanceof PS)return Ds("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new Dy(c,a,l)}catch(g){return Ds(g instanceof Gu?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.ge===0?null:m}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let a=0;return r.forEach((l=>{const c=this.Ge.ht(),m=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(m)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const m=this.ot(c);if(m){if(l.current&&Jf(m.target)){const g=new ce(m.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,Et.newNoDocument(g,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let r=je();this.Je.forEach(((l,c)=>{let m=!0;c.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)})),m&&(r=r.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Nd(e,t,this.Ze,this.je,r);return this.je=Mn(),this.He=ff(),this.Je=ff(),this.Ze=new yt(Ce),a}Ye(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,r),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new HT,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new rt(Ce),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new rt(Ce),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ie("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new HT),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function ff(){return new yt(ce.comparator)}function GT(){return new yt(ce.comparator)}const _M={asc:"ASCENDING",desc:"DESCENDING"},vM={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},bM={and:"AND",or:"OR"};class TM{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Dp(i,e){return i.useProto3Json||bd(e)?e:{value:e}}function pl(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function m1(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function EM(i,e){return pl(i,e.toTimestamp())}function mn(i){return ve(!!i,49232),we.fromTimestamp((function(t){const r=Nr(t);return new it(r.seconds,r.nanos)})(i))}function Oy(i,e){return Op(i,e).canonicalString()}function Op(i,e){const t=(function(a){return new ut(["projects",a.projectId,"databases",a.database])})(i).child("documents");return e===void 0?t:t.child(e)}function g1(i){const e=ut.fromString(i);return ve(S1(e),10190,{key:e.toString()}),e}function ed(i,e){return Oy(i.databaseId,e.path)}function Na(i,e){const t=g1(e);if(t.get(1)!==i.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new ce(_1(t))}function p1(i,e){return Oy(i.databaseId,e)}function y1(i){const e=g1(i);return e.length===4?ut.emptyPath():_1(e)}function Mp(i){return new ut(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function _1(i){return ve(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function KT(i,e,t){return{name:ed(i,e),fields:t.value.mapValue.fields}}function wM(i,e,t){const r=Na(i,e.name),a=mn(e.updateTime),l=e.createTime?mn(e.createTime):we.min(),c=new En({mapValue:{fields:e.fields}}),m=Et.newFoundDocument(r,a,l,c);return t&&m.setHasCommittedMutations(),t?m.setHasCommittedMutations():m}function SM(i,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:pe(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,b){return p.useProto3Json?(ve(b===void 0||typeof b=="string",58123),Ut.fromBase64String(b||"")):(ve(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Ut.fromUint8Array(b||new Uint8Array))})(i,e.targetChange.resumeToken),c=e.targetChange.cause,m=c&&(function(p){const b=p.code===void 0?Z.UNKNOWN:h1(p.code);return new he(b,p.message||"")})(c);t=new d1(r,a,l,m||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const a=Na(i,r.document.name),l=mn(r.document.updateTime),c=r.document.createTime?mn(r.document.createTime):we.min(),m=new En({mapValue:{fields:r.document.fields}}),g=Et.newFoundDocument(a,l,c,m),p=r.targetIds||[],b=r.removedTargetIds||[];t=new Of(p,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const a=Na(i,r.document),l=r.readTime?mn(r.readTime):we.min(),c=Et.newNoDocument(a,l),m=r.removedTargetIds||[];t=new Of([],m,c.key,c)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const a=Na(i,r.document),l=r.removedTargetIds||[];t=new Of([],l,a,null)}else{if(!("filter"in e))return pe(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:a=0,unchangedNames:l}=r,c=new dM(a,l),m=r.targetId;t=new f1(m,c)}}return t}function td(i,e){let t;if(e instanceof wl)t={update:KT(i,e.key,e.value)};else if(e instanceof xy)t={delete:ed(i,e.key)};else if(e instanceof Ls)t={update:KT(i,e.key,e.data),updateMask:NM(e.fieldMask)};else{if(!(e instanceof c1))return pe(16599,{dt:e.type});t={verify:ed(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(l,c){const m=c.transform;if(m instanceof gc)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ml)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof gl)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof pc)return{fieldPath:c.field.canonicalString(),increment:m.Ae};throw pe(20930,{transform:c.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:EM(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:pe(27497)})(i,e.precondition)),t}function Vp(i,e){const t=e.currentDocument?(function(l){return l.updateTime!==void 0?Vn.updateTime(mn(l.updateTime)):l.exists!==void 0?Vn.exists(l.exists):Vn.none()})(e.currentDocument):Vn.none(),r=e.updateTransforms?e.updateTransforms.map((a=>(function(c,m){let g=null;if("setToServerValue"in m)ve(m.setToServerValue==="REQUEST_TIME",16630,{proto:m}),g=new gc;else if("appendMissingElements"in m){const b=m.appendMissingElements.values||[];g=new ml(b)}else if("removeAllFromArray"in m){const b=m.removeAllFromArray.values||[];g=new gl(b)}else"increment"in m?g=new pc(c,m.increment):pe(16584,{proto:m});const p=_t.fromServerFormat(m.fieldPath);return new lM(p,g)})(i,a))):[];if(e.update){e.update.name;const a=Na(i,e.update.name),l=new En({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(g){const p=g.fieldPaths||[];return new ei(p.map((b=>_t.fromServerFormat(b))))})(e.updateMask);return new Ls(a,l,c,t,r)}return new wl(a,l,t,r)}if(e.delete){const a=Na(i,e.delete);return new xy(a,t)}if(e.verify){const a=Na(i,e.verify);return new c1(a,t)}return pe(1463,{proto:e})}function AM(i,e){return i&&i.length>0?(ve(e!==void 0,14353),i.map((t=>(function(a,l){let c=a.updateTime?mn(a.updateTime):mn(l);return c.isEqual(we.min())&&(c=mn(l)),new cM(c,a.transformResults||[])})(t,e)))):[]}function v1(i,e){return{documents:[p1(i,e.path)]}}function b1(i,e){const t={structuredQuery:{}},r=e.path;let a;e.collectionGroup!==null?(a=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=p1(i,a);const l=(function(p){if(p.length!==0)return w1(ct.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((b=>(function(I){return{field:Qo(I.field),direction:xM(I.dir)}})(b)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const m=Dp(i,e.limit);return m!==null&&(t.structuredQuery.limit=m),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function T1(i){let e=y1(i.parent);const t=i.structuredQuery,r=t.from?t.from.length:0;let a=null;if(r>0){ve(r===1,65062);const b=t.from[0];b.allDescendants?a=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=(function(T){const I=E1(T);return I instanceof ct&&Ay(I)?I.getFilters():[I]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((I=>(function(Q){return new Wf(Xo(Q.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(I)))})(t.orderBy));let m=null;t.limit&&(m=(function(T){let I;return I=typeof T=="object"?T.value:T,bd(I)?null:I})(t.limit));let g=null;t.startAt&&(g=(function(T){const I=!!T.before,U=T.values||[];return new fl(U,I)})(t.startAt));let p=null;return t.endAt&&(p=(function(T){const I=!T.before,U=T.values||[];return new fl(U,I)})(t.endAt)),QO(e,a,c,l,m,"F",g,p)}function IM(i,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return pe(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function E1(i){return i.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Xo(t.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":const a=Xo(t.unaryFilter.field);return Ke.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Xo(t.unaryFilter.field);return Ke.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Xo(t.unaryFilter.field);return Ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return pe(61313);default:return pe(60726)}})(i):i.fieldFilter!==void 0?(function(t){return Ke.create(Xo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return pe(58110);default:return pe(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(i):i.compositeFilter!==void 0?(function(t){return ct.create(t.compositeFilter.filters.map((r=>E1(r))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return pe(1026)}})(t.compositeFilter.op))})(i):pe(30097,{filter:i})}function xM(i){return _M[i]}function RM(i){return vM[i]}function CM(i){return bM[i]}function Qo(i){return{fieldPath:i.canonicalString()}}function Xo(i){return _t.fromServerFormat(i.fieldPath)}function w1(i){return i instanceof Ke?(function(t){if(t.op==="=="){if(NT(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NAN"}};if(CT(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(NT(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NAN"}};if(CT(t.value))return{unaryFilter:{field:Qo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Qo(t.field),op:RM(t.op),value:t.value}}})(i):i instanceof ct?(function(t){const r=t.getFilters().map((a=>w1(a)));return r.length===1?r[0]:{compositeFilter:{op:CM(t.op),filters:r}}})(i):pe(54877,{filter:i})}function NM(i){const e=[];return i.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function S1(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}function A1(i){return!!i&&typeof i._toProto=="function"&&i._protoValueType==="ProtoValue"}class Ar{constructor(e,t,r,a,l=we.min(),c=we.min(),m=Ut.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Ar(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class I1{constructor(e){this.yt=e}}function DM(i,e){let t;if(e.document)t=wM(i.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=ce.fromSegments(e.noDocument.path),a=Ba(e.noDocument.readTime);t=Et.newNoDocument(r,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return pe(56709);{const r=ce.fromSegments(e.unknownDocument.path),a=Ba(e.unknownDocument.version);t=Et.newUnknownDocument(r,a)}}return e.readTime&&t.setReadTime((function(a){const l=new it(a[0],a[1]);return we.fromTimestamp(l)})(e.readTime)),t}function YT(i,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:nd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document=(function(l,c){return{name:ed(l,c.key),fields:c.data.value.mapValue.fields,updateTime:pl(l,c.version.toTimestamp()),createTime:pl(l,c.createTime.toTimestamp())}})(i.yt,e);else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:za(e.version)};else{if(!e.isUnknownDocument())return pe(57904,{document:e});r.unknownDocument={path:t.path.toArray(),version:za(e.version)}}return r}function nd(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function za(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ba(i){const e=new it(i.seconds,i.nanoseconds);return we.fromTimestamp(e)}function Ta(i,e){const t=(e.baseMutations||[]).map((l=>Vp(i.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const m=e.mutations[l+1];c.updateTransforms=m.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const r=e.mutations.map((l=>Vp(i.yt,l))),a=it.fromMillis(e.localWriteTimeMs);return new Ry(e.batchId,a,t,r)}function Ku(i){const e=Ba(i.readTime),t=i.lastLimboFreeSnapshotVersion!==void 0?Ba(i.lastLimboFreeSnapshotVersion):we.min();let r;return r=(function(l){return l.documents!==void 0})(i.query)?(function(l){const c=l.documents.length;return ve(c===1,1966,{count:c}),ni(xc(y1(l.documents[0])))})(i.query):(function(l){return ni(T1(l))})(i.query),new Ar(r,i.targetId,"TargetPurposeListen",i.lastListenSequenceNumber,e,t,Ut.fromBase64String(i.resumeToken))}function x1(i,e){const t=za(e.snapshotVersion),r=za(e.lastLimboFreeSnapshotVersion);let a;a=Jf(e.target)?v1(i.yt,e.target):b1(i.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:ja(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:a}}function R1(i){const e=T1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Np(e,e.limit,"L"):e}function Zg(i,e){return new Ny(e.largestBatchId,Vp(i.yt,e.overlayMutation))}function QT(i,e){const t=e.path.lastSegment();return[i,on(e.path.popLast()),t]}function XT(i,e,t,r){return{indexId:i,uid:e,sequenceNumber:t,readTime:za(r.readTime),documentKey:on(r.documentKey.path),largestBatchId:r.largestBatchId}}class OM{getBundleMetadata(e,t){return $T(e).get(t).next((r=>{if(r)return(function(l){return{id:l.bundleId,createTime:Ba(l.createTime),version:l.version}})(r)}))}saveBundleMetadata(e,t){return $T(e).put((function(a){return{bundleId:a.id,createTime:za(mn(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return WT(e).get(t).next((r=>{if(r)return(function(l){return{name:l.name,query:R1(l.bundledQuery),readTime:Ba(l.readTime)}})(r)}))}saveNamedQuery(e,t){return WT(e).put((function(a){return{name:a.name,readTime:za(mn(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function $T(i){return Ht(i,Td)}function WT(i){return Ht(i,Ed)}class Dd{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const r=t.uid||"";return new Dd(e,r)}getOverlay(e,t){return Mu(e).get(QT(this.userId,t)).next((r=>r?Zg(this.serializer,r):null))}getOverlays(e,t){const r=Xi();return j.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){const a=[];return r.forEach(((l,c)=>{const m=new Ny(t,c);a.push(this.bt(e,m))})),j.waitFor(a)}removeOverlaysForBatchId(e,t,r){const a=new Set;t.forEach((c=>a.add(on(c.getCollectionPath()))));const l=[];return a.forEach((c=>{const m=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);l.push(Mu(e).X(wp,m))})),j.waitFor(l)}getOverlaysForCollection(e,t,r){const a=Xi(),l=on(t),c=IDBKeyRange.bound([this.userId,l,r],[this.userId,l,Number.POSITIVE_INFINITY],!0);return Mu(e).H(wp,c).next((m=>{for(const g of m){const p=Zg(this.serializer,g);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(e,t,r,a){const l=Xi();let c;const m=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Mu(e).ee({index:NS,range:m},((g,p,b)=>{const T=Zg(this.serializer,p);l.size()<a||T.largestBatchId===c?(l.set(T.getKey(),T),c=T.largestBatchId):b.done()})).next((()=>l))}bt(e,t){return Mu(e).put((function(a,l,c){const[m,g,p]=QT(l,c.mutation.key);return{userId:l,collectionPath:g,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:td(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function Mu(i){return Ht(i,wd)}class MM{St(e){return Ht(e,vy)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const r=t?.value;return r?Ut.fromUint8Array(r):Ut.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Ea{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(pt(e.integerValue));else if("doubleValue"in e){const r=pt(e.doubleValue);isNaN(r)?this.Ft(t,13):(this.Ft(t,15),lc(r)?t.Mt(0):t.Mt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Ft(t,20),typeof r=="string"&&(r=Nr(r)),t.xt(`${r.seconds||""}`),t.Mt(r.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Dr(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Ft(t,45),t.Mt(r.latitude||0),t.Mt(r.longitude||0)}else"mapValue"in e?FS(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):Ad(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):pe(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const r=e.fields||{};this.Ft(t,55);for(const a of Object.keys(r))this.Ot(a,t),this.Ct(r[a],t)}kt(e,t){const r=e.fields||{};this.Ft(t,53);const a=cl,l=r[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(pt(l)),this.Ot(a,t),this.Ct(r[a],t)}qt(e,t){const r=e.values||[];this.Ft(t,50);for(const a of r)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),ce.fromName(e).path.forEach((r=>{this.Ft(t,60),this.$t(r,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Ea.Wt=new Ea;const zo=255;function VM(i){if(i===0)return 8;let e=0;return i>>4||(e+=4,i<<=4),i>>6||(e+=2,i<<=2),i>>7||(e+=1),e}function JT(i){const e=64-(function(r){let a=0;for(let l=0;l<8;++l){const c=VM(255&r[l]);if(a+=c,c!==8)break}return a})(i);return Math.ceil(e/8)}class kM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Gt(r.value),r=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Ht(r.value),r=t.next();this.Jt()}Zt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Gt(r);else if(r<2048)this.Gt(960|r>>>6),this.Gt(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|r>>>12),this.Gt(128|63&r>>>6),this.Gt(128|63&r);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Ht(r);else if(r<2048)this.Ht(960|r>>>6),this.Ht(128|63&r);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|r>>>12),this.Ht(128|63&r>>>6),this.Ht(128|63&r);else{const a=t.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(e){const t=this.en(e),r=JT(t);this.tn(1+r),this.buffer[this.position++]=255&r;for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),r=JT(t);this.tn(1+r),this.buffer[this.position++]=~(255&r);for(let a=t.length-r;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(zo),this.sn(255)}_n(){this.an(zo),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(e),r=!!(128&t[0]);t[0]^=r?255:128;for(let a=1;a<t.length;++a)t[a]^=r?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===zo?(this.sn(zo),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===zo?(this.an(zo),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const a=new Uint8Array(r);a.set(this.buffer),this.buffer=a}}class PM{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class LM{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Vu{constructor(){this.cn=new kM,this.ascending=new PM(this.cn),this.descending=new LM(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class wa{constructor(e,t,r,a){this.hn=e,this.Pn=t,this.Tn=r,this.In=a}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,r=new Uint8Array(t);return r.set(this.In,0),t!==e?r.set([0],this.In.length):++r[r.length-1],new wa(this.hn,this.Pn,this.Tn,r)}Rn(e,t,r){return{indexId:this.hn,uid:e,arrayValue:Mf(this.Tn),directionalValue:Mf(this.In),orderedDocumentKey:Mf(t),documentKey:r.path.toArray()}}An(e,t,r){const a=this.Rn(e,t,r);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function ms(i,e){let t=i.hn-e.hn;return t!==0?t:(t=ZT(i.Tn,e.Tn),t!==0?t:(t=ZT(i.In,e.In),t!==0?t:ce.comparator(i.Pn,e.Pn)))}function ZT(i,e){for(let t=0;t<i.length&&t<e.length;++t){const r=i[t]-e[t];if(r!==0)return r}return i.length-e.length}function Mf(i){return aw()?(function(t){let r="";for(let a=0;a<t.length;a++)r+=String.fromCharCode(t[a]);return r})(i):i}function eE(i){return typeof i!="string"?i:(function(t){const r=new Uint8Array(t.length);for(let a=0;a<t.length;a++)r[a]=t.charCodeAt(a);return r})(i)}class tE{constructor(e){this.Vn=new rt(((t,r)=>_t.comparator(t.field,r.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const r=t;r.isInequality()?this.Vn=this.Vn.add(r):this.mn.push(r)}}get fn(){return this.Vn.size>1}gn(e){if(ve(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=bp(e);if(t!==void 0&&!this.pn(t))return!1;const r=ya(e);let a=new Set,l=0,c=0;for(;l<r.length&&this.pn(r[l]);++l)a=a.add(r[l].fieldPath.canonicalString());if(l===r.length)return!0;if(this.Vn.size>0){const m=this.Vn.getIterator().getNext();if(!a.has(m.field.canonicalString())){const g=r[l];if(!this.yn(m,g)||!this.wn(this.dn[c++],g))return!1}++l}for(;l<r.length;++l){const m=r[l];if(c>=this.dn.length||!this.wn(this.dn[c++],m))return!1}return!0}bn(){if(this.fn)return null;let e=new rt(_t.comparator);const t=[];for(const r of this.mn)if(!r.field.isKeyField())if(r.op==="array-contains"||r.op==="array-contains-any")t.push(new Af(r.field,2));else{if(e.has(r.field))continue;e=e.add(r.field),t.push(new Af(r.field,0))}for(const r of this.dn)r.field.isKeyField()||e.has(r.field)||(e=e.add(r.field),t.push(new Af(r.field,r.dir==="asc"?0:1)));return new Kf(Kf.UNKNOWN_ID,this.collectionId,t,oc.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const r=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===r}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function C1(i){if(ve(i instanceof Ke||i instanceof ct,20012),i instanceof Ke){if(i instanceof WS){const t=i.value.arrayValue?.values?.map((r=>Ke.create(i.field,"==",r)))||[];return ct.create(t,"or")}return i}const e=i.filters.map((t=>C1(t)));return ct.create(e,i.op)}function UM(i){if(i.getFilters().length===0)return[];const e=Lp(C1(i));return ve(N1(e),7391),kp(e)||Pp(e)?[e]:e.getFilters()}function kp(i){return i instanceof Ke}function Pp(i){return i instanceof ct&&Ay(i)}function N1(i){return kp(i)||Pp(i)||(function(t){if(t instanceof ct&&xp(t)){for(const r of t.getFilters())if(!kp(r)&&!Pp(r))return!1;return!0}return!1})(i)}function Lp(i){if(ve(i instanceof Ke||i instanceof ct,34018),i instanceof Ke)return i;if(i.filters.length===1)return Lp(i.filters[0]);const e=i.filters.map((r=>Lp(r)));let t=ct.create(e,i.op);return t=id(t),N1(t)?t:(ve(t instanceof ct,64498),ve(dl(t),40251),ve(t.filters.length>1,57927),t.filters.reduce(((r,a)=>My(r,a))))}function My(i,e){let t;return ve(i instanceof Ke||i instanceof ct,38388),ve(e instanceof Ke||e instanceof ct,25473),t=i instanceof Ke?e instanceof Ke?(function(a,l){return ct.create([a,l],"and")})(i,e):nE(i,e):e instanceof Ke?nE(e,i):(function(a,l){if(ve(a.filters.length>0&&l.filters.length>0,48005),dl(a)&&dl(l))return QS(a,l.getFilters());const c=xp(a)?a:l,m=xp(a)?l:a,g=c.filters.map((p=>My(p,m)));return ct.create(g,"or")})(i,e),id(t)}function nE(i,e){if(dl(e))return QS(e,i.getFilters());{const t=e.filters.map((r=>My(i,r)));return ct.create(t,"or")}}function id(i){if(ve(i instanceof Ke||i instanceof ct,11850),i instanceof Ke)return i;const e=i.getFilters();if(e.length===1)return id(e[0]);if(KS(i))return i;const t=e.map((a=>id(a))),r=[];return t.forEach((a=>{a instanceof Ke?r.push(a):a instanceof ct&&(a.op===i.op?r.push(...a.filters):r.push(a))})),r.length===1?r[0]:ct.create(r,i.op)}class jM{constructor(){this.Sn=new Vy}addToCollectionParentIndex(e,t){return this.Sn.add(t),j.resolve()}getCollectionParents(e,t){return j.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return j.resolve()}deleteFieldIndex(e,t){return j.resolve()}deleteAllFieldIndexes(e){return j.resolve()}createTargetIndexes(e,t){return j.resolve()}getDocumentsMatchingTarget(e,t){return j.resolve(null)}getIndexType(e,t){return j.resolve(0)}getFieldIndexes(e,t){return j.resolve([])}getNextCollectionGroupToUpdate(e){return j.resolve(null)}getMinOffset(e,t){return j.resolve(Pn.min())}getMinOffsetFromCollectionGroup(e,t){return j.resolve(Pn.min())}updateCollectionGroup(e,t,r){return j.resolve()}updateIndexEntries(e,t){return j.resolve()}}class Vy{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t]||new rt(ut.comparator),l=!a.has(r);return this.index[t]=a.add(r),l}has(e){const t=e.lastSegment(),r=e.popLast(),a=this.index[t];return a&&a.has(r)}getEntries(e){return(this.index[e]||new rt(ut.comparator)).toArray()}}const iE="IndexedDbIndexManager",df=new Uint8Array(0);class zM{constructor(e,t){this.databaseId=t,this.Dn=new Vy,this.Cn=new Mr((r=>ja(r)),((r,a)=>Ic(r,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const r=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const l={collectionId:r,parent:on(a)};return rE(e).put(l)}return j.resolve()}getCollectionParents(e,t){const r=[],a=IDBKeyRange.bound([t,""],[vS(t),""],!1,!0);return rE(e).H(a).next((l=>{for(const c of l){if(c.collectionId!==t)break;r.push(Qi(c.parent))}return r}))}addFieldIndex(e,t){const r=ku(e),a=(function(m){return{indexId:m.indexId,collectionGroup:m.collectionGroup,fields:m.fields.map((g=>[g.fieldPath.canonicalString(),g.kind]))}})(t);delete a.indexId;const l=r.add(a);if(t.indexState){const c=Fo(e);return l.next((m=>{c.put(XT(m,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return l.next()}deleteFieldIndex(e,t){const r=ku(e),a=Fo(e),l=Bo(e);return r.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=ku(e),r=Bo(e),a=Fo(e);return t.X().next((()=>r.X())).next((()=>a.X()))}createTargetIndexes(e,t){return j.forEach(this.vn(t),(r=>this.getIndexType(e,r).next((a=>{if(a===0||a===1){const l=new tE(r).bn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,t){const r=Bo(e);let a=!0;const l=new Map;return j.forEach(this.vn(t),(c=>this.Fn(e,c).next((m=>{a&&(a=!!m),l.set(c,m)})))).next((()=>{if(a){let c=je();const m=[];return j.forEach(l,((g,p)=>{ie(iE,`Using index ${(function(ae){return`id=${ae.indexId}|cg=${ae.collectionGroup}|f=${ae.fields.map((Ee=>`${Ee.fieldPath}:${Ee.kind}`)).join(",")}`})(g)} to execute ${ja(t)}`);const b=(function(ae,Ee){const be=bp(Ee);if(be===void 0)return null;for(const _e of Zf(ae,be.fieldPath))switch(_e.op){case"array-contains-any":return _e.value.arrayValue.values||[];case"array-contains":return[_e.value]}return null})(p,g),T=(function(ae,Ee){const be=new Map;for(const _e of ya(Ee))for(const x of Zf(ae,_e.fieldPath))switch(x.op){case"==":case"in":be.set(_e.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return be.set(_e.fieldPath.canonicalString(),x.value),Array.from(be.values())}return null})(p,g),I=(function(ae,Ee){const be=[];let _e=!0;for(const x of ya(Ee)){const A=x.kind===0?kT(ae,x.fieldPath,ae.startAt):PT(ae,x.fieldPath,ae.startAt);be.push(A.value),_e&&(_e=A.inclusive)}return new fl(be,_e)})(p,g),U=(function(ae,Ee){const be=[];let _e=!0;for(const x of ya(Ee)){const A=x.kind===0?PT(ae,x.fieldPath,ae.endAt):kT(ae,x.fieldPath,ae.endAt);be.push(A.value),_e&&(_e=A.inclusive)}return new fl(be,_e)})(p,g),Q=this.Mn(g,p,I),ee=this.Mn(g,p,U),te=this.xn(g,p,T),ue=this.On(g.indexId,b,Q,I.inclusive,ee,U.inclusive,te);return j.forEach(ue,(fe=>r.Z(fe,t.limit).next((ae=>{ae.forEach((Ee=>{const be=ce.fromSegments(Ee.documentKey);c.has(be)||(c=c.add(be),m.push(be))}))}))))})).next((()=>m))}return j.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=UM(ct.create(e.filters,"and")).map((r=>Cp(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,r,a,l,c,m){const g=(t!=null?t.length:1)*Math.max(r.length,l.length),p=g/(t!=null?t.length:1),b=[];for(let T=0;T<g;++T){const I=t?this.Nn(t[T/p]):df,U=this.Bn(e,I,r[T%p],a),Q=this.Ln(e,I,l[T%p],c),ee=m.map((te=>this.Bn(e,I,te,!0)));b.push(...this.createRange(U,Q,ee))}return b}Bn(e,t,r,a){const l=new wa(e,ce.empty(),t,r);return a?l:l.En()}Ln(e,t,r,a){const l=new wa(e,ce.empty(),t,r);return a?l.En():l}Fn(e,t){const r=new tE(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((l=>{let c=null;for(const m of l)r.gn(m)&&(!c||m.fields.length>c.fields.length)&&(c=m);return c}))}getIndexType(e,t){let r=2;const a=this.vn(t);return j.forEach(a,(l=>this.Fn(e,l).next((c=>{c?r!==0&&c.fields.length<(function(g){let p=new rt(_t.comparator),b=!1;for(const T of g.filters)for(const I of T.getFlattenedFilters())I.field.isKeyField()||(I.op==="array-contains"||I.op==="array-contains-any"?b=!0:p=p.add(I.field));for(const T of g.orderBy)T.field.isKeyField()||(p=p.add(T.field));return p.size+(b?1:0)})(l)&&(r=1):r=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&r===2?1:r))}kn(e,t){const r=new Vu;for(const a of ya(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const c=r.ln(a.kind);Ea.Wt.Dt(l,c)}return r.un()}Nn(e){const t=new Vu;return Ea.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const r=new Vu;return Ea.Wt.Dt(Sy(this.databaseId,t),r.ln((function(l){const c=ya(l);return c.length===0?0:c[c.length-1].kind})(e))),r.un()}xn(e,t,r){if(r===null)return[];let a=[];a.push(new Vu);let l=0;for(const c of ya(e)){const m=r[l++];for(const g of a)if(this.qn(t,c.fieldPath)&&mc(m))a=this.Un(a,c,m);else{const p=g.ln(c.kind);Ea.Wt.Dt(m,p)}}return this.$n(a)}Mn(e,t,r){return this.xn(e,t,r.position)}$n(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].un();return t}Un(e,t,r){const a=[...e],l=[];for(const c of r.arrayValue.values||[])for(const m of a){const g=new Vu;g.seed(m.un()),Ea.Wt.Dt(c,g.ln(t.kind)),l.push(g)}return l}qn(e,t){return!!e.filters.find((r=>r instanceof Ke&&r.field.isEqual(t)&&(r.op==="in"||r.op==="not-in")))}getFieldIndexes(e,t){const r=ku(e),a=Fo(e);return(t?r.H(Ep,IDBKeyRange.bound(t,t)):r.H()).next((l=>{const c=[];return j.forEach(l,(m=>a.get([m.indexId,this.uid]).next((g=>{c.push((function(b,T){const I=T?new oc(T.sequenceNumber,new Pn(Ba(T.readTime),new ce(Qi(T.documentKey)),T.largestBatchId)):oc.empty(),U=b.fields.map((([Q,ee])=>new Af(_t.fromServerFormat(Q),ee)));return new Kf(b.indexId,b.collectionGroup,U,I)})(m,g))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((r,a)=>{const l=r.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:Ce(r.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,r){const a=ku(e),l=Fo(e);return this.Wn(e).next((c=>a.H(Ep,IDBKeyRange.bound(t,t)).next((m=>j.forEach(m,(g=>l.put(XT(g.indexId,this.uid,c,r))))))))}updateIndexEntries(e,t){const r=new Map;return j.forEach(t,((a,l)=>{const c=r.get(a.collectionGroup);return(c?j.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((m=>(r.set(a.collectionGroup,m),j.forEach(m,(g=>this.Qn(e,a,g).next((p=>{const b=this.Gn(l,g);return p.isEqual(b)?j.resolve():this.zn(e,l,g,p,b)})))))))}))}jn(e,t,r,a){return Bo(e).put(a.Rn(this.uid,this.Kn(r,t.key),t.key))}Hn(e,t,r,a){return Bo(e).delete(a.An(this.uid,this.Kn(r,t.key),t.key))}Qn(e,t,r){const a=Bo(e);let l=new rt(ms);return a.ee({index:CS,range:IDBKeyRange.only([r.indexId,this.uid,Mf(this.Kn(r,t))])},((c,m)=>{l=l.add(new wa(r.indexId,t,eE(m.arrayValue),eE(m.directionalValue)))})).next((()=>l))}Gn(e,t){let r=new rt(ms);const a=this.kn(t,e);if(a==null)return r;const l=bp(t);if(l!=null){const c=e.data.field(l.fieldPath);if(mc(c))for(const m of c.arrayValue.values||[])r=r.add(new wa(t.indexId,e.key,this.Nn(m),a))}else r=r.add(new wa(t.indexId,e.key,df,a));return r}zn(e,t,r,a,l){ie(iE,"Updating index entries for document '%s'",t.key);const c=[];return(function(g,p,b,T,I){const U=g.getIterator(),Q=p.getIterator();let ee=jo(U),te=jo(Q);for(;ee||te;){let ue=!1,fe=!1;if(ee&&te){const ae=b(ee,te);ae<0?fe=!0:ae>0&&(ue=!0)}else ee!=null?fe=!0:ue=!0;ue?(T(te),te=jo(Q)):fe?(I(ee),ee=jo(U)):(ee=jo(U),te=jo(Q))}})(a,l,ms,(m=>{c.push(this.jn(e,t,r,m))}),(m=>{c.push(this.Hn(e,t,r,m))})),j.waitFor(c)}Wn(e){let t=1;return Fo(e).ee({index:RS,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((r,a,l)=>{l.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,r){r=r.sort(((c,m)=>ms(c,m))).filter(((c,m,g)=>!m||ms(c,g[m-1])!==0));const a=[];a.push(e);for(const c of r){const m=ms(c,e),g=ms(c,t);if(m===0)a[0]=e.En();else if(m>0&&g<0)a.push(c),a.push(c.En());else if(g>0)break}a.push(t);const l=[];for(let c=0;c<a.length;c+=2){if(this.Jn(a[c],a[c+1]))return[];const m=a[c].An(this.uid,df,ce.empty()),g=a[c+1].An(this.uid,df,ce.empty());l.push(IDBKeyRange.bound(m,g))}return l}Jn(e,t){return ms(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(sE)}getMinOffset(e,t){return j.mapArray(this.vn(t),(r=>this.Fn(e,r).next((a=>a||pe(44426))))).next(sE)}}function rE(i){return Ht(i,hc)}function Bo(i){return Ht(i,Zu)}function ku(i){return Ht(i,_y)}function Fo(i){return Ht(i,Ju)}function sE(i){ve(i.length!==0,28825);let e=i[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<i.length;r++){const a=i[r].indexState.offset;gy(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Pn(e.readTime,e.documentKey,t)}const aE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},D1=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}function O1(i,e,t){const r=i.store(pi),a=i.store(al),l=[],c=IDBKeyRange.only(t.batchId);let m=0;const g=r.ee({range:c},((b,T,I)=>(m++,I.delete())));l.push(g.next((()=>{ve(m===1,47070,{batchId:t.batchId})})));const p=[];for(const b of t.mutations){const T=AS(e,b.key.path,t.batchId);l.push(a.delete(T)),p.push(b.key)}return j.waitFor(l).next((()=>p))}function rd(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw pe(14731);e=i.noDocument}return JSON.stringify(e).length}an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(D1,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);class Od{constructor(e,t,r,a){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=a,this.Zn={}}static wt(e,t,r,a){ve(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new Od(l,t,r,a)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gs(e).ee({index:Ia,range:r},((a,l,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,r,a){const l=$o(e),c=gs(e);return c.add({}).next((m=>{ve(typeof m=="number",49019);const g=new Ry(m,t,r,a),p=(function(U,Q,ee){const te=ee.baseMutations.map((fe=>td(U.yt,fe))),ue=ee.mutations.map((fe=>td(U.yt,fe)));return{userId:Q,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:te,mutations:ue}})(this.serializer,this.userId,g),b=[];let T=new rt(((I,U)=>Ce(I.canonicalString(),U.canonicalString())));for(const I of a){const U=AS(this.userId,I.key.path,m);T=T.add(I.key.path.popLast()),b.push(c.put(p)),b.push(l.put(U,hO))}return T.forEach((I=>{b.push(this.indexManager.addToCollectionParentIndex(e,I))})),e.addOnCommittedListener((()=>{this.Zn[m]=g.keys()})),j.waitFor(b).next((()=>g))}))}lookupMutationBatch(e,t){return gs(e).get(t).next((r=>r?(ve(r.userId===this.userId,48,"Unexpected user for mutation batch",{userId:r.userId,batchId:t}),Ta(this.serializer,r)):null))}Xn(e,t){return this.Zn[t]?j.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((r=>{if(r){const a=r.keys();return this.Zn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=IDBKeyRange.lowerBound([this.userId,r]);let l=null;return gs(e).ee({index:Ia,range:a},((c,m,g)=>{m.userId===this.userId&&(ve(m.batchId>=r,47524,{Yn:r}),l=Ta(this.serializer,m)),g.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=Ra;return gs(e).ee({index:Ia,range:t,reverse:!0},((a,l,c)=>{r=l.batchId,c.done()})).next((()=>r))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Ra],[this.userId,Number.POSITIVE_INFINITY]);return gs(e).H(Ia,t).next((r=>r.map((a=>Ta(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=If(this.userId,t.path),a=IDBKeyRange.lowerBound(r),l=[];return $o(e).ee({range:a},((c,m,g)=>{const[p,b,T]=c,I=Qi(b);if(p===this.userId&&t.path.isEqual(I))return gs(e).get(T).next((U=>{if(!U)throw pe(61480,{er:c,batchId:T});ve(U.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:U.userId,batchId:T}),l.push(Ta(this.serializer,U))}));g.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rt(Ce);const a=[];return t.forEach((l=>{const c=If(this.userId,l.path),m=IDBKeyRange.lowerBound(c),g=$o(e).ee({range:m},((p,b,T)=>{const[I,U,Q]=p,ee=Qi(U);I===this.userId&&l.path.isEqual(ee)?r=r.add(Q):T.done()}));a.push(g)})),j.waitFor(a).next((()=>this.tr(e,r)))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1,l=If(this.userId,r),c=IDBKeyRange.lowerBound(l);let m=new rt(Ce);return $o(e).ee({range:c},((g,p,b)=>{const[T,I,U]=g,Q=Qi(I);T===this.userId&&r.isPrefixOf(Q)?Q.length===a&&(m=m.add(U)):b.done()})).next((()=>this.tr(e,m)))}tr(e,t){const r=[],a=[];return t.forEach((l=>{a.push(gs(e).get(l).next((c=>{if(c===null)throw pe(35274,{batchId:l});ve(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),r.push(Ta(this.serializer,c))})))})),j.waitFor(a).next((()=>r))}removeMutationBatch(e,t){return O1(e.le,this.userId,t).next((r=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),j.forEach(r,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return j.resolve();const r=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return $o(e).ee({range:r},((l,c,m)=>{if(l[0]===this.userId){const g=Qi(l[1]);a.push(g)}else m.done()})).next((()=>{ve(a.length===0,56720,{rr:a.map((l=>l.canonicalString()))})}))}))}containsKey(e,t){return M1(e,this.userId,t)}ir(e){return V1(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Ra,lastStreamToken:""}))}}function M1(i,e,t){const r=If(e,t.path),a=r[1],l=IDBKeyRange.lowerBound(r);let c=!1;return $o(i).ee({range:l,Y:!0},((m,g,p)=>{const[b,T,I]=m;b===e&&T===a&&(c=!0),p.done()})).next((()=>c))}function gs(i){return Ht(i,pi)}function $o(i){return Ht(i,al)}function V1(i){return Ht(i,uc)}class Fa{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Fa(0)}static ar(){return new Fa(-1)}}class BM{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const r=new Fa(t.highestTargetId);return t.highestTargetId=r.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>we.fromTimestamp(new it(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,r){return this.ur(e).next((a=>(a.highestListenSequenceNumber=t,r&&(a.lastRemoteSnapshotVersion=r.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.cr(e,a))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((r=>(r.targetCount+=1,this.hr(t,r),this.cr(e,r))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>qo(e).delete(t.targetId))).next((()=>this.ur(e))).next((r=>(ve(r.targetCount>0,8065),r.targetCount-=1,this.cr(e,r))))}removeTargets(e,t,r){let a=0;const l=[];return qo(e).ee(((c,m)=>{const g=Ku(m);g.sequenceNumber<=t&&r.get(g.targetId)===null&&(a++,l.push(this.removeTargetData(e,g)))})).next((()=>j.waitFor(l))).next((()=>a))}forEachTarget(e,t){return qo(e).ee(((r,a)=>{const l=Ku(a);t(l)}))}ur(e){return oE(e).get(Xf).next((t=>(ve(t!==null,2888),t)))}cr(e,t){return oE(e).put(Xf,t)}lr(e,t){return qo(e).put(x1(this.serializer,t))}hr(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const r=ja(t),a=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let l=null;return qo(e).ee({range:a,index:xS},((c,m,g)=>{const p=Ku(m);Ic(t,p.target)&&(l=p,g.done())})).next((()=>l))}addMatchingKeys(e,t,r){const a=[],l=Ss(e);return t.forEach((c=>{const m=on(c.path);a.push(l.put({targetId:r,path:m})),a.push(this.referenceDelegate.addReference(e,r,c))})),j.waitFor(a)}removeMatchingKeys(e,t,r){const a=Ss(e);return j.forEach(t,(l=>{const c=on(l.path);return j.waitFor([a.delete([r,c]),this.referenceDelegate.removeReference(e,r,l)])}))}removeMatchingKeysForTargetId(e,t){const r=Ss(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(a)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),a=Ss(e);let l=je();return a.ee({range:r,Y:!0},((c,m,g)=>{const p=Qi(c[1]),b=new ce(p);l=l.add(b)})).next((()=>l))}containsKey(e,t){const r=on(t.path),a=IDBKeyRange.bound([r],[vS(r)],!1,!0);let l=0;return Ss(e).ee({index:yy,Y:!0,range:a},(([c,m],g,p)=>{c!==0&&(l++,p.done())})).next((()=>l>0))}At(e,t){return qo(e).get(t).next((r=>r?Ku(r):null))}}function qo(i){return Ht(i,ol)}function oE(i){return Ht(i,Ca)}function Ss(i){return Ht(i,ll)}const lE="LruGarbageCollector",FM=1048576;function uE([i,e],[t,r]){const a=Ce(i,t);return a===0?Ce(e,r):a}class qM{constructor(e){this.Pr=e,this.buffer=new rt(uE),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();uE(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class k1{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ie(lE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ps(t)?ie(lE,"Ignoring IndexedDB error during garbage collection: ",t):await Ka(t)}await this.Ar(3e5)}))}}class HM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return j.resolve(Zn.ce);const r=new qM(t);return this.Vr.forEachTarget(e,(a=>r.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>r.Er(a))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.Vr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),j.resolve(aE)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),aE):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let r,a,l,c,m,g,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(r=T,m=Date.now(),this.removeTargets(e,r,t)))).next((T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,r)))).next((T=>(p=Date.now(),Ko()<=He.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${a} in `+(m-c)+`ms
	Removed ${l} targets in `+(g-m)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-b}ms`),j.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function P1(i,e){return new HM(i,e)}class GM{constructor(e,t){this.db=e,this.garbageCollector=P1(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((r,a)=>t(a)))}addReference(e,t,r){return mf(e,r)}removeReference(e,t,r){return mf(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return mf(e,t)}wr(e,t){return(function(a,l){let c=!1;return V1(a).te((m=>M1(a,m,l).next((g=>(g&&(c=!0),j.resolve(!g)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.yr(e,((c,m)=>{if(m<=t){const g=this.wr(e,c).next((p=>{if(!p)return l++,r.getEntry(e,c).next((()=>(r.removeEntry(c,we.min()),Ss(e).delete((function(T){return[0,on(T.path)]})(c)))))}));a.push(g)}})).next((()=>j.waitFor(a))).next((()=>r.apply(e))).next((()=>l))}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return mf(e,t)}yr(e,t){const r=Ss(e);let a,l=Zn.ce;return r.ee({index:yy},(([c,m],{path:g,sequenceNumber:p})=>{c===0?(l!==Zn.ce&&t(new ce(Qi(a)),l),l=p,a=g):l=Zn.ce})).next((()=>{l!==Zn.ce&&t(new ce(Qi(a)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function mf(i,e){return Ss(i).put((function(r,a){return{targetId:0,path:on(r.path),sequenceNumber:a}})(e,i.currentSequenceNumber))}class L1{constructor(){this.changes=new Mr((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?j.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class KM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return ma(e).put(r)}removeEntry(e,t,r){return ma(e).delete((function(l,c){const m=l.path.toArray();return[m.slice(0,m.length-2),m[m.length-2],nd(c),m[m.length-1]]})(t,r))}updateMetadata(e,t){return this.getMetadata(e).next((r=>(r.byteSize+=t,this.br(e,r))))}getEntry(e,t){let r=Et.newInvalidDocument(t);return ma(e).ee({index:xf,range:IDBKeyRange.only(Pu(t))},((a,l)=>{r=this.Sr(t,l)})).next((()=>r))}Dr(e,t){let r={size:0,document:Et.newInvalidDocument(t)};return ma(e).ee({index:xf,range:IDBKeyRange.only(Pu(t))},((a,l)=>{r={document:this.Sr(t,l),size:rd(l)}})).next((()=>r))}getEntries(e,t){let r=Mn();return this.Cr(e,t,((a,l)=>{const c=this.Sr(a,l);r=r.insert(a,c)})).next((()=>r))}vr(e,t){let r=Mn(),a=new yt(ce.comparator);return this.Cr(e,t,((l,c)=>{const m=this.Sr(l,c);r=r.insert(l,m),a=a.insert(l,rd(c))})).next((()=>({documents:r,Fr:a})))}Cr(e,t,r){if(t.isEmpty())return j.resolve();let a=new rt(fE);t.forEach((g=>a=a.add(g)));const l=IDBKeyRange.bound(Pu(a.first()),Pu(a.last())),c=a.getIterator();let m=c.getNext();return ma(e).ee({index:xf,range:l},((g,p,b)=>{const T=ce.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;m&&fE(m,T)<0;)r(m,null),m=c.getNext();m&&m.isEqual(T)&&(r(m,p),m=c.hasNext()?c.getNext():null),m?b.j(Pu(m)):b.done()})).next((()=>{for(;m;)r(m,null),m=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,r,a,l){const c=t.path,m=[c.popLast().toArray(),c.lastSegment(),nd(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],g=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ma(e).H(IDBKeyRange.bound(m,g,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let b=Mn();for(const T of p){const I=this.Sr(ce.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);I.isFoundDocument()&&(Rc(t,I)||a.has(I.key))&&(b=b.insert(I.key,I))}return b}))}getAllFromCollectionGroup(e,t,r,a){let l=Mn();const c=hE(t,r),m=hE(t,Pn.max());return ma(e).ee({index:IS,range:IDBKeyRange.bound(c,m,!0)},((g,p,b)=>{const T=this.Sr(ce.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(T.key,T),l.size===a&&b.done()})).next((()=>l))}newChangeBuffer(e){return new YM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return cE(e).get(Tp).next((t=>(ve(!!t,20021),t)))}br(e,t){return cE(e).put(Tp,t)}Sr(e,t){if(t){const r=DM(this.serializer,t);if(!(r.isNoDocument()&&r.version.isEqual(we.min())))return r}return Et.newInvalidDocument(e)}}function U1(i){return new KM(i)}class YM extends L1{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new Mr((r=>r.toString()),((r,a)=>r.isEqual(a)))}applyChanges(e){const t=[];let r=0,a=new rt(((l,c)=>Ce(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const m=this.Or.get(l);if(t.push(this.Mr.removeEntry(e,l,m.readTime)),c.isValidDocument()){const g=YT(this.Mr.serializer,c);a=a.add(l.path.popLast());const p=rd(g);r+=p-m.size,t.push(this.Mr.addEntry(e,l,g))}else if(r-=m.size,this.trackRemovals){const g=YT(this.Mr.serializer,c.convertToNoDocument(we.min()));t.push(this.Mr.addEntry(e,l,g))}})),a.forEach((l=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,l))})),t.push(this.Mr.updateMetadata(e,r)),j.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((r=>(this.Or.set(t,{size:r.size,readTime:r.document.readTime}),r.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:r,Fr:a})=>(a.forEach(((l,c)=>{this.Or.set(l,{size:c,readTime:r.get(l).readTime})})),r)))}}function cE(i){return Ht(i,cc)}function ma(i){return Ht(i,Qf)}function Pu(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function hE(i,e){const t=e.documentKey.path.toArray();return[i,nd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function fE(i,e){const t=i.path.toArray(),r=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<r.length-2;++l)if(a=Ce(t[l],r[l]),a)return a;return a=Ce(t.length,r.length),a||(a=Ce(t[t.length-2],r[r.length-2]),a||Ce(t[t.length-1],r[r.length-1]))}class QM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class j1{constructor(e,t,r,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=a}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(r=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(r!==null&&ic(r.mutation,a,ei.empty(),it.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,je()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=je()){const a=Xi();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,r).next((l=>{let c=Hu();return l.forEach(((m,g)=>{c=c.insert(m,g.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const r=Xi();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,je())))}populateOverlays(e,t,r){const a=[];return r.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,m)=>{t.set(c,m)}))}))}computeViews(e,t,r,a){let l=Mn();const c=nc(),m=(function(){return nc()})();return t.forEach(((g,p)=>{const b=r.get(p.key);a.has(p.key)&&(b===void 0||b.mutation instanceof Ls)?l=l.insert(p.key,p):b!==void 0?(c.set(p.key,b.mutation.getFieldMask()),ic(b.mutation,p,b.mutation.getFieldMask(),it.now())):c.set(p.key,ei.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((p,b)=>c.set(p,b))),t.forEach(((p,b)=>m.set(p,new QM(b,c.get(p)??null)))),m)))}recalculateAndSaveOverlays(e,t){const r=nc();let a=new yt(((c,m)=>c-m)),l=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const m of c)m.keys().forEach((g=>{const p=t.get(g);if(p===null)return;let b=r.get(g)||ei.empty();b=m.applyToLocalView(p,b),r.set(g,b);const T=(a.get(m.batchId)||je()).add(g);a=a.insert(m.batchId,T)}))})).next((()=>{const c=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),p=g.key,b=g.value,T=n1();b.forEach((I=>{if(!l.has(I)){const U=l1(t.get(I),r.get(I));U!==null&&T.set(I,U),l=l.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return j.waitFor(c)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,a){return XO(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):$O(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,a):this.getDocumentsMatchingCollectionQuery(e,t,r,a)}getNextDocuments(e,t,r,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,a-l.size):j.resolve(Xi());let m=ac,g=l;return c.next((p=>j.forEach(p,((b,T)=>(m<T.largestBatchId&&(m=T.largestBatchId),l.get(b)?j.resolve():this.remoteDocumentCache.getEntry(e,b).next((I=>{g=g.insert(b,I)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,g,p,je()))).next((b=>({batchId:m,changes:t1(b)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next((r=>{let a=Hu();return r.isFoundDocument()&&(a=a.insert(r.key,r)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,a){const l=t.collectionGroup;let c=Hu();return this.indexManager.getCollectionParents(e,l).next((m=>j.forEach(m,(g=>{const p=(function(T,I){return new Id(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,r,a).next((b=>{b.forEach(((T,I)=>{c=c.insert(T,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,r,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,l,a)))).next((c=>{l.forEach(((g,p)=>{const b=p.getKey();c.get(b)===null&&(c=c.insert(b,Et.newInvalidDocument(b)))}));let m=Hu();return c.forEach(((g,p)=>{const b=l.get(g);b!==void 0&&ic(b.mutation,p,ei.empty(),it.now()),Rc(t,p)&&(m=m.insert(g,p))})),m}))}}class XM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return j.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:mn(a.createTime)}})(t)),j.resolve()}getNamedQuery(e,t){return j.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:R1(a.bundledQuery),readTime:mn(a.readTime)}})(t)),j.resolve()}}class $M{constructor(){this.overlays=new yt(ce.comparator),this.Lr=new Map}getOverlay(e,t){return j.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Xi();return j.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&r.set(a,l)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((a,l)=>{this.bt(e,t,l)})),j.resolve()}removeOverlaysForBatchId(e,t,r){const a=this.Lr.get(r);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(r)),j.resolve()}getOverlaysForCollection(e,t,r){const a=Xi(),l=t.length+1,c=new ce(t.child("")),m=this.overlays.getIteratorFrom(c);for(;m.hasNext();){const g=m.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>r&&a.set(g.getKey(),g)}return j.resolve(a)}getOverlaysForCollectionGroup(e,t,r,a){let l=new yt(((p,b)=>p-b));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let b=l.get(p.largestBatchId);b===null&&(b=Xi(),l=l.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const m=Xi(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,b)=>m.set(p,b))),!(m.size()>=a)););return j.resolve(m)}bt(e,t,r){const a=this.overlays.get(r.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(r.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Ny(t,r));let l=this.Lr.get(t);l===void 0&&(l=je(),this.Lr.set(t,l)),this.Lr.set(t,l.add(r.key))}}class WM{constructor(){this.sessionToken=Ut.EMPTY_BYTE_STRING}getSessionToken(e){return j.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,j.resolve()}}class ky{constructor(){this.kr=new rt(Qt.Kr),this.qr=new rt(Qt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const r=new Qt(e,t);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Wr(new Qt(e,t))}Qr(e,t){e.forEach((r=>this.removeReference(r,t)))}Gr(e){const t=new ce(new ut([])),r=new Qt(t,e),a=new Qt(t,e+1),l=[];return this.qr.forEachInRange([r,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ce(new ut([])),r=new Qt(t,e),a=new Qt(t,e+1);let l=je();return this.qr.forEachInRange([r,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new Qt(e,0),r=this.kr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Qt{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ce.comparator(e.key,t.key)||Ce(e.Hr,t.Hr)}static Ur(e,t){return Ce(e.Hr,t.Hr)||ce.comparator(e.key,t.key)}}class JM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new rt(Qt.Kr)}checkEmpty(e){return j.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Ry(l,t,r,a);this.mutationQueue.push(c);for(const m of a)this.Jr=this.Jr.add(new Qt(m.key,l)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return j.resolve(c)}lookupMutationBatch(e,t){return j.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,a=this.Xr(r),l=a<0?0:a;return j.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return j.resolve(this.mutationQueue.length===0?Ra:this.Yn-1)}getAllMutationBatches(e){return j.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Qt(t,0),a=new Qt(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([r,a],(c=>{const m=this.Zr(c.Hr);l.push(m)})),j.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new rt(Ce);return t.forEach((a=>{const l=new Qt(a,0),c=new Qt(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(m=>{r=r.add(m.Hr)}))})),j.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,a=r.length+1;let l=r;ce.isDocumentKey(l)||(l=l.child(""));const c=new Qt(new ce(l),0);let m=new rt(Ce);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!r.isPrefixOf(p)&&(p.length===a&&(m=m.add(g.Hr)),!0)}),c),j.resolve(this.Yr(m))}Yr(e){const t=[];return e.forEach((r=>{const a=this.Zr(r);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){ve(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return j.forEach(t.mutations,(a=>{const l=new Qt(a.key,t.batchId);return r=r.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=r}))}nr(e){}containsKey(e,t){const r=new Qt(t,0),a=this.Jr.firstAfterOrEqual(r);return j.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,j.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class ZM{constructor(e){this.ti=e,this.docs=(function(){return new yt(ce.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,a=this.docs.get(r),l=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return j.resolve(r?r.document.mutableCopy():Et.newInvalidDocument(t))}getEntries(e,t){let r=Mn();return t.forEach((a=>{const l=this.docs.get(a);r=r.insert(a,l?l.document.mutableCopy():Et.newInvalidDocument(a))})),j.resolve(r)}getDocumentsMatchingQuery(e,t,r,a){let l=Mn();const c=t.path,m=new ce(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:p,value:{document:b}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||gy(TS(b),r)<=0||(a.has(b.key)||Rc(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return j.resolve(l)}getAllFromCollectionGroup(e,t,r,a){pe(9500)}ni(e,t){return j.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new eV(this)}getSize(e){return j.resolve(this.size)}}class eV extends L1{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(r)})),j.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class tV{constructor(e){this.persistence=e,this.ri=new Mr((t=>ja(t)),Ic),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new ky,this.targetCount=0,this.oi=Fa._r()}forEachTarget(e,t){return this.ri.forEach(((r,a)=>t(a))),j.resolve()}getLastRemoteSnapshotVersion(e){return j.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return j.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),j.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.ii&&(this.ii=t),j.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Fa(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,j.resolve()}updateTargetData(e,t){return this.lr(t),j.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,j.resolve()}removeTargets(e,t,r){let a=0;const l=[];return this.ri.forEach(((c,m)=>{m.sequenceNumber<=t&&r.get(m.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)})),j.waitFor(l).next((()=>a))}getTargetCount(e){return j.resolve(this.targetCount)}getTargetData(e,t){const r=this.ri.get(t)||null;return j.resolve(r)}addMatchingKeys(e,t,r){return this.si.$r(t,r),j.resolve()}removeMatchingKeys(e,t,r){this.si.Qr(t,r);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),j.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),j.resolve()}getMatchingKeysForTargetId(e,t){const r=this.si.jr(t);return j.resolve(r)}containsKey(e,t){return j.resolve(this.si.containsKey(t))}}class Py{constructor(e,t){this._i={},this.overlays={},this.ai=new Zn(0),this.ui=!1,this.ui=!0,this.ci=new WM,this.referenceDelegate=e(this),this.li=new tV(this),this.indexManager=new jM,this.remoteDocumentCache=(function(a){return new ZM(a)})((r=>this.referenceDelegate.hi(r))),this.serializer=new I1(t),this.Pi=new XM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $M,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this._i[e.toKey()];return r||(r=new JM(t,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,r){ie("MemoryPersistence","Starting transaction:",e);const a=new nV(this.ai.next());return this.referenceDelegate.Ti(),r(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return j.or(Object.values(this._i).map((r=>()=>r.containsKey(e,t))))}}class nV extends wS{constructor(e){super(),this.currentSequenceNumber=e}}class Md{constructor(e){this.persistence=e,this.Ri=new ky,this.Ai=null}static Vi(e){return new Md(e)}get di(){if(this.Ai)return this.Ai;throw pe(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.di.delete(r.toString()),j.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.di.add(r.toString()),j.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),j.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>r.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return j.forEach(this.di,(r=>{const a=ce.fromPath(r);return this.mi(e,a).next((l=>{l||t.removeEntry(a,we.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((r=>{r?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return j.or([()=>j.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class sd{constructor(e,t){this.persistence=e,this.fi=new Mr((r=>on(r.path)),((r,a)=>r.isEqual(a))),this.garbageCollector=P1(this,t)}static Vi(e,t){return new sd(e,t)}Ti(){}Ii(e){return j.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((a=>r+a))))}pr(e){let t=0;return this.mr(e,(r=>{t++})).next((()=>t))}mr(e,t){return j.forEach(this.fi,((r,a)=>this.wr(e,r,a).next((l=>l?j.resolve():t(a)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((m=>{m||(r++,l.removeEntry(c,we.min()))})))).next((()=>l.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),j.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),j.resolve()}removeReference(e,t,r){return this.fi.set(r,e.currentSequenceNumber),j.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),j.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Cf(e.data.value)),t}wr(e,t,r){return j.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return j.resolve(a!==void 0&&a>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class iV{constructor(e){this.serializer=e}k(e,t,r,a){const l=new vd("createOrUpgrade",t);r<1&&a>=1&&((function(g){g.createObjectStore(Ac)})(e),(function(g){g.createObjectStore(uc,{keyPath:cO}),g.createObjectStore(pi,{keyPath:wT,autoIncrement:!0}).createIndex(Ia,ST,{unique:!0}),g.createObjectStore(al)})(e),dE(e),(function(g){g.createObjectStore(_a)})(e));let c=j.resolve();return r<3&&a>=3&&(r!==0&&((function(g){g.deleteObjectStore(ll),g.deleteObjectStore(ol),g.deleteObjectStore(Ca)})(e),dE(e)),c=c.next((()=>(function(g){const p=g.store(Ca),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:we.min().toTimestamp(),targetCount:0};return p.put(Xf,b)})(l)))),r<4&&a>=4&&(r!==0&&(c=c.next((()=>(function(g,p){return p.store(pi).H().next((T=>{g.deleteObjectStore(pi),g.createObjectStore(pi,{keyPath:wT,autoIncrement:!0}).createIndex(Ia,ST,{unique:!0});const I=p.store(pi),U=T.map((Q=>I.put(Q)));return j.waitFor(U)}))})(e,l)))),c=c.next((()=>{(function(g){g.createObjectStore(ul,{keyPath:vO})})(e)}))),r<5&&a>=5&&(c=c.next((()=>this.gi(l)))),r<6&&a>=6&&(c=c.next((()=>((function(g){g.createObjectStore(cc)})(e),this.pi(l))))),r<7&&a>=7&&(c=c.next((()=>this.yi(l)))),r<8&&a>=8&&(c=c.next((()=>this.wi(e,l)))),r<9&&a>=9&&(c=c.next((()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(e)}))),r<10&&a>=10&&(c=c.next((()=>this.bi(l)))),r<11&&a>=11&&(c=c.next((()=>{(function(g){g.createObjectStore(Td,{keyPath:bO})})(e),(function(g){g.createObjectStore(Ed,{keyPath:TO})})(e)}))),r<12&&a>=12&&(c=c.next((()=>{(function(g){const p=g.createObjectStore(wd,{keyPath:RO});p.createIndex(wp,CO,{unique:!1}),p.createIndex(NS,NO,{unique:!1})})(e)}))),r<13&&a>=13&&(c=c.next((()=>(function(g){const p=g.createObjectStore(Qf,{keyPath:fO});p.createIndex(xf,dO),p.createIndex(IS,mO)})(e))).next((()=>this.Si(e,l))).next((()=>e.deleteObjectStore(_a)))),r<14&&a>=14&&(c=c.next((()=>this.Di(e,l)))),r<15&&a>=15&&(c=c.next((()=>(function(g){g.createObjectStore(_y,{keyPath:EO,autoIncrement:!0}).createIndex(Ep,wO,{unique:!1}),g.createObjectStore(Ju,{keyPath:SO}).createIndex(RS,AO,{unique:!1}),g.createObjectStore(Zu,{keyPath:IO}).createIndex(CS,xO,{unique:!1})})(e)))),r<16&&a>=16&&(c=c.next((()=>{t.objectStore(Ju).clear()})).next((()=>{t.objectStore(Zu).clear()}))),r<17&&a>=17&&(c=c.next((()=>{(function(g){g.createObjectStore(vy,{keyPath:DO})})(e)}))),r<18&&a>=18&&aw()&&(c=c.next((()=>{t.objectStore(Ju).clear()})).next((()=>{t.objectStore(Zu).clear()}))),c}pi(e){let t=0;return e.store(_a).ee(((r,a)=>{t+=rd(a)})).next((()=>{const r={byteSize:t};return e.store(cc).put(Tp,r)}))}gi(e){const t=e.store(uc),r=e.store(pi);return t.H().next((a=>j.forEach(a,(l=>{const c=IDBKeyRange.bound([l.userId,Ra],[l.userId,l.lastAcknowledgedBatchId]);return r.H(Ia,c).next((m=>j.forEach(m,(g=>{ve(g.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:g.batchId});const p=Ta(this.serializer,g);return O1(e,l.userId,p).next((()=>{}))}))))}))))}yi(e){const t=e.store(ll),r=e.store(_a);return e.store(Ca).get(Xf).next((a=>{const l=[];return r.ee(((c,m)=>{const g=new ut(c),p=(function(T){return[0,on(T)]})(g);l.push(t.get(p).next((b=>b?j.resolve():(T=>t.put({targetId:0,path:on(T),sequenceNumber:a.highestListenSequenceNumber}))(g))))})).next((()=>j.waitFor(l)))}))}wi(e,t){e.createObjectStore(hc,{keyPath:_O});const r=t.store(hc),a=new Vy,l=c=>{if(a.add(c)){const m=c.lastSegment(),g=c.popLast();return r.put({collectionId:m,parent:on(g)})}};return t.store(_a).ee({Y:!0},((c,m)=>{const g=new ut(c);return l(g.popLast())})).next((()=>t.store(al).ee({Y:!0},(([c,m,g],p)=>{const b=Qi(m);return l(b.popLast())}))))}bi(e){const t=e.store(ol);return t.ee(((r,a)=>{const l=Ku(a),c=x1(this.serializer,l);return t.put(c)}))}Si(e,t){const r=t.store(_a),a=[];return r.ee(((l,c)=>{const m=t.store(Qf),g=(function(T){return T.document?new ce(ut.fromString(T.document.name).popFirst(5)):T.noDocument?ce.fromSegments(T.noDocument.path):T.unknownDocument?ce.fromSegments(T.unknownDocument.path):pe(36783)})(c).path.toArray(),p={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(m.put(p))})).next((()=>j.waitFor(a)))}Di(e,t){const r=t.store(pi),a=U1(this.serializer),l=new Py(Md.Vi,this.serializer.yt);return r.H().next((c=>{const m=new Map;return c.forEach((g=>{let p=m.get(g.userId)??je();Ta(this.serializer,g).keys().forEach((b=>p=p.add(b))),m.set(g.userId,p)})),j.forEach(m,((g,p)=>{const b=new tn(p),T=Dd.wt(this.serializer,b),I=l.getIndexManager(b),U=Od.wt(b,this.serializer,I,l.referenceDelegate);return new j1(a,U,T,I).recalculateAndSaveOverlaysForDocumentKeys(new Sp(t,Zn.ce),g).next()}))}))}}function dE(i){i.createObjectStore(ll,{keyPath:pO}).createIndex(yy,yO,{unique:!0}),i.createObjectStore(ol,{keyPath:"targetId"}).createIndex(xS,gO,{unique:!0}),i.createObjectStore(Ca)}const ps="IndexedDbPersistence",ep=18e5,tp=5e3,np="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",rV="main";class Ly{constructor(e,t,r,a,l,c,m,g,p,b,T=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.Ci=l,this.window=c,this.document=m,this.Fi=p,this.Mi=b,this.xi=T,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=I=>Promise.resolve(),!Ly.v())throw new he(Z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new GM(this,a),this.Ki=t+rV,this.serializer=new I1(g),this.qi=new Cs(this.Ki,this.xi,new iV(this.serializer)),this.ci=new MM,this.li=new BM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=U1(this.serializer),this.Pi=new OM,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,b===!1&&fn(ps,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new he(Z.FAILED_PRECONDITION,np);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new Zn(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>gf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(Ps(e))return ie(ps,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ie(ps,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Lu(e).get(Uo).next((t=>j.resolve(this.Xi(t))))}Yi(e){return gf(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,ep)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const r=Ht(t,ul);return r.H().next((a=>{const l=this.ns(a,ep),c=a.filter((m=>l.indexOf(m)===-1));return j.forEach(c,(m=>r.delete(m.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?j.resolve(!0):Lu(e).get(Uo).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,tp)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new he(Z.FAILED_PRECONDITION,np);return!1}}return!(!this.networkEnabled||!this.inForeground)||gf(e).H().next((r=>this.ns(r,tp).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,m=this.networkEnabled===a.networkEnabled;if(l||c&&m)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&ie(ps,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Ac,ul],(e=>{const t=new Sp(e,Zn.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((r=>this.ts(r.updateTimeMs,t)&&!this.ss(r.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>gf(e).H().next((t=>this.ns(t,ep).map((r=>r.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return Od.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new zM(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return Dd.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,r){ie(ps,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=(function(g){return g===18?VO:g===17?VS:g===16?MO:g===15?by:g===14?MS:g===13?OS:g===12?OO:g===11?DS:void pe(60245)})(this.xi);let c;return this.qi.runTransaction(e,a,l,(m=>(c=new Sp(m,this.ai?this.ai.next():Zn.ce),t==="readwrite-primary"?this.ji(c).next((g=>!!g||this.Hi(c))).next((g=>{if(!g)throw fn(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new he(Z.FAILED_PRECONDITION,ES);return r(c)})).next((g=>this.Zi(c).next((()=>g)))):this.Ps(c).next((()=>r(c)))))).then((m=>(c.raiseOnCommittedEvent(),m)))}Ps(e){return Lu(e).get(Uo).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,tp)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new he(Z.FAILED_PRECONDITION,np)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Lu(e).put(Uo,t)}static v(){return Cs.v()}Ji(e){const t=Lu(e);return t.get(Uo).next((r=>this.Xi(r)?(ie(ps,"Releasing primary lease."),t.delete(Uo)):j.resolve()))}ts(e,t){const r=Date.now();return!(e<r-t)&&(!(e>r)||(fn(`Detected an update time that is in the future: ${e} > ${r}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;sw()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return ie(ps,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return fn(ps,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){fn("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Lu(i){return Ht(i,Ac)}function gf(i){return Ht(i,ul)}function sV(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Uy{constructor(e,t,r,a){this.targetId=e,this.fromCache=t,this.Ts=r,this.Is=a}static Es(e,t){let r=je(),a=je();for(const l of t.docChanges)switch(l.type){case 0:r=r.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new Uy(e,t.fromCache,r,a)}}class aV{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class z1{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return sw()?8:SS(qt())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,a){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,a,r).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new aV;return this.ys(e,t,c).next((m=>{if(l.result=m,this.As)return this.ws(e,t,c,m.size)}))})).next((()=>l.result))}ws(e,t,r,a){return r.documentReadCount<this.Vs?(Ko()<=He.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",Yo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),j.resolve()):(Ko()<=He.DEBUG&&ie("QueryEngine","Query:",Yo(t),"scans",r.documentReadCount,"local documents and returns",a,"documents as results."),r.documentReadCount>this.ds*a?(Ko()<=He.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",Yo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,ni(t))):j.resolve())}gs(e,t){if(LT(t))return j.resolve(null);let r=ni(t);return this.indexManager.getIndexType(e,r).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=Np(t,null,"F"),r=ni(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((l=>{const c=je(...l);return this.fs.getDocuments(e,c).next((m=>this.indexManager.getMinOffset(e,r).next((g=>{const p=this.bs(t,m);return this.Ss(t,p,c,g.readTime)?this.gs(e,Np(t,null,"F")):this.Ds(e,p,t,g)}))))})))))}ps(e,t,r,a){return LT(t)||a.isEqual(we.min())?j.resolve(null):this.fs.getDocuments(e,r).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,r,a)?j.resolve(null):(Ko()<=He.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Yo(t)),this.Ds(e,c,t,iO(a,ac)).next((m=>m)))}))}bs(e,t){let r=new rt(ZS(e));return t.forEach(((a,l)=>{Rc(e,l)&&(r=r.add(l))})),r}Ss(e,t,r,a){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,r){return Ko()<=He.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",Yo(t)),this.fs.getDocumentsMatchingQuery(e,t,Pn.min(),r)}Ds(e,t,r,a){return this.fs.getDocumentsMatchingQuery(e,r,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const jy="LocalStore",oV=3e8;class lV{constructor(e,t,r,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new yt(Ce),this.Fs=new Mr((l=>ja(l)),Ic),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new j1(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function B1(i,e,t,r){return new lV(i,e,t,r)}async function F1(i,e){const t=Ne(i);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let a;return t.mutationQueue.getAllMutationBatches(r).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(r)))).next((l=>{const c=[],m=[];let g=je();for(const p of a){c.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}for(const p of l){m.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}return t.localDocuments.getDocuments(r,g).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:m})))}))}))}function uV(i,e){const t=Ne(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(m,g,p,b){const T=p.batch,I=T.keys();let U=j.resolve();return I.forEach((Q=>{U=U.next((()=>b.getEntry(g,Q))).next((ee=>{const te=p.docVersions.get(Q);ve(te!==null,48541),ee.version.compareTo(te)<0&&(T.applyToRemoteDocument(ee,p),ee.isValidDocument()&&(ee.setReadTime(p.commitVersion),b.addEntry(ee)))}))})),U.next((()=>m.mutationQueue.removeMutationBatch(g,T)))})(t,r,e,l).next((()=>l.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(m){let g=je();for(let p=0;p<m.mutationResults.length;++p)m.mutationResults[p].transformResults.length>0&&(g=g.add(m.batch.mutations[p].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(r,a)))}))}function q1(i){const e=Ne(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function cV(i,e){const t=Ne(i),r=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const m=[];e.targetChanges.forEach(((b,T)=>{const I=a.get(T);if(!I)return;m.push(t.li.removeMatchingKeys(l,b.removedDocuments,T).next((()=>t.li.addMatchingKeys(l,b.addedDocuments,T))));let U=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?U=U.withResumeToken(Ut.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(U=U.withResumeToken(b.resumeToken,r)),a=a.insert(T,U),(function(ee,te,ue){return ee.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=oV?!0:ue.addedDocuments.size+ue.modifiedDocuments.size+ue.removedDocuments.size>0})(I,U,b)&&m.push(t.li.updateTargetData(l,U))}));let g=Mn(),p=je();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&m.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))})),m.push(hV(l,c,e.documentUpdates).next((b=>{g=b.Bs,p=b.Ls}))),!r.isEqual(we.min())){const b=t.li.getLastRemoteSnapshotVersion(l).next((T=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,r)));m.push(b)}return j.waitFor(m).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,p))).next((()=>g))})).then((l=>(t.vs=a,l)))}function hV(i,e,t){let r=je(),a=je();return t.forEach((l=>r=r.add(l))),e.getEntries(i,r).next((l=>{let c=Mn();return t.forEach(((m,g)=>{const p=l.get(m);g.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(m,g.readTime),c=c.insert(m,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),c=c.insert(m,g)):ie(jy,"Ignoring outdated watch update for ",m,". Current version:",p.version," Watch version:",g.version)})),{Bs:c,Ls:a}}))}function fV(i,e){const t=Ne(i);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=Ra),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function dV(i,e){const t=Ne(i);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let a;return t.li.getTargetData(r,e).next((l=>l?(a=l,j.resolve(a)):t.li.allocateTargetId(r).next((c=>(a=new Ar(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.li.addTargetData(r,a).next((()=>a)))))))})).then((r=>{const a=t.vs.get(r.targetId);return(a===null||r.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(r.targetId,r),t.Fs.set(e,r.targetId)),r}))}async function Up(i,e,t){const r=Ne(i),a=r.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",l,(c=>r.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Ps(c))throw c;ie(jy,`Failed to update sequence numbers for target ${e}: ${c}`)}r.vs=r.vs.remove(e),r.Fs.delete(a.target)}function mE(i,e,t){const r=Ne(i);let a=we.min(),l=je();return r.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,p,b){const T=Ne(g),I=T.Fs.get(b);return I!==void 0?j.resolve(T.vs.get(I)):T.li.getTargetData(p,b)})(r,c,ni(e)).next((m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(c,m.targetId).next((g=>{l=g}))})).next((()=>r.Cs.getDocumentsMatchingQuery(c,e,t?a:we.min(),t?l:je()))).next((m=>(mV(r,JO(e),m),{documents:m,ks:l})))))}function mV(i,e,t){let r=i.Ms.get(e)||we.min();t.forEach(((a,l)=>{l.readTime.compareTo(r)>0&&(r=l.readTime)})),i.Ms.set(e,r)}class gE{constructor(){this.activeTargetIds=rM()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class H1{constructor(){this.vo=new gE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,r){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new gE,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gV{Mo(e){}shutdown(){}}const pE="ConnectivityMonitor";class yE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ie(pE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ie(pE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let pf=null;function jp(){return pf===null?pf=(function(){return 268435456+Math.round(2147483648*Math.random())})():pf++,"0x"+pf.toString(16)}const ip="RestConnection",pV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class yV{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${r}/databases/${a}`,this.$o=this.databaseId.database===$f?`project_id=${r}`:`project_id=${r}&database_id=${a}`}Wo(e,t,r,a,l){const c=jp(),m=this.Qo(e,t.toUriEncodedString());ie(ip,`Sending RPC '${e}' ${c}:`,m,r);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,a,l);const{host:p}=new URL(m),b=vl(p);return this.zo(e,m,g,r,b).then((T=>(ie(ip,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw Ds(ip,`RPC '${e}' ${c} failed with error: `,T,"url: ",m,"request:",r),T}))}jo(e,t,r,a,l,c){return this.Wo(e,t,r,a,l)}Go(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+El})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),r&&r.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const r=pV[e];let a=`${this.qo}/v1/${t}:${r}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class _V{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const sn="WebChannelConnection",Uu=(i,e,t)=>{i.listen(e,(r=>{try{t(r)}catch(a){setTimeout((()=>{throw a}),0)}}))};class tl extends yV{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!tl.c_){const e=gS();Uu(e,mS.STAT_EVENT,(t=>{t.stat===_p.PROXY?ie(sn,"STAT_EVENT: detected buffering proxy"):t.stat===_p.NOPROXY&&ie(sn,"STAT_EVENT: detected no buffering proxy")})),tl.c_=!0}}zo(e,t,r,a,l){const c=jp();return new Promise(((m,g)=>{const p=new fS;p.setWithCredentials(!0),p.listenOnce(dS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Sf.NO_ERROR:const T=p.getResponseJson();ie(sn,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),m(T);break;case Sf.TIMEOUT:ie(sn,`RPC '${e}' ${c} timed out`),g(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const I=p.getStatus();if(ie(sn,`RPC '${e}' ${c} failed with status:`,I,"response text:",p.getResponseText()),I>0){let U=p.getResponseJson();Array.isArray(U)&&(U=U[0]);const Q=U?.error;if(Q&&Q.status&&Q.message){const ee=(function(ue){const fe=ue.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(fe)>=0?fe:Z.UNKNOWN})(Q.status);g(new he(ee,Q.message))}else g(new he(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new he(Z.UNAVAILABLE,"Connection failed."));break;default:pe(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ie(sn,`RPC '${e}' ${c} completed.`)}}));const b=JSON.stringify(a);ie(sn,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",b,r,15)}))}T_(e,t,r){const a=jp(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(m.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(m.useFetchStreams=!0),this.Go(m.initMessageHeaders,t,r),m.encodeInitMessageHeaders=!0;const p=l.join("");ie(sn,`Creating RPC '${e}' stream ${a}: ${p}`,m);const b=c.createWebChannel(p,m);this.I_(b);let T=!1,I=!1;const U=new _V({Ho:Q=>{I?ie(sn,`Not sending because RPC '${e}' stream ${a} is closed:`,Q):(T||(ie(sn,`Opening RPC '${e}' stream ${a} transport.`),b.open(),T=!0),ie(sn,`RPC '${e}' stream ${a} sending:`,Q),b.send(Q))},Jo:()=>b.close()});return Uu(b,qu.EventType.OPEN,(()=>{I||(ie(sn,`RPC '${e}' stream ${a} transport opened.`),U.i_())})),Uu(b,qu.EventType.CLOSE,(()=>{I||(I=!0,ie(sn,`RPC '${e}' stream ${a} transport closed`),U.o_(),this.E_(b))})),Uu(b,qu.EventType.ERROR,(Q=>{I||(I=!0,Ds(sn,`RPC '${e}' stream ${a} transport errored. Name:`,Q.name,"Message:",Q.message),U.o_(new he(Z.UNAVAILABLE,"The operation could not be completed")))})),Uu(b,qu.EventType.MESSAGE,(Q=>{if(!I){const ee=Q.data[0];ve(!!ee,16349);const te=ee,ue=te?.error||te[0]?.error;if(ue){ie(sn,`RPC '${e}' stream ${a} received error:`,ue);const fe=ue.status;let ae=(function(_e){const x=Pt[_e];if(x!==void 0)return h1(x)})(fe),Ee=ue.message;fe==="NOT_FOUND"&&Ee.includes("database")&&Ee.includes("does not exist")&&Ee.includes(this.databaseId.database)&&Ds(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ae===void 0&&(ae=Z.INTERNAL,Ee="Unknown error status: "+fe+" with message "+ue.message),I=!0,U.o_(new he(ae,Ee)),b.close()}else ie(sn,`RPC '${e}' stream ${a} received:`,ee),U.__(ee)}})),tl.u_(),setTimeout((()=>{U.s_()}),0),U}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,r){super.Go(e,t,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return pS()}}function vV(i){return new tl(i)}function bV(){return typeof window<"u"?window:null}function Vf(){return typeof document<"u"?document:null}function Vd(i){return new TM(i,!0)}tl.c_=!1;class G1{constructor(e,t,r=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=r,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-r);a>0&&ie("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const _E="PersistentStream";class K1{constructor(e,t,r,a,l,c,m,g){this.Ci=e,this.b_=r,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new G1(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(fn(t.toString()),fn("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,a])=>{this.D_===t&&this.G_(r,a)}),(r=>{e((()=>{const a=new he(Z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(a)}))}))}G_(e,t){const r=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{r((()=>this.listener.Zo()))})),this.stream.Yo((()=>{r((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{r((()=>this.z_(a)))})),this.stream.onMessage((a=>{r((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ie(_E,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ie(_E,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class TV extends K1{constructor(e,t,r,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=SM(this.serializer,e),r=(function(l){if(!("targetChange"in l))return we.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?mn(c.readTime):we.min()})(e);return this.listener.J_(t,r)}Z_(e){const t={};t.database=Mp(this.serializer),t.addTarget=(function(l,c){let m;const g=c.target;if(m=Jf(g)?{documents:v1(l,g)}:{query:b1(l,g).ft},m.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){m.resumeToken=m1(l,c.resumeToken);const p=Dp(l,c.expectedCount);p!==null&&(m.expectedCount=p)}else if(c.snapshotVersion.compareTo(we.min())>0){m.readTime=pl(l,c.snapshotVersion.toTimestamp());const p=Dp(l,c.expectedCount);p!==null&&(m.expectedCount=p)}return m})(this.serializer,e);const r=IM(this.serializer,e);r&&(t.labels=r),this.K_(t)}X_(e){const t={};t.database=Mp(this.serializer),t.removeTarget=e,this.K_(t)}}class EV extends K1{constructor(e,t,r,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=AM(e.writeResults,e.commitTime),r=mn(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=Mp(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>td(this.serializer,r)))};this.K_(t)}}class wV{}class SV extends wV{constructor(e,t,r,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,r,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,Op(t,r),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(Z.UNKNOWN,l.toString())}))}jo(e,t,r,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,m])=>this.connection.jo(e,Op(t,r),a,c,m,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Z.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function AV(i,e,t,r){return new SV(i,e,t,r)}class IV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fn(t),this.aa=!1):ie("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const qa="RemoteStore";class xV{constructor(e,t,r,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{r.enqueueAndForget((async()=>{Qa(this)&&(ie(qa,"Restarting streams for network reachability change."),await(async function(g){const p=Ne(g);p.Ea.add(4),await Nc(p),p.Va.set("Unknown"),p.Ea.delete(4),await kd(p)})(this))}))})),this.Va=new IV(r,a)}}async function kd(i){if(Qa(i))for(const e of i.Ra)await e(!0)}async function Nc(i){for(const e of i.Ra)await e(!1)}function Y1(i,e){const t=Ne(i);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),qy(t)?Fy(t):Sl(t).O_()&&By(t,e))}function zy(i,e){const t=Ne(i),r=Sl(t);t.Ia.delete(e),r.O_()&&Q1(t,e),t.Ia.size===0&&(r.O_()?r.L_():Qa(t)&&t.Va.set("Unknown"))}function By(i,e){if(i.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Sl(i).Z_(e)}function Q1(i,e){i.da.$e(e),Sl(i).X_(e)}function Fy(i){i.da=new yM({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),At:e=>i.Ia.get(e)||null,ht:()=>i.datastore.serializer.databaseId}),Sl(i).start(),i.Va.ua()}function qy(i){return Qa(i)&&!Sl(i).x_()&&i.Ia.size>0}function Qa(i){return Ne(i).Ea.size===0}function X1(i){i.da=void 0}async function RV(i){i.Va.set("Online")}async function CV(i){i.Ia.forEach(((e,t)=>{By(i,e)}))}async function NV(i,e){X1(i),qy(i)?(i.Va.ha(e),Fy(i)):i.Va.set("Unknown")}async function DV(i,e,t){if(i.Va.set("Online"),e instanceof d1&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const m of l.targetIds)a.Ia.has(m)&&(await a.remoteSyncer.rejectListen(m,c),a.Ia.delete(m),a.da.removeTarget(m))})(i,e)}catch(r){ie(qa,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ad(i,r)}else if(e instanceof Of?i.da.Xe(e):e instanceof f1?i.da.st(e):i.da.tt(e),!t.isEqual(we.min()))try{const r=await q1(i.localStore);t.compareTo(r)>=0&&await(function(l,c){const m=l.da.Tt(c);return m.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const b=l.Ia.get(p);b&&l.Ia.set(p,b.withResumeToken(g.resumeToken,c))}})),m.targetMismatches.forEach(((g,p)=>{const b=l.Ia.get(g);if(!b)return;l.Ia.set(g,b.withResumeToken(Ut.EMPTY_BYTE_STRING,b.snapshotVersion)),Q1(l,g);const T=new Ar(b.target,g,p,b.sequenceNumber);By(l,T)})),l.remoteSyncer.applyRemoteEvent(m)})(i,t)}catch(r){ie(qa,"Failed to raise snapshot:",r),await ad(i,r)}}async function ad(i,e,t){if(!Ps(e))throw e;i.Ea.add(1),await Nc(i),i.Va.set("Offline"),t||(t=()=>q1(i.localStore)),i.asyncQueue.enqueueRetryable((async()=>{ie(qa,"Retrying IndexedDB access"),await t(),i.Ea.delete(1),await kd(i)}))}function $1(i,e){return e().catch((t=>ad(i,t,e)))}async function Dc(i){const e=Ne(i),t=Vs(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Ra;for(;OV(e);)try{const a=await fV(e.localStore,r);if(a===null){e.Ta.length===0&&t.L_();break}r=a.batchId,MV(e,a)}catch(a){await ad(e,a)}W1(e)&&J1(e)}function OV(i){return Qa(i)&&i.Ta.length<10}function MV(i,e){i.Ta.push(e);const t=Vs(i);t.O_()&&t.Y_&&t.ea(e.mutations)}function W1(i){return Qa(i)&&!Vs(i).x_()&&i.Ta.length>0}function J1(i){Vs(i).start()}async function VV(i){Vs(i).ra()}async function kV(i){const e=Vs(i);for(const t of i.Ta)e.ea(t.mutations)}async function PV(i,e,t){const r=i.Ta.shift(),a=Cy.from(r,e,t);await $1(i,(()=>i.remoteSyncer.applySuccessfulWrite(a))),await Dc(i)}async function LV(i,e){e&&Vs(i).Y_&&await(async function(r,a){if((function(c){return mM(c)&&c!==Z.ABORTED})(a.code)){const l=r.Ta.shift();Vs(r).B_(),await $1(r,(()=>r.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Dc(r)}})(i,e),W1(i)&&J1(i)}async function vE(i,e){const t=Ne(i);t.asyncQueue.verifyOperationInProgress(),ie(qa,"RemoteStore received new credentials");const r=Qa(t);t.Ea.add(3),await Nc(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await kd(t)}async function UV(i,e){const t=Ne(i);e?(t.Ea.delete(2),await kd(t)):e||(t.Ea.add(2),await Nc(t),t.Va.set("Unknown"))}function Sl(i){return i.ma||(i.ma=(function(t,r,a){const l=Ne(t);return l.sa(),new TV(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Zo:RV.bind(null,i),Yo:CV.bind(null,i),t_:NV.bind(null,i),J_:DV.bind(null,i)}),i.Ra.push((async e=>{e?(i.ma.B_(),qy(i)?Fy(i):i.Va.set("Unknown")):(await i.ma.stop(),X1(i))}))),i.ma}function Vs(i){return i.fa||(i.fa=(function(t,r,a){const l=Ne(t);return l.sa(),new EV(r,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),Yo:VV.bind(null,i),t_:LV.bind(null,i),ta:kV.bind(null,i),na:PV.bind(null,i)}),i.Ra.push((async e=>{e?(i.fa.B_(),await Dc(i)):(await i.fa.stop(),i.Ta.length>0&&(ie(qa,`Stopping write stream with ${i.Ta.length} pending writes`),i.Ta=[]))}))),i.fa}class Hy{constructor(e,t,r,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=a,this.removalCallback=l,this.deferred=new Ir,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,a,l){const c=Date.now()+r,m=new Hy(e,t,c,a,l);return m.start(r),m}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Gy(i,e){if(fn("AsyncQueue",`${e}: ${i}`),Ps(i))return new he(Z.UNAVAILABLE,`${e}: ${i}`);throw i}class nl{static emptySet(e){return new nl(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ce.comparator(t.key,r.key):(t,r)=>ce.comparator(t.key,r.key),this.keyedMap=Hu(),this.sortedSet=new yt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=r.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class bE{constructor(){this.ga=new yt(ce.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):pe(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class yl{constructor(e,t,r,a,l,c,m,g,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,a,l){const c=[];return t.forEach((m=>{c.push({type:0,doc:m})})),new yl(e,t,nl.emptySet(t),c,r,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==r[a].type||!t[a].doc.isEqual(r[a].doc))return!1;return!0}}class jV{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class zV{constructor(){this.queries=TE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const a=Ne(t),l=a.queries;a.queries=TE(),l.forEach(((c,m)=>{for(const g of m.ba)g.onError(r)}))})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function TE(){return new Mr((i=>JS(i)),xd)}async function Z1(i,e){const t=Ne(i);let r=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(r=2):(l=new jV,r=e.Da()?0:1);try{switch(r){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const m=Gy(c,`Initialization of query '${Yo(e.query)}' failed`);return void e.onError(m)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&Ky(t)}async function eA(i,e){const t=Ne(i),r=e.query;let a=3;const l=t.queries.get(r);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function BV(i,e){const t=Ne(i);let r=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const m of c.ba)m.Fa(a)&&(r=!0);c.wa=a}}r&&Ky(t)}function FV(i,e,t){const r=Ne(i),a=r.queries.get(e);if(a)for(const l of a.ba)l.onError(t);r.queries.delete(e)}function Ky(i){i.Ca.forEach((e=>{e.next()}))}var zp,EE;(EE=zp||(zp={})).Ma="default",EE.Cache="cache";class tA{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const a of e.docChanges)a.type!==3&&r.push(a);e=new yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==zp.Cache}}class nA{constructor(e){this.key=e}}class iA{constructor(e){this.key=e}}class qV{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=ZS(e),this.tu=new nl(this.eu)}get nu(){return this.Za}ru(e,t){const r=t?t.iu:new bE,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((b,T)=>{const I=a.get(b),U=Rc(this.query,T)?T:null,Q=!!I&&this.mutatedKeys.has(I.key),ee=!!U&&(U.hasLocalMutations||this.mutatedKeys.has(U.key)&&U.hasCommittedMutations);let te=!1;I&&U?I.data.isEqual(U.data)?Q!==ee&&(r.track({type:3,doc:U}),te=!0):this.su(I,U)||(r.track({type:2,doc:U}),te=!0,(g&&this.eu(U,g)>0||p&&this.eu(U,p)<0)&&(m=!0)):!I&&U?(r.track({type:0,doc:U}),te=!0):I&&!U&&(r.track({type:1,doc:I}),te=!0,(g||p)&&(m=!0)),te&&(U?(c=c.add(U),l=ee?l.add(b):l.delete(b)):(c=c.delete(b),l=l.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),l=l.delete(b.key),r.track({type:1,doc:b})}return{tu:c,iu:r,Ss:m,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((b,T)=>(function(U,Q){const ee=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return pe(20277,{Vt:te})}};return ee(U)-ee(Q)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(r),a=a??!1;const m=t&&!a?this._u():[],g=this.Ya.size===0&&this.current&&!a?1:0,p=g!==this.Xa;return this.Xa=g,c.length!==0||p?{snapshot:new yl(this.query,e.tu,l,c,e.mutatedKeys,g===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:m}:{au:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))}));const t=[];return e.forEach((r=>{this.Ya.has(r)||t.push(new iA(r))})),this.Ya.forEach((r=>{e.has(r)||t.push(new nA(r))})),t}cu(e){this.Za=e.ks,this.Ya=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Yy="SyncEngine";class HV{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class GV{constructor(e){this.key=e,this.hu=!1}}class KV{constructor(e,t,r,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Mr((m=>JS(m)),xd),this.Iu=new Map,this.Eu=new Set,this.Ru=new yt(ce.comparator),this.Au=new Map,this.Vu=new ky,this.du={},this.mu=new Map,this.fu=Fa.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function YV(i,e,t=!0){const r=uA(i);let a;const l=r.Tu.get(e);return l?(r.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await rA(r,e,t,!0),a}async function QV(i,e){const t=uA(i);await rA(t,e,!0,!1)}async function rA(i,e,t,r){const a=await dV(i.localStore,ni(e)),l=a.targetId,c=i.sharedClientState.addLocalQueryTarget(l,t);let m;return r&&(m=await XV(i,e,l,c==="current",a.resumeToken)),i.isPrimaryClient&&t&&Y1(i.remoteStore,a),m}async function XV(i,e,t,r,a){i.pu=(T,I,U)=>(async function(ee,te,ue,fe){let ae=te.view.ru(ue);ae.Ss&&(ae=await mE(ee.localStore,te.query,!1).then((({documents:x})=>te.view.ru(x,ae))));const Ee=fe&&fe.targetChanges.get(te.targetId),be=fe&&fe.targetMismatches.get(te.targetId)!=null,_e=te.view.applyChanges(ae,ee.isPrimaryClient,Ee,be);return SE(ee,te.targetId,_e.au),_e.snapshot})(i,T,I,U);const l=await mE(i.localStore,e,!0),c=new qV(e,l.ks),m=c.ru(l.documents),g=Cc.createSynthesizedTargetChangeForCurrentChange(t,r&&i.onlineState!=="Offline",a),p=c.applyChanges(m,i.isPrimaryClient,g);SE(i,t,p.au);const b=new HV(e,t,c);return i.Tu.set(e,b),i.Iu.has(t)?i.Iu.get(t).push(e):i.Iu.set(t,[e]),p.snapshot}async function $V(i,e,t){const r=Ne(i),a=r.Tu.get(e),l=r.Iu.get(a.targetId);if(l.length>1)return r.Iu.set(a.targetId,l.filter((c=>!xd(c,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(a.targetId),r.sharedClientState.isActiveQueryTarget(a.targetId)||await Up(r.localStore,a.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(a.targetId),t&&zy(r.remoteStore,a.targetId),Bp(r,a.targetId)})).catch(Ka)):(Bp(r,a.targetId),await Up(r.localStore,a.targetId,!0))}async function WV(i,e){const t=Ne(i),r=t.Tu.get(e),a=t.Iu.get(r.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),zy(t.remoteStore,r.targetId))}async function JV(i,e,t){const r=cA(i);try{const a=await(function(c,m){const g=Ne(c),p=it.now(),b=m.reduce(((U,Q)=>U.add(Q.key)),je());let T,I;return g.persistence.runTransaction("Locally write mutations","readwrite",(U=>{let Q=Mn(),ee=je();return g.xs.getEntries(U,b).next((te=>{Q=te,Q.forEach(((ue,fe)=>{fe.isValidDocument()||(ee=ee.add(ue))}))})).next((()=>g.localDocuments.getOverlayedDocuments(U,Q))).next((te=>{T=te;const ue=[];for(const fe of m){const ae=fM(fe,T.get(fe.key).overlayedDocument);ae!=null&&ue.push(new Ls(fe.key,ae,HS(ae.value.mapValue),Vn.exists(!0)))}return g.mutationQueue.addMutationBatch(U,p,ue,m)})).next((te=>{I=te;const ue=te.applyToLocalDocumentSet(T,ee);return g.documentOverlayCache.saveOverlays(U,te.batchId,ue)}))})).then((()=>({batchId:I.batchId,changes:t1(T)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(a.batchId),(function(c,m,g){let p=c.du[c.currentUser.toKey()];p||(p=new yt(Ce)),p=p.insert(m,g),c.du[c.currentUser.toKey()]=p})(r,a.batchId,t),await Oc(r,a.changes),await Dc(r.remoteStore)}catch(a){const l=Gy(a,"Failed to persist write");t.reject(l)}}async function sA(i,e){const t=Ne(i);try{const r=await cV(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(ve(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?ve(c.hu,14607):a.removedDocuments.size>0&&(ve(c.hu,42227),c.hu=!1))})),await Oc(t,r,e)}catch(r){await Ka(r)}}function wE(i,e,t){const r=Ne(i);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const a=[];r.Tu.forEach(((l,c)=>{const m=c.view.va(e);m.snapshot&&a.push(m.snapshot)})),(function(c,m){const g=Ne(c);g.onlineState=m;let p=!1;g.queries.forEach(((b,T)=>{for(const I of T.ba)I.va(m)&&(p=!0)})),p&&Ky(g)})(r.eventManager,e),a.length&&r.Pu.J_(a),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function ZV(i,e,t){const r=Ne(i);r.sharedClientState.updateQueryState(e,"rejected",t);const a=r.Au.get(e),l=a&&a.key;if(l){let c=new yt(ce.comparator);c=c.insert(l,Et.newNoDocument(l,we.min()));const m=je().add(l),g=new Nd(we.min(),new Map,new yt(Ce),c,m);await sA(r,g),r.Ru=r.Ru.remove(l),r.Au.delete(e),Qy(r)}else await Up(r.localStore,e,!1).then((()=>Bp(r,e,t))).catch(Ka)}async function ek(i,e){const t=Ne(i),r=e.batch.batchId;try{const a=await uV(t.localStore,e);oA(t,r,null),aA(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await Oc(t,a)}catch(a){await Ka(a)}}async function tk(i,e,t){const r=Ne(i);try{const a=await(function(c,m){const g=Ne(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return g.mutationQueue.lookupMutationBatch(p,m).next((T=>(ve(T!==null,37113),b=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,b,m))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>g.localDocuments.getDocuments(p,b)))}))})(r.localStore,e);oA(r,e,t),aA(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await Oc(r,a)}catch(a){await Ka(a)}}function aA(i,e){(i.mu.get(e)||[]).forEach((t=>{t.resolve()})),i.mu.delete(e)}function oA(i,e,t){const r=Ne(i);let a=r.du[r.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),r.du[r.currentUser.toKey()]=a}}function Bp(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const r of i.Iu.get(e))i.Tu.delete(r),t&&i.Pu.yu(r,t);i.Iu.delete(e),i.isPrimaryClient&&i.Vu.Gr(e).forEach((r=>{i.Vu.containsKey(r)||lA(i,r)}))}function lA(i,e){i.Eu.delete(e.path.canonicalString());const t=i.Ru.get(e);t!==null&&(zy(i.remoteStore,t),i.Ru=i.Ru.remove(e),i.Au.delete(t),Qy(i))}function SE(i,e,t){for(const r of t)r instanceof nA?(i.Vu.addReference(r.key,e),nk(i,r)):r instanceof iA?(ie(Yy,"Document no longer in limbo: "+r.key),i.Vu.removeReference(r.key,e),i.Vu.containsKey(r.key)||lA(i,r.key)):pe(19791,{wu:r})}function nk(i,e){const t=e.key,r=t.path.canonicalString();i.Ru.get(t)||i.Eu.has(r)||(ie(Yy,"New document in limbo: "+t),i.Eu.add(r),Qy(i))}function Qy(i){for(;i.Eu.size>0&&i.Ru.size<i.maxConcurrentLimboResolutions;){const e=i.Eu.values().next().value;i.Eu.delete(e);const t=new ce(ut.fromString(e)),r=i.fu.next();i.Au.set(r,new GV(t)),i.Ru=i.Ru.insert(t,r),Y1(i.remoteStore,new Ar(ni(xc(t.path)),r,"TargetPurposeLimboResolution",Zn.ce))}}async function Oc(i,e,t){const r=Ne(i),a=[],l=[],c=[];r.Tu.isEmpty()||(r.Tu.forEach(((m,g)=>{c.push(r.pu(g,e,t).then((p=>{if((p||t)&&r.isPrimaryClient){const b=p?!p.fromCache:t?.targetChanges.get(g.targetId)?.current;r.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(p){a.push(p);const b=Uy.Es(g.targetId,p);l.push(b)}})))})),await Promise.all(c),r.Pu.J_(a),await(async function(g,p){const b=Ne(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>j.forEach(p,(I=>j.forEach(I.Ts,(U=>b.persistence.referenceDelegate.addReference(T,I.targetId,U))).next((()=>j.forEach(I.Is,(U=>b.persistence.referenceDelegate.removeReference(T,I.targetId,U)))))))))}catch(T){if(!Ps(T))throw T;ie(jy,"Failed to update sequence numbers: "+T)}for(const T of p){const I=T.targetId;if(!T.fromCache){const U=b.vs.get(I),Q=U.snapshotVersion,ee=U.withLastLimboFreeSnapshotVersion(Q);b.vs=b.vs.insert(I,ee)}}})(r.localStore,l))}async function ik(i,e){const t=Ne(i);if(!t.currentUser.isEqual(e)){ie(Yy,"User change. New user:",e.toKey());const r=await F1(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((m=>{m.forEach((g=>{g.reject(new he(Z.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Oc(t,r.Ns)}}function rk(i,e){const t=Ne(i),r=t.Au.get(e);if(r&&r.hu)return je().add(r.key);{let a=je();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const m=t.Tu.get(c);a=a.unionWith(m.view.nu)}return a}}function uA(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=sA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=ZV.bind(null,e),e.Pu.J_=BV.bind(null,e.eventManager),e.Pu.yu=FV.bind(null,e.eventManager),e}function cA(i){const e=Ne(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ek.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tk.bind(null,e),e}class yc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Vd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return B1(this.persistence,new z1,e.initialUser,this.serializer)}Cu(e){return new Py(Md.Vi,this.serializer)}Du(e){return new H1}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}yc.provider={build:()=>new yc};class sk extends yc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ve(this.persistence.referenceDelegate instanceof sd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new k1(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Py((r=>sd.Vi(r,t)),this.serializer)}}class ak extends yc{constructor(e,t,r){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await cA(this.xu.syncEngine),await Dc(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return B1(this.persistence,new z1,e.initialUser,this.serializer)}Fu(e,t){const r=this.persistence.referenceDelegate.garbageCollector;return new k1(r,e.asyncQueue,t)}Mu(e,t){const r=new oO(t,this.persistence);return new aO(e.asyncQueue,r)}Cu(e){const t=sV(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new Ly(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,bV(),Vf(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new H1}}class od{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>wE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ik.bind(null,this.syncEngine),await UV(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new zV})()}createDatastore(e){const t=Vd(e.databaseInfo.databaseId),r=vV(e.databaseInfo);return AV(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,a,l,c,m){return new xV(r,a,l,c,m)})(this.localStore,this.datastore,e.asyncQueue,(t=>wE(this.syncEngine,t,0)),(function(){return yE.v()?new yE:new gV})())}createSyncEngine(e,t){return(function(a,l,c,m,g,p,b){const T=new KV(a,l,c,m,g,p);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const r=Ne(t);ie(qa,"RemoteStore shutting down."),r.Ea.add(5),await Nc(r),r.Aa.shutdown(),r.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}od.provider={build:()=>new od};class hA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fn("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ks="FirestoreClient";class ok{constructor(e,t,r,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this._databaseInfo=a,this.user=tn.UNAUTHENTICATED,this.clientId=dy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(r,(async c=>{ie(ks,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(r,(c=>(ie(ks,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ir;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Gy(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function rp(i,e){i.asyncQueue.verifyOperationInProgress(),ie(ks,"Initializing OfflineComponentProvider");const t=i.configuration;await e.initialize(t);let r=t.initialUser;i.setCredentialChangeListener((async a=>{r.isEqual(a)||(await F1(e.localStore,a),r=a)})),e.persistence.setDatabaseDeletedListener((()=>i.terminate())),i._offlineComponents=e}async function AE(i,e){i.asyncQueue.verifyOperationInProgress();const t=await lk(i);ie(ks,"Initializing OnlineComponentProvider"),await e.initialize(t,i.configuration),i.setCredentialChangeListener((r=>vE(e.remoteStore,r))),i.setAppCheckTokenChangeListener(((r,a)=>vE(e.remoteStore,a))),i._onlineComponents=e}async function lk(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ie(ks,"Using user provided OfflineComponentProvider");try{await rp(i,i._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;Ds("Error using user provided cache. Falling back to memory cache: "+t),await rp(i,new yc)}}else ie(ks,"Using default OfflineComponentProvider"),await rp(i,new sk(void 0));return i._offlineComponents}async function fA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ie(ks,"Using user provided OnlineComponentProvider"),await AE(i,i._uninitializedComponentsProvider._online)):(ie(ks,"Using default OnlineComponentProvider"),await AE(i,new od))),i._onlineComponents}function uk(i){return fA(i).then((e=>e.syncEngine))}async function Fp(i){const e=await fA(i),t=e.eventManager;return t.onListen=YV.bind(null,e.syncEngine),t.onUnlisten=$V.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=QV.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WV.bind(null,e.syncEngine),t}function ck(i,e,t,r){const a=new hA(r),l=new tA(e,a,t);return i.asyncQueue.enqueueAndForget((async()=>Z1(await Fp(i),l))),()=>{a.Nu(),i.asyncQueue.enqueueAndForget((async()=>eA(await Fp(i),l)))}}function hk(i,e,t={}){const r=new Ir;return i.asyncQueue.enqueueAndForget((async()=>(function(l,c,m,g,p){const b=new hA({next:I=>{b.Nu(),c.enqueueAndForget((()=>eA(l,T)));const U=I.docs.has(m);!U&&I.fromCache?p.reject(new he(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):U&&I.fromCache&&g&&g.source==="server"?p.reject(new he(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),T=new tA(xc(m.path),b,{includeMetadataChanges:!0,Ka:!0});return Z1(l,T)})(await Fp(i),i.asyncQueue,e,t,r))),r.promise}function fk(i,e){const t=new Ir;return i.asyncQueue.enqueueAndForget((async()=>JV(await uk(i),e,t))),t.promise}function dA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}const dk="ComponentProvider",IE=new Map;function mk(i,e,t,r,a){return new PO(i,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,dA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,r)}const mA="firestore.googleapis.com",xE=!0;class RE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mA,this.ssl=xE}else this.host=e.host,this.ssl=e.ssl??xE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=D1;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<FM)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}nO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=dA(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,a){return r.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Xy{constructor(e,t,r,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new GD;switch(r.type){case"firstParty":return new XD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=IE.get(t);r&&(ie(dk,"Removing Datastore"),IE.delete(t),r.terminate())})(this),Promise.resolve()}}function gk(i,e,t,r={}){i=xr(i,Xy);const a=vl(e),l=i._getSettings(),c={...l,emulatorOptions:i._getEmulatorOptions()},m=`${e}:${t}`;a&&(tw(`https://${m}`),nw("Firestore",!0)),l.host!==mA&&l.host!==m&&Ds("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:m,ssl:a,emulatorOptions:r};if(!Ns(g,c)&&(i._setSettings(g),r.mockUserToken)){let p,b;if(typeof r.mockUserToken=="string")p=r.mockUserToken,b=tn.MOCK_USER;else{p=Qx(r.mockUserToken,i._app?.options.projectId);const T=r.mockUserToken.sub||r.mockUserToken.user_id;if(!T)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new tn(T)}i._authCredentials=new KD(new _S(p,b))}}class Pd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Pd(this.firestore,e,this._query)}}class Ft{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _c(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}toJSON(){return{type:Ft._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(Sc(t,Ft._jsonSchema))return new Ft(e,r||null,new ce(ut.fromString(t.referencePath)))}}Ft._jsonSchemaVersion="firestore/documentReference/1.0",Ft._jsonSchema={type:Lt("string",Ft._jsonSchemaVersion),referencePath:Lt("string")};class _c extends Pd{constructor(e,t,r){super(e,t,xc(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new ce(e))}withConverter(e){return new _c(this.firestore,e,this._path)}}function br(i,e,...t){if(i=ln(i),arguments.length===1&&(e=dy.newId()),tO("doc","path",e),i instanceof Xy){const r=ut.fromString(e,...t);return _T(r),new Ft(i,null,new ce(r))}{if(!(i instanceof Ft||i instanceof _c))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=i._path.child(ut.fromString(e,...t));return _T(r),new Ft(i.firestore,i instanceof _c?i.converter:null,new ce(r))}}const CE="AsyncQueue";class NE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new G1(this,"async_queue_retry"),this._c=()=>{const r=Vf();r&&ie(CE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=Vf();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Vf();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Ir;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ps(e))throw e;ie(CE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,fn("INTERNAL UNHANDLED ERROR: ",DE(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=Hy.createAndSchedule(this,e,t,r,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&pe(47125,{Pc:DE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function DE(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class _l extends Xy{constructor(e,t,r,a){super(e,t,r,a),this.type="firestore",this._queue=new NE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new NE(e),this._firestoreClient=void 0,await e}}}function pk(i,e){const t=typeof i=="object"?i:Xp(),r=typeof i=="string"?i:$f,a=Ga(t,"firestore").getImmediate({identifier:r});if(!a._initialized){const l=Kx("firestore");l&&gk(a,...l)}return a}function $y(i){if(i._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||gA(i),i._firestoreClient}function gA(i){const e=i._freezeSettings(),t=mk(i._databaseId,i._app?.options.appId||"",i._persistenceKey,i._app?.options.apiKey,e);i._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(i._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),i._firestoreClient=new ok(i._authCredentials,i._appCheckCredentials,i._queue,t,i._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(i._componentsProvider))}function yk(i,e){Ds("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=i._freezeSettings();return _k(i,od.provider,{build:r=>new ak(r,t.cacheSizeBytes,e?.forceOwnership)}),Promise.resolve()}function _k(i,e,t){if((i=xr(i,_l))._firestoreClient||i._terminated)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.");if(i._componentsProvider||i._getSettings().localCache)throw new he(Z.FAILED_PRECONDITION,"SDK cache is already specified.");i._componentsProvider={_online:e,_offline:t},gA(i)}class Jn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Jn(Ut.fromBase64String(e))}catch(t){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Jn(Ut.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Jn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Sc(e,Jn._jsonSchema))return Jn.fromBase64String(e.bytes)}}Jn._jsonSchemaVersion="firestore/bytes/1.0",Jn._jsonSchema={type:Lt("string",Jn._jsonSchemaVersion),bytes:Lt("string")};class pA{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class yA{constructor(e){this._methodName=e}}class Wi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ce(this._lat,e._lat)||Ce(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(e){if(Sc(e,Wi._jsonSchema))return new Wi(e.latitude,e.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:Lt("string",Wi._jsonSchemaVersion),latitude:Lt("number"),longitude:Lt("number")};class bi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,a){if(r.length!==a.length)return!1;for(let l=0;l<r.length;++l)if(r[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Sc(e,bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new bi(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:Lt("string",bi._jsonSchemaVersion),vectorValues:Lt("object")};const vk=/^__.*__$/;class bk{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ls(e,this.data,this.fieldMask,t,this.fieldTransforms):new wl(e,this.data,t,this.fieldTransforms)}}function _A(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw pe(40011,{dataSource:i})}}class Wy{constructor(e,t,r,a,l,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Wy({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){const t=this.path?.child(e),r=this.contextWith({path:t,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return ld(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(_A(this.dataSource)&&vk.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Tk{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Vd(e)}createContext(e,t,r,a=!1){return new Wy({dataSource:e,methodName:t,targetDoc:r,path:_t.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ek(i){const e=i._freezeSettings(),t=Vd(i._databaseId);return new Tk(i._databaseId,!!e.ignoreUndefinedProperties,t)}function wk(i,e,t,r,a,l={}){const c=i.createContext(l.merge||l.mergeFields?2:0,e,t,a);EA("Data must be an object, but it was:",c,r);const m=bA(r,c);let g,p;if(l.merge)g=new ei(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const b=[];for(const T of l.mergeFields){const I=Jy(e,T,t);if(!c.contains(I))throw new he(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Ik(b,I)||b.push(I)}g=new ei(b),p=c.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=c.fieldTransforms;return new bk(new En(m),g,p)}function vA(i,e){if(TA(i=ln(i)))return EA("Unsupported field value:",e,i),bA(i,e);if(i instanceof yA)return(function(r,a){if(!_A(a.dataSource))throw a.createError(`${r._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${r._methodName}() is not currently supported inside arrays`);const l=r._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(r,a){const l=[];let c=0;for(const m of r){let g=vA(m,a.childContextForArray(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}})(i,e)}return(function(r,a){if((r=ln(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return sM(a.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const l=it.fromDate(r);return{timestampValue:pl(a.serializer,l)}}if(r instanceof it){const l=new it(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:pl(a.serializer,l)}}if(r instanceof Wi)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Jn)return{bytesValue:m1(a.serializer,r._byteString)};if(r instanceof Ft){const l=a.databaseId,c=r.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Oy(r.firestore._databaseId||a.databaseId,r._key.path)}}if(r instanceof bi)return(function(c,m){const g=c instanceof bi?c.toArray():c;return{mapValue:{fields:{[Ey]:{stringValue:wy},[cl]:{arrayValue:{values:g.map((b=>{if(typeof b!="number")throw m.createError("VectorValues must only contain numeric values.");return Iy(m.serializer,b)}))}}}}}})(r,a);if(A1(r))return r._toProto(a.serializer);throw a.createError(`Unsupported field value: ${my(r)}`)})(i,e)}function bA(i,e){const t={};return kS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ya(i,((r,a)=>{const l=vA(a,e.childContextForField(r));l!=null&&(t[r]=l)})),{mapValue:{fields:t}}}function TA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof it||i instanceof Wi||i instanceof Jn||i instanceof Ft||i instanceof yA||i instanceof bi||A1(i))}function EA(i,e,t){if(!TA(t)||!bS(t)){const r=my(t);throw r==="an object"?e.createError(i+" a custom object"):e.createError(i+" "+r)}}function Jy(i,e,t){if((e=ln(e))instanceof pA)return e._internalPath;if(typeof e=="string")return Ak(i,e);throw ld("Field path arguments must be of type string or ",i,!1,void 0,t)}const Sk=new RegExp("[~\\*/\\[\\]]");function Ak(i,e,t){if(e.search(Sk)>=0)throw ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new pA(...e.split("."))._internalPath}catch{throw ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function ld(i,e,t,r,a){const l=r&&!r.isEmpty(),c=a!==void 0;let m=`Function ${e}() called with invalid data`;t&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${r}`),c&&(g+=` in document ${a}`),g+=")"),new he(Z.INVALID_ARGUMENT,m+i+g)}function Ik(i,e){return i.some((t=>t.isEqual(e)))}class xk{convertValue(e,t="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw pe(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return Ya(e,((a,l)=>{r[a]=this.convertValue(l,t)})),r}convertVectorValue(e){const t=e.fields?.[cl].arrayValue?.values?.map((r=>pt(r.doubleValue)));return new bi(t)}convertGeoPoint(e){return new Wi(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Sd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(fc(e));default:return null}}convertTimestamp(e){const t=Nr(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ut.fromString(e);ve(S1(r),9688,{name:e});const a=new Ua(r.get(1),r.get(3)),l=new ce(r.popFirst(5));return a.isEqual(t)||fn(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class wA extends xk{constructor(e){super(),this.firestore=e}convertBytes(e){return new Jn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,t)}}const OE="@firebase/firestore",ME="4.11.0";function VE(i){return(function(t,r){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of r)if(l in a&&typeof a[l]=="function")return!0;return!1})(i,["next","error","complete"])}class SA{constructor(e,t,r,a,l){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Rk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(Jy("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Rk extends SA{data(){return super.data()}}function Ck(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Nk(i,e,t){let r;return r=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,r}class Yu{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Da extends SA{constructor(e,t,r,a,l,c){super(e,t,r,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(Jy("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Da._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Lt("string",Da._jsonSchemaVersion),bundleSource:Lt("string","DocumentSnapshot"),bundleName:Lt("string"),bundle:Lt("string")};class kf extends Da{data(e={}){return super.data(e)}}class il{constructor(e,t,r,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new Yu(a.hasPendingWrites,a.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new kf(this._firestore,this._userDataWriter,r.key,r,new Yu(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((m=>{const g=new kf(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Yu(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((m=>l||m.type!==3)).map((m=>{const g=new kf(a._firestore,a._userDataWriter,m.doc.key,m.doc,new Yu(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,b=-1;return m.type!==0&&(p=c.indexOf(m.doc.key),c=c.delete(m.doc.key)),m.type!==1&&(c=c.add(m.doc),b=c.indexOf(m.doc.key)),{type:Dk(m.type),doc:g,oldIndex:p,newIndex:b}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=il._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=dy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),r.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Dk(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return pe(61501,{type:i})}}il._jsonSchemaVersion="firestore/querySnapshot/1.0",il._jsonSchema={type:Lt("string",il._jsonSchemaVersion),bundleSource:Lt("string","QuerySnapshot"),bundleName:Lt("string"),bundle:Lt("string")};function ys(i){i=xr(i,Ft);const e=xr(i.firestore,_l),t=$y(e);return hk(t,i._key).then((r=>AA(e,i,r)))}function _s(i,e,t){i=xr(i,Ft);const r=xr(i.firestore,_l),a=Nk(i.converter,e,t),l=Ek(r);return Mk(r,[wk(l,"setDoc",i._key,a,i.converter!==null,t).toMutation(i._key,Vn.none())])}function Ok(i,...e){i=ln(i);let t={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||VE(e[r])||(t=e[r++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(VE(e[r])){const p=e[r];e[r]=p.next?.bind(p),e[r+1]=p.error?.bind(p),e[r+2]=p.complete?.bind(p)}let l,c,m;if(i instanceof Ft)c=xr(i.firestore,_l),m=xc(i._key.path),l={next:p=>{e[r]&&e[r](AA(c,i,p))},error:e[r+1],complete:e[r+2]};else{const p=xr(i,Pd);c=xr(p.firestore,_l),m=p._query;const b=new wA(c);l={next:T=>{e[r]&&e[r](new il(c,b,p,T))},error:e[r+1],complete:e[r+2]},Ck(i._query)}const g=$y(c);return ck(g,m,a,l)}function Mk(i,e){const t=$y(i);return fk(t,e)}function AA(i,e,t){const r=t.docs.get(e._key),a=new wA(i);return new Da(i,a,e._key,r,new Yu(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){HD(bl),Ji(new Ti("firestore",((r,{instanceIdentifier:a,options:l})=>{const c=r.getProvider("app").getImmediate(),m=new _l(new YD(r.getProvider("auth-internal")),new $D(c,r.getProvider("app-check-internal")),LO(c,a),c);return l={useFetchStreams:t,...l},m._setSettings(l),m}),"PUBLIC").setMultipleInstances(!0)),ti(OE,ME,e),ti(OE,ME,"esm2020")})();const Vk={apiKey:"AIzaSyByGhcAHo9FEmCiE7MZA_Uwi9faGbYHz34",authDomain:"subscription-tracker-a6c30.firebaseapp.com",projectId:"subscription-tracker-a6c30",storageBucket:"subscription-tracker-a6c30.appspot.com",messagingSenderId:"605694892750",appId:"1:605694892750:web:4f3a30c9b27a7fd0d60e9f",measurementId:"G-E8E0C7K4GT"},Zy=hw(Vk);UC(Zy);const qp=FD(Zy),Ki=pk(Zy);yk(Ki).catch(i=>{i.code==="failed-precondition"?console.log("Firestore persistence disabled: multiple tabs open"):i.code==="unimplemented"&&console.log("Firestore persistence disabled: browser not supported")});function IA(i){var e,t,r="";if(typeof i=="string"||typeof i=="number")r+=i;else if(typeof i=="object")if(Array.isArray(i)){var a=i.length;for(e=0;e<a;e++)i[e]&&(t=IA(i[e]))&&(r&&(r+=" "),r+=t)}else for(t in i)i[t]&&(r&&(r+=" "),r+=t);return r}function kk(){for(var i,e,t=0,r="",a=arguments.length;t<a;t++)(i=arguments[t])&&(e=IA(i))&&(r&&(r+=" "),r+=e);return r}const Pk=(i,e)=>{const t=new Array(i.length+e.length);for(let r=0;r<i.length;r++)t[r]=i[r];for(let r=0;r<e.length;r++)t[i.length+r]=e[r];return t},Lk=(i,e)=>({classGroupId:i,validator:e}),xA=(i=new Map,e=null,t)=>({nextPart:i,validators:e,classGroupId:t}),ud="-",kE=[],Uk="arbitrary..",jk=i=>{const e=Bk(i),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=i;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return zk(c);const m=c.split(ud),g=m[0]===""&&m.length>1?1:0;return RA(m,g,e)},getConflictingClassGroupIds:(c,m)=>{if(m){const g=r[c],p=t[c];return g?p?Pk(p,g):g:p||kE}return t[c]||kE}}},RA=(i,e,t)=>{if(i.length-e===0)return t.classGroupId;const a=i[e],l=t.nextPart.get(a);if(l){const p=RA(i,e+1,l);if(p)return p}const c=t.validators;if(c===null)return;const m=e===0?i.join(ud):i.slice(e).join(ud),g=c.length;for(let p=0;p<g;p++){const b=c[p];if(b.validator(m))return b.classGroupId}},zk=i=>i.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=i.slice(1,-1),t=e.indexOf(":"),r=e.slice(0,t);return r?Uk+r:void 0})(),Bk=i=>{const{theme:e,classGroups:t}=i;return Fk(t,e)},Fk=(i,e)=>{const t=xA();for(const r in i){const a=i[r];e_(a,t,r,e)}return t},e_=(i,e,t,r)=>{const a=i.length;for(let l=0;l<a;l++){const c=i[l];qk(c,e,t,r)}},qk=(i,e,t,r)=>{if(typeof i=="string"){Hk(i,e,t);return}if(typeof i=="function"){Gk(i,e,t,r);return}Kk(i,e,t,r)},Hk=(i,e,t)=>{const r=i===""?e:CA(e,i);r.classGroupId=t},Gk=(i,e,t,r)=>{if(Yk(i)){e_(i(r),e,t,r);return}e.validators===null&&(e.validators=[]),e.validators.push(Lk(t,i))},Kk=(i,e,t,r)=>{const a=Object.entries(i),l=a.length;for(let c=0;c<l;c++){const[m,g]=a[c];e_(g,CA(e,m),t,r)}},CA=(i,e)=>{let t=i;const r=e.split(ud),a=r.length;for(let l=0;l<a;l++){const c=r[l];let m=t.nextPart.get(c);m||(m=xA(),t.nextPart.set(c,m)),t=m}return t},Yk=i=>"isThemeGetter"in i&&i.isThemeGetter===!0,Qk=i=>{if(i<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),r=Object.create(null);const a=(l,c)=>{t[l]=c,e++,e>i&&(e=0,r=t,t=Object.create(null))};return{get(l){let c=t[l];if(c!==void 0)return c;if((c=r[l])!==void 0)return a(l,c),c},set(l,c){l in t?t[l]=c:a(l,c)}}},Hp="!",PE=":",Xk=[],LE=(i,e,t,r,a)=>({modifiers:i,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:r,isExternal:a}),$k=i=>{const{prefix:e,experimentalParseClassName:t}=i;let r=a=>{const l=[];let c=0,m=0,g=0,p;const b=a.length;for(let ee=0;ee<b;ee++){const te=a[ee];if(c===0&&m===0){if(te===PE){l.push(a.slice(g,ee)),g=ee+1;continue}if(te==="/"){p=ee;continue}}te==="["?c++:te==="]"?c--:te==="("?m++:te===")"&&m--}const T=l.length===0?a:a.slice(g);let I=T,U=!1;T.endsWith(Hp)?(I=T.slice(0,-1),U=!0):T.startsWith(Hp)&&(I=T.slice(1),U=!0);const Q=p&&p>g?p-g:void 0;return LE(l,U,I,Q)};if(e){const a=e+PE,l=r;r=c=>c.startsWith(a)?l(c.slice(a.length)):LE(Xk,!1,c,void 0,!0)}if(t){const a=r;r=l=>t({className:l,parseClassName:a})}return r},Wk=i=>{const e=new Map;return i.orderSensitiveModifiers.forEach((t,r)=>{e.set(t,1e6+r)}),t=>{const r=[];let a=[];for(let l=0;l<t.length;l++){const c=t[l],m=c[0]==="[",g=e.has(c);m||g?(a.length>0&&(a.sort(),r.push(...a),a=[]),r.push(c)):a.push(c)}return a.length>0&&(a.sort(),r.push(...a)),r}},Jk=i=>({cache:Qk(i.cacheSize),parseClassName:$k(i),sortModifiers:Wk(i),...jk(i)}),Zk=/\s+/,e4=(i,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],m=i.trim().split(Zk);let g="";for(let p=m.length-1;p>=0;p-=1){const b=m[p],{isExternal:T,modifiers:I,hasImportantModifier:U,baseClassName:Q,maybePostfixModifierPosition:ee}=t(b);if(T){g=b+(g.length>0?" "+g:g);continue}let te=!!ee,ue=r(te?Q.substring(0,ee):Q);if(!ue){if(!te){g=b+(g.length>0?" "+g:g);continue}if(ue=r(Q),!ue){g=b+(g.length>0?" "+g:g);continue}te=!1}const fe=I.length===0?"":I.length===1?I[0]:l(I).join(":"),ae=U?fe+Hp:fe,Ee=ae+ue;if(c.indexOf(Ee)>-1)continue;c.push(Ee);const be=a(ue,te);for(let _e=0;_e<be.length;++_e){const x=be[_e];c.push(ae+x)}g=b+(g.length>0?" "+g:g)}return g},t4=(...i)=>{let e=0,t,r,a="";for(;e<i.length;)(t=i[e++])&&(r=NA(t))&&(a&&(a+=" "),a+=r);return a},NA=i=>{if(typeof i=="string")return i;let e,t="";for(let r=0;r<i.length;r++)i[r]&&(e=NA(i[r]))&&(t&&(t+=" "),t+=e);return t},n4=(i,...e)=>{let t,r,a,l;const c=g=>{const p=e.reduce((b,T)=>T(b),i());return t=Jk(p),r=t.cache.get,a=t.cache.set,l=m,m(g)},m=g=>{const p=r(g);if(p)return p;const b=e4(g,t);return a(g,b),b};return l=c,(...g)=>l(t4(...g))},i4=[],Bt=i=>{const e=t=>t[i]||i4;return e.isThemeGetter=!0,e},DA=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,OA=/^\((?:(\w[\w-]*):)?(.+)\)$/i,r4=/^\d+\/\d+$/,s4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,a4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,o4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,l4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,u4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ho=i=>r4.test(i),Ue=i=>!!i&&!Number.isNaN(Number(i)),vs=i=>!!i&&Number.isInteger(Number(i)),sp=i=>i.endsWith("%")&&Ue(i.slice(0,-1)),Tr=i=>s4.test(i),c4=()=>!0,h4=i=>a4.test(i)&&!o4.test(i),MA=()=>!1,f4=i=>l4.test(i),d4=i=>u4.test(i),m4=i=>!me(i)&&!ge(i),g4=i=>Al(i,PA,MA),me=i=>DA.test(i),ga=i=>Al(i,LA,h4),ap=i=>Al(i,b4,Ue),UE=i=>Al(i,VA,MA),p4=i=>Al(i,kA,d4),yf=i=>Al(i,UA,f4),ge=i=>OA.test(i),ju=i=>Il(i,LA),y4=i=>Il(i,T4),jE=i=>Il(i,VA),_4=i=>Il(i,PA),v4=i=>Il(i,kA),_f=i=>Il(i,UA,!0),Al=(i,e,t)=>{const r=DA.exec(i);return r?r[1]?e(r[1]):t(r[2]):!1},Il=(i,e,t=!1)=>{const r=OA.exec(i);return r?r[1]?e(r[1]):t:!1},VA=i=>i==="position"||i==="percentage",kA=i=>i==="image"||i==="url",PA=i=>i==="length"||i==="size"||i==="bg-size",LA=i=>i==="length",b4=i=>i==="number",T4=i=>i==="family-name",UA=i=>i==="shadow",E4=()=>{const i=Bt("color"),e=Bt("font"),t=Bt("text"),r=Bt("font-weight"),a=Bt("tracking"),l=Bt("leading"),c=Bt("breakpoint"),m=Bt("container"),g=Bt("spacing"),p=Bt("radius"),b=Bt("shadow"),T=Bt("inset-shadow"),I=Bt("text-shadow"),U=Bt("drop-shadow"),Q=Bt("blur"),ee=Bt("perspective"),te=Bt("aspect"),ue=Bt("ease"),fe=Bt("animate"),ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Ee=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],be=()=>[...Ee(),ge,me],_e=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],A=()=>[ge,me,g],R=()=>[Ho,"full","auto",...A()],V=()=>[vs,"none","subgrid",ge,me],O=()=>["auto",{span:["full",vs,ge,me]},vs,ge,me],k=()=>[vs,"auto",ge,me],C=()=>["auto","min","max","fr",ge,me],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ne=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...A()],W=()=>[Ho,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],K=()=>[i,ge,me],xe=()=>[...Ee(),jE,UE,{position:[ge,me]}],Me=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",_4,g4,{size:[ge,me]}],$=()=>[sp,ju,ga],re=()=>["","none","full",p,ge,me],oe=()=>["",Ue,ju,ga],Ae=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Se=()=>[Ue,sp,jE,UE],vt=()=>["","none",Q,ge,me],Je=()=>["none",Ue,ge,me],Un=()=>["none",Ue,ge,me],wi=()=>[Ue,ge,me],ii=()=>[Ho,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Tr],breakpoint:[Tr],color:[c4],container:[Tr],"drop-shadow":[Tr],ease:["in","out","in-out"],font:[m4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Tr],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Tr],shadow:[Tr],spacing:["px",Ue],text:[Tr],"text-shadow":[Tr],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ho,me,ge,te]}],container:["container"],columns:[{columns:[Ue,me,ge,m]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:be()}],overflow:[{overflow:_e()}],"overflow-x":[{"overflow-x":_e()}],"overflow-y":[{"overflow-y":_e()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[vs,"auto",ge,me]}],basis:[{basis:[Ho,"full","auto",m,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,Ho,"auto","initial","none",me]}],grow:[{grow:["",Ue,ge,me]}],shrink:[{shrink:["",Ue,ge,me]}],order:[{order:[vs,"first","last","none",ge,me]}],"grid-cols":[{"grid-cols":V()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":V()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...ne(),"normal"]}],"justify-self":[{"justify-self":["auto",...ne()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...ne(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ne(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...ne(),"baseline"]}],"place-self":[{"place-self":["auto",...ne()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[m,"screen",...W()]}],"min-w":[{"min-w":[m,"screen","none",...W()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[c]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",t,ju,ga]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,ge,ap]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",sp,me]}],"font-family":[{font:[y4,me,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,ge,me]}],"line-clamp":[{"line-clamp":[Ue,"none",ge,ap]}],leading:[{leading:[l,...A()]}],"list-image":[{"list-image":["none",ge,me]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ge,me]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ae(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",ge,ga]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[Ue,"auto",ge,me]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge,me]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge,me]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:xe()}],"bg-repeat":[{bg:Me()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vs,ge,me],radial:["",ge,me],conic:[vs,ge,me]},v4,p4]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:$()}],"gradient-via-pos":[{via:$()}],"gradient-to-pos":[{to:$()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ae(),"hidden","none"]}],"divide-style":[{divide:[...Ae(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Ae(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,ge,me]}],"outline-w":[{outline:["",Ue,ju,ga]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",b,_f,yf]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",T,_f,yf]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[Ue,ga]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",I,_f,yf]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[Ue,ge,me]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":Se()}],"mask-image-linear-to-pos":[{"mask-linear-to":Se()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":Se()}],"mask-image-t-to-pos":[{"mask-t-to":Se()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":Se()}],"mask-image-r-to-pos":[{"mask-r-to":Se()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":Se()}],"mask-image-b-to-pos":[{"mask-b-to":Se()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":Se()}],"mask-image-l-to-pos":[{"mask-l-to":Se()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":Se()}],"mask-image-x-to-pos":[{"mask-x-to":Se()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":Se()}],"mask-image-y-to-pos":[{"mask-y-to":Se()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[ge,me]}],"mask-image-radial-from-pos":[{"mask-radial-from":Se()}],"mask-image-radial-to-pos":[{"mask-radial-to":Se()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Ee()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":Se()}],"mask-image-conic-to-pos":[{"mask-conic-to":Se()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:xe()}],"mask-repeat":[{mask:Me()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ge,me]}],filter:[{filter:["","none",ge,me]}],blur:[{blur:vt()}],brightness:[{brightness:[Ue,ge,me]}],contrast:[{contrast:[Ue,ge,me]}],"drop-shadow":[{"drop-shadow":["","none",U,_f,yf]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",Ue,ge,me]}],"hue-rotate":[{"hue-rotate":[Ue,ge,me]}],invert:[{invert:["",Ue,ge,me]}],saturate:[{saturate:[Ue,ge,me]}],sepia:[{sepia:["",Ue,ge,me]}],"backdrop-filter":[{"backdrop-filter":["","none",ge,me]}],"backdrop-blur":[{"backdrop-blur":vt()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,ge,me]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,ge,me]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,ge,me]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,ge,me]}],"backdrop-invert":[{"backdrop-invert":["",Ue,ge,me]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,ge,me]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,ge,me]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,ge,me]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ge,me]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",ge,me]}],ease:[{ease:["linear","initial",ue,ge,me]}],delay:[{delay:[Ue,ge,me]}],animate:[{animate:["none",fe,ge,me]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[ee,ge,me]}],"perspective-origin":[{"perspective-origin":be()}],rotate:[{rotate:Je()}],"rotate-x":[{"rotate-x":Je()}],"rotate-y":[{"rotate-y":Je()}],"rotate-z":[{"rotate-z":Je()}],scale:[{scale:Un()}],"scale-x":[{"scale-x":Un()}],"scale-y":[{"scale-y":Un()}],"scale-z":[{"scale-z":Un()}],"scale-3d":["scale-3d"],skew:[{skew:wi()}],"skew-x":[{"skew-x":wi()}],"skew-y":[{"skew-y":wi()}],transform:[{transform:[ge,me,"","none","gpu","cpu"]}],"transform-origin":[{origin:be()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ii()}],"translate-x":[{"translate-x":ii()}],"translate-y":[{"translate-y":ii()}],"translate-z":[{"translate-z":ii()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge,me]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge,me]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[Ue,ju,ga,ap]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},w4=n4(E4);function Gp(...i){return w4(kk(i))}const jA={active:{label:"Active",color:"bg-green-100 border-green-200",textColor:"text-green-700",icon:""},paused:{label:"Paused",color:"bg-gray-100 border-gray-200",textColor:"text-gray-700",icon:""},trial:{label:"Trial",color:"bg-blue-100 border-blue-200",textColor:"text-blue-700",icon:""},cancelled:{label:"Cancelled",color:"bg-red-100 border-red-200",textColor:"text-red-700",icon:""}},cd={entertainment:{label:"Entertainment",icon:"",color:"bg-purple-100"},productivity:{label:"Productivity",icon:"",color:"bg-blue-100"},utilities:{label:"Utilities",icon:"",color:"bg-orange-100"},health:{label:"Health",icon:"",color:"bg-red-100"},other:{label:"Other",icon:"",color:"bg-gray-100"}};function S4({onSubmit:i,user:e}){const[t,r]=Ve.useState(""),[a,l]=Ve.useState(""),[c,m]=Ve.useState("INR"),[g,p]=Ve.useState("monthly"),[b,T]=Ve.useState("active"),[I,U]=Ve.useState("other"),[Q,ee]=Ve.useState(""),[te,ue]=Ve.useState(!1),[fe,ae]=Ve.useState(!1),[Ee,be]=Ve.useState(null);Ve.useEffect(()=>{const x=localStorage.getItem("draftSubscription");if(x)try{const A=JSON.parse(x);r(A.name||""),l(A.amount?.toString()||""),m(A.currency||"INR"),p(A.cycle||"monthly"),T(A.status||"active"),U(A.category||"other"),ee(A.nextDate||"")}catch(A){console.error("Error loading cached draft:",A)}},[]),Ve.useEffect(()=>{if(!e&&(t||a||Q)){const x={name:t,amount:a?parseFloat(a):0,currency:c,cycle:g,status:b,category:I,nextDate:Q};localStorage.setItem("draftSubscription",JSON.stringify(x)),ae(!0)}},[t,a,c,g,b,I,Q,e]);const _e=async x=>{if(x.preventDefault(),be(null),!t||!a||!Q){be("All fields are required.");return}if(isNaN(parseFloat(a))||parseFloat(a)<=0){be("Amount must be a positive number.");return}if(new Date(Q)<new Date){be("Next billing date must be in the future.");return}ue(!0);try{console.log("Submitting subscription:",{name:t,amount:a,currency:c,cycle:g,status:b,category:I,nextDate:Q}),await i({name:t,amount:parseFloat(a),currency:c,cycle:g,status:b,category:I,nextDate:Q}),console.log("Subscription submitted successfully, clearing form"),r(""),l(""),m("INR"),p("monthly"),T("active"),U("other"),ee(""),ae(!1)}catch(A){console.error("Error submitting subscription:",A),be(`Error: ${A instanceof Error?A.message:"Failed to save subscription"}`)}finally{ue(!1)}};return w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[w.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Add New Subscription"}),!e&&fe&&w.jsxs("div",{className:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-lg flex items-start gap-3",children:[w.jsx("svg",{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"text-sm font-semibold text-amber-900 mb-1",children:"Sign up to save your data"}),w.jsx("p",{className:"text-xs text-amber-700",children:"Your subscription details are being saved locally. Sign in to sync across devices and never lose your data."})]})]}),w.jsxs("form",{onSubmit:_e,className:"space-y-4",children:[Ee&&w.jsx("div",{className:"text-red-600 text-sm mb-2",children:Ee}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Subscription Name"}),w.jsx("input",{type:"text",value:t,onChange:x=>r(x.target.value),placeholder:"Netflix, Spotify, etc.",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",required:!0})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Amount"}),w.jsx("input",{type:"number",value:a,onChange:x=>l(x.target.value),placeholder:"999",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",step:"0.01",min:"0",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Currency"}),w.jsxs("select",{value:c,onChange:x=>m(x.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",children:[w.jsx("option",{value:"INR",children:" INR"}),w.jsx("option",{value:"USD",children:"$ USD"}),w.jsx("option",{value:"EUR",children:" EUR"}),w.jsx("option",{value:"GBP",children:" GBP"}),w.jsx("option",{value:"AUD",children:"A$ AUD"}),w.jsx("option",{value:"CAD",children:"C$ CAD"})]})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Billing Cycle"}),w.jsxs("select",{value:g,onChange:x=>p(x.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",children:[w.jsx("option",{value:"monthly",children:"Monthly"}),w.jsx("option",{value:"quarterly",children:"Quarterly"}),w.jsx("option",{value:"yearly",children:"Yearly"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),w.jsxs("select",{value:b,onChange:x=>T(x.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",children:[w.jsx("option",{value:"active",children:"Active"}),w.jsx("option",{value:"trial",children:"Trial"}),w.jsx("option",{value:"paused",children:"Paused"})]})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),w.jsx("select",{value:I,onChange:x=>U(x.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",children:Object.entries(cd).map(([x,A])=>w.jsxs("option",{value:x,children:[A.icon," ",A.label]},x))})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Next Billing Date"}),w.jsx("input",{type:"date",value:Q,onChange:x=>ee(x.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",required:!0})]}),w.jsx("button",{type:"submit",disabled:te,className:Gp("w-full py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",te?"bg-indigo-300 cursor-not-allowed":e?"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2":"bg-gradient-to-r from-amber-500 to-orange-500 text-white hover:from-amber-600 hover:to-orange-600 shadow-lg hover:shadow-xl transform hover:scale-105"),children:te?"Adding...":e?"Add Subscription":w.jsxs(w.Fragment,{children:[w.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Sign up to save data"]})})]})]})}const zA=6048e5,A4=864e5,BA=6e4,FA=36e5,zE=Symbol.for("constructDateFrom");function Or(i,e){return typeof i=="function"?i(e):i&&typeof i=="object"&&zE in i?i[zE](e):i instanceof Date?new i.constructor(e):new Date(e)}function Ln(i,e){return Or(e||i,i)}let I4={};function Ld(){return I4}function vc(i,e){const t=Ld(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=Ln(i,e?.in),l=a.getDay(),c=(l<r?7:0)+l-r;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function hd(i,e){return vc(i,{...e,weekStartsOn:1})}function qA(i,e){const t=Ln(i,e?.in),r=t.getFullYear(),a=Or(t,0);a.setFullYear(r+1,0,4),a.setHours(0,0,0,0);const l=hd(a),c=Or(t,0);c.setFullYear(r,0,4),c.setHours(0,0,0,0);const m=hd(c);return t.getTime()>=l.getTime()?r+1:t.getTime()>=m.getTime()?r:r-1}function BE(i){const e=Ln(i),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+i-+t}function HA(i,...e){const t=Or.bind(null,e.find(r=>typeof r=="object"));return e.map(t)}function FE(i,e){const t=Ln(i,e?.in);return t.setHours(0,0,0,0),t}function GA(i,e,t){const[r,a]=HA(t?.in,i,e),l=FE(r),c=FE(a),m=+l-BE(l),g=+c-BE(c);return Math.round((m-g)/A4)}function x4(i,e){const t=qA(i,e),r=Or(i,0);return r.setFullYear(t,0,4),r.setHours(0,0,0,0),hd(r)}function R4(i){return i instanceof Date||typeof i=="object"&&Object.prototype.toString.call(i)==="[object Date]"}function C4(i){return!(!R4(i)&&typeof i!="number"||isNaN(+Ln(i)))}function Oa(i,e,t){const[r,a]=HA(t?.in,i,e),l=qE(r,a),c=Math.abs(GA(r,a));r.setDate(r.getDate()-l*c);const m=+(qE(r,a)===-l),g=l*(c-m);return g===0?0:g}function qE(i,e){const t=i.getFullYear()-e.getFullYear()||i.getMonth()-e.getMonth()||i.getDate()-e.getDate()||i.getHours()-e.getHours()||i.getMinutes()-e.getMinutes()||i.getSeconds()-e.getSeconds()||i.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function N4(i,e){const t=Ln(i,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const D4={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},O4=(i,e,t)=>{let r;const a=D4[i];return typeof a=="string"?r=a:e===1?r=a.one:r=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+r:r+" ago":r};function op(i){return(e={})=>{const t=e.width?String(e.width):i.defaultWidth;return i.formats[t]||i.formats[i.defaultWidth]}}const M4={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},V4={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},k4={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},P4={date:op({formats:M4,defaultWidth:"full"}),time:op({formats:V4,defaultWidth:"full"}),dateTime:op({formats:k4,defaultWidth:"full"})},L4={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},U4=(i,e,t,r)=>L4[i];function zu(i){return(e,t)=>{const r=t?.context?String(t.context):"standalone";let a;if(r==="formatting"&&i.formattingValues){const c=i.defaultFormattingWidth||i.defaultWidth,m=t?.width?String(t.width):c;a=i.formattingValues[m]||i.formattingValues[c]}else{const c=i.defaultWidth,m=t?.width?String(t.width):i.defaultWidth;a=i.values[m]||i.values[c]}const l=i.argumentCallback?i.argumentCallback(e):e;return a[l]}}const j4={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},z4={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},B4={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},F4={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},q4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},H4={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},G4=(i,e)=>{const t=Number(i),r=t%100;if(r>20||r<10)switch(r%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},K4={ordinalNumber:G4,era:zu({values:j4,defaultWidth:"wide"}),quarter:zu({values:z4,defaultWidth:"wide",argumentCallback:i=>i-1}),month:zu({values:B4,defaultWidth:"wide"}),day:zu({values:F4,defaultWidth:"wide"}),dayPeriod:zu({values:q4,defaultWidth:"wide",formattingValues:H4,defaultFormattingWidth:"wide"})};function Bu(i){return(e,t={})=>{const r=t.width,a=r&&i.matchPatterns[r]||i.matchPatterns[i.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],m=r&&i.parsePatterns[r]||i.parsePatterns[i.defaultParseWidth],g=Array.isArray(m)?Q4(m,T=>T.test(c)):Y4(m,T=>T.test(c));let p;p=i.valueCallback?i.valueCallback(g):g,p=t.valueCallback?t.valueCallback(p):p;const b=e.slice(c.length);return{value:p,rest:b}}}function Y4(i,e){for(const t in i)if(Object.prototype.hasOwnProperty.call(i,t)&&e(i[t]))return t}function Q4(i,e){for(let t=0;t<i.length;t++)if(e(i[t]))return t}function X4(i){return(e,t={})=>{const r=e.match(i.matchPattern);if(!r)return null;const a=r[0],l=e.match(i.parsePattern);if(!l)return null;let c=i.valueCallback?i.valueCallback(l[0]):l[0];c=t.valueCallback?t.valueCallback(c):c;const m=e.slice(a.length);return{value:c,rest:m}}}const $4=/^(\d+)(th|st|nd|rd)?/i,W4=/\d+/i,J4={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Z4={any:[/^b/i,/^(a|c)/i]},e3={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},t3={any:[/1/i,/2/i,/3/i,/4/i]},n3={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},i3={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},r3={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},s3={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},a3={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},o3={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},l3={ordinalNumber:X4({matchPattern:$4,parsePattern:W4,valueCallback:i=>parseInt(i,10)}),era:Bu({matchPatterns:J4,defaultMatchWidth:"wide",parsePatterns:Z4,defaultParseWidth:"any"}),quarter:Bu({matchPatterns:e3,defaultMatchWidth:"wide",parsePatterns:t3,defaultParseWidth:"any",valueCallback:i=>i+1}),month:Bu({matchPatterns:n3,defaultMatchWidth:"wide",parsePatterns:i3,defaultParseWidth:"any"}),day:Bu({matchPatterns:r3,defaultMatchWidth:"wide",parsePatterns:s3,defaultParseWidth:"any"}),dayPeriod:Bu({matchPatterns:a3,defaultMatchWidth:"any",parsePatterns:o3,defaultParseWidth:"any"})},u3={code:"en-US",formatDistance:O4,formatLong:P4,formatRelative:U4,localize:K4,match:l3,options:{weekStartsOn:0,firstWeekContainsDate:1}};function c3(i,e){const t=Ln(i,e?.in);return GA(t,N4(t))+1}function h3(i,e){const t=Ln(i,e?.in),r=+hd(t)-+x4(t);return Math.round(r/zA)+1}function KA(i,e){const t=Ln(i,e?.in),r=t.getFullYear(),a=Ld(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Or(e?.in||i,0);c.setFullYear(r+1,0,l),c.setHours(0,0,0,0);const m=vc(c,e),g=Or(e?.in||i,0);g.setFullYear(r,0,l),g.setHours(0,0,0,0);const p=vc(g,e);return+t>=+m?r+1:+t>=+p?r:r-1}function f3(i,e){const t=Ld(),r=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=KA(i,e),l=Or(e?.in||i,0);return l.setFullYear(a,0,r),l.setHours(0,0,0,0),vc(l,e)}function d3(i,e){const t=Ln(i,e?.in),r=+vc(t,e)-+f3(t,e);return Math.round(r/zA)+1}function nt(i,e){const t=i<0?"-":"",r=Math.abs(i).toString().padStart(e,"0");return t+r}const bs={y(i,e){const t=i.getFullYear(),r=t>0?t:1-t;return nt(e==="yy"?r%100:r,e.length)},M(i,e){const t=i.getMonth();return e==="M"?String(t+1):nt(t+1,2)},d(i,e){return nt(i.getDate(),e.length)},a(i,e){const t=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(i,e){return nt(i.getHours()%12||12,e.length)},H(i,e){return nt(i.getHours(),e.length)},m(i,e){return nt(i.getMinutes(),e.length)},s(i,e){return nt(i.getSeconds(),e.length)},S(i,e){const t=e.length,r=i.getMilliseconds(),a=Math.trunc(r*Math.pow(10,t-3));return nt(a,e.length)}},Go={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},HE={G:function(i,e,t){const r=i.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(r,{width:"abbreviated"});case"GGGGG":return t.era(r,{width:"narrow"});case"GGGG":default:return t.era(r,{width:"wide"})}},y:function(i,e,t){if(e==="yo"){const r=i.getFullYear(),a=r>0?r:1-r;return t.ordinalNumber(a,{unit:"year"})}return bs.y(i,e)},Y:function(i,e,t,r){const a=KA(i,r),l=a>0?a:1-a;if(e==="YY"){const c=l%100;return nt(c,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):nt(l,e.length)},R:function(i,e){const t=qA(i);return nt(t,e.length)},u:function(i,e){const t=i.getFullYear();return nt(t,e.length)},Q:function(i,e,t){const r=Math.ceil((i.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return nt(r,2);case"Qo":return t.ordinalNumber(r,{unit:"quarter"});case"QQQ":return t.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(r,{width:"wide",context:"formatting"})}},q:function(i,e,t){const r=Math.ceil((i.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return nt(r,2);case"qo":return t.ordinalNumber(r,{unit:"quarter"});case"qqq":return t.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(r,{width:"wide",context:"standalone"})}},M:function(i,e,t){const r=i.getMonth();switch(e){case"M":case"MM":return bs.M(i,e);case"Mo":return t.ordinalNumber(r+1,{unit:"month"});case"MMM":return t.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(r,{width:"wide",context:"formatting"})}},L:function(i,e,t){const r=i.getMonth();switch(e){case"L":return String(r+1);case"LL":return nt(r+1,2);case"Lo":return t.ordinalNumber(r+1,{unit:"month"});case"LLL":return t.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(r,{width:"wide",context:"standalone"})}},w:function(i,e,t,r){const a=d3(i,r);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):nt(a,e.length)},I:function(i,e,t){const r=h3(i);return e==="Io"?t.ordinalNumber(r,{unit:"week"}):nt(r,e.length)},d:function(i,e,t){return e==="do"?t.ordinalNumber(i.getDate(),{unit:"date"}):bs.d(i,e)},D:function(i,e,t){const r=c3(i);return e==="Do"?t.ordinalNumber(r,{unit:"dayOfYear"}):nt(r,e.length)},E:function(i,e,t){const r=i.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(r,{width:"short",context:"formatting"});case"EEEE":default:return t.day(r,{width:"wide",context:"formatting"})}},e:function(i,e,t,r){const a=i.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return nt(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(i,e,t,r){const a=i.getDay(),l=(a-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return nt(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(i,e,t){const r=i.getDay(),a=r===0?7:r;switch(e){case"i":return String(a);case"ii":return nt(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(r,{width:"short",context:"formatting"});case"iiii":default:return t.day(r,{width:"wide",context:"formatting"})}},a:function(i,e,t){const a=i.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(i,e,t){const r=i.getHours();let a;switch(r===12?a=Go.noon:r===0?a=Go.midnight:a=r/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(i,e,t){const r=i.getHours();let a;switch(r>=17?a=Go.evening:r>=12?a=Go.afternoon:r>=4?a=Go.morning:a=Go.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(i,e,t){if(e==="ho"){let r=i.getHours()%12;return r===0&&(r=12),t.ordinalNumber(r,{unit:"hour"})}return bs.h(i,e)},H:function(i,e,t){return e==="Ho"?t.ordinalNumber(i.getHours(),{unit:"hour"}):bs.H(i,e)},K:function(i,e,t){const r=i.getHours()%12;return e==="Ko"?t.ordinalNumber(r,{unit:"hour"}):nt(r,e.length)},k:function(i,e,t){let r=i.getHours();return r===0&&(r=24),e==="ko"?t.ordinalNumber(r,{unit:"hour"}):nt(r,e.length)},m:function(i,e,t){return e==="mo"?t.ordinalNumber(i.getMinutes(),{unit:"minute"}):bs.m(i,e)},s:function(i,e,t){return e==="so"?t.ordinalNumber(i.getSeconds(),{unit:"second"}):bs.s(i,e)},S:function(i,e){return bs.S(i,e)},X:function(i,e,t){const r=i.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return KE(r);case"XXXX":case"XX":return va(r);case"XXXXX":case"XXX":default:return va(r,":")}},x:function(i,e,t){const r=i.getTimezoneOffset();switch(e){case"x":return KE(r);case"xxxx":case"xx":return va(r);case"xxxxx":case"xxx":default:return va(r,":")}},O:function(i,e,t){const r=i.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+GE(r,":");case"OOOO":default:return"GMT"+va(r,":")}},z:function(i,e,t){const r=i.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+GE(r,":");case"zzzz":default:return"GMT"+va(r,":")}},t:function(i,e,t){const r=Math.trunc(+i/1e3);return nt(r,e.length)},T:function(i,e,t){return nt(+i,e.length)}};function GE(i,e=""){const t=i>0?"-":"+",r=Math.abs(i),a=Math.trunc(r/60),l=r%60;return l===0?t+String(a):t+String(a)+e+nt(l,2)}function KE(i,e){return i%60===0?(i>0?"-":"+")+nt(Math.abs(i)/60,2):va(i,e)}function va(i,e=""){const t=i>0?"-":"+",r=Math.abs(i),a=nt(Math.trunc(r/60),2),l=nt(r%60,2);return t+a+e+l}const YE=(i,e)=>{switch(i){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},YA=(i,e)=>{switch(i){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},m3=(i,e)=>{const t=i.match(/(P+)(p+)?/)||[],r=t[1],a=t[2];if(!a)return YE(i,e);let l;switch(r){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",YE(r,e)).replace("{{time}}",YA(a,e))},g3={p:YA,P:m3},p3=/^D+$/,y3=/^Y+$/,_3=["D","DD","YY","YYYY"];function v3(i){return p3.test(i)}function b3(i){return y3.test(i)}function T3(i,e,t){const r=E3(i,e,t);if(console.warn(r),_3.includes(i))throw new RangeError(r)}function E3(i,e,t){const r=i[0]==="Y"?"years":"days of the month";return`Use \`${i.toLowerCase()}\` instead of \`${i}\` (in \`${e}\`) for formatting ${r} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const w3=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,S3=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,A3=/^'([^]*?)'?$/,I3=/''/g,x3=/[a-zA-Z]/;function R3(i,e,t){const r=Ld(),a=r.locale??u3,l=r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,c=r.weekStartsOn??r.locale?.options?.weekStartsOn??0,m=Ln(i,t?.in);if(!C4(m))throw new RangeError("Invalid time value");let g=e.match(S3).map(b=>{const T=b[0];if(T==="p"||T==="P"){const I=g3[T];return I(b,a.formatLong)}return b}).join("").match(w3).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const T=b[0];if(T==="'")return{isToken:!1,value:C3(b)};if(HE[T])return{isToken:!0,value:b};if(T.match(x3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(g=a.localize.preprocessor(m,g));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return g.map(b=>{if(!b.isToken)return b.value;const T=b.value;(b3(T)||v3(T))&&T3(T,e,String(i));const I=HE[T[0]];return I(m,T,a.localize,p)}).join("")}function C3(i){const e=i.match(A3);return e?e[1].replace(I3,"'"):i}function Ma(i,e){const t=()=>Or(e?.in,NaN),a=M3(i);let l;if(a.date){const p=V3(a.date,2);l=k3(p.restDateString,p.year)}if(!l||isNaN(+l))return t();const c=+l;let m=0,g;if(a.time&&(m=P3(a.time),isNaN(m)))return t();if(a.timezone){if(g=L3(a.timezone),isNaN(g))return t()}else{const p=new Date(c+m),b=Ln(0,e?.in);return b.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),b.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),b}return Ln(c+m+g,e?.in)}const vf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},N3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,D3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,O3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function M3(i){const e={},t=i.split(vf.dateTimeDelimiter);let r;if(t.length>2)return e;if(/:/.test(t[0])?r=t[0]:(e.date=t[0],r=t[1],vf.timeZoneDelimiter.test(e.date)&&(e.date=i.split(vf.timeZoneDelimiter)[0],r=i.substr(e.date.length,i.length))),r){const a=vf.timezone.exec(r);a?(e.time=r.replace(a[1],""),e.timezone=a[1]):e.time=r}return e}function V3(i,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=i.match(t);if(!r)return{year:NaN,restDateString:""};const a=r[1]?parseInt(r[1]):null,l=r[2]?parseInt(r[2]):null;return{year:l===null?a:l*100,restDateString:i.slice((r[1]||r[2]).length)}}function k3(i,e){if(e===null)return new Date(NaN);const t=i.match(N3);if(!t)return new Date(NaN);const r=!!t[4],a=Fu(t[1]),l=Fu(t[2])-1,c=Fu(t[3]),m=Fu(t[4]),g=Fu(t[5])-1;if(r)return F3(e,m,g)?U3(e,m,g):new Date(NaN);{const p=new Date(0);return!z3(e,l,c)||!B3(e,a)?new Date(NaN):(p.setUTCFullYear(e,l,Math.max(a,c)),p)}}function Fu(i){return i?parseInt(i):1}function P3(i){const e=i.match(D3);if(!e)return NaN;const t=lp(e[1]),r=lp(e[2]),a=lp(e[3]);return q3(t,r,a)?t*FA+r*BA+a*1e3:NaN}function lp(i){return i&&parseFloat(i.replace(",","."))||0}function L3(i){if(i==="Z")return 0;const e=i.match(O3);if(!e)return 0;const t=e[1]==="+"?-1:1,r=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return H3(r,a)?t*(r*FA+a*BA):NaN}function U3(i,e,t){const r=new Date(0);r.setUTCFullYear(i,0,4);const a=r.getUTCDay()||7,l=(e-1)*7+t+1-a;return r.setUTCDate(r.getUTCDate()+l),r}const j3=[31,null,31,30,31,30,31,31,30,31,30,31];function QA(i){return i%400===0||i%4===0&&i%100!==0}function z3(i,e,t){return e>=0&&e<=11&&t>=1&&t<=(j3[e]||(QA(i)?29:28))}function B3(i,e){return e>=1&&e<=(QA(i)?366:365)}function F3(i,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function q3(i,e,t){return i===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&i>=0&&i<25}function H3(i,e){return e>=0&&e<=59}const G3={INR:"",USD:"$",EUR:"",GBP:"",AUD:"A$",CAD:"C$"};function XA(i,e="INR"){const t=G3[e]||e;return e==="INR"?`${t} ${i.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`:`${t} ${i.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function K3({subscription:i,onDelete:e,onPause:t,onResume:r,onMarkAsPaid:a}){const[l,c]=Ve.useState(!1),[m,g]=Ve.useState(!1),[p,b]=Ve.useState(i.amount.toString()),[T,I]=Ve.useState(new Date().toISOString().split("T")[0]),U=Ma(i.nextDate),Q=Oa(U,new Date),ee=cd[i.category]||cd.other,te=i.status?jA[i.status]:null,ue=()=>i.status==="paused"?"bg-gray-100 border-gray-200":i.status==="trial"?"bg-blue-100 border-blue-200":i.status==="cancelled"||Q<=0?"bg-red-100 border-red-200":Q<=7?"bg-amber-100 border-amber-200":"bg-green-50 border-green-200",fe=()=>i.status==="paused"?"Paused":i.status==="trial"?"Trial":i.status==="cancelled"?"Cancelled":Q<=0?"Overdue":Q===1?"Tomorrow":Q<=7?`In ${Q} days`:`In ${Q} days`;return w.jsxs("div",{className:Gp("bg-white rounded-xl border p-4 shadow-sm hover:shadow-md transition-shadow",ue()),children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[w.jsx("span",{className:"text-xl",children:ee.icon}),w.jsx("h3",{className:"font-semibold text-slate-900",children:i.name}),w.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-slate-100 text-slate-700",children:i.cycle}),te&&w.jsx("span",{className:Gp("px-2 py-1 text-xs rounded-full",te.color,te.textColor),children:te.label})]}),w.jsx("p",{className:"text-xs text-slate-500",children:ee.label}),w.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:XA(i.amount,i.currency||"INR")}),w.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[w.jsx("span",{className:"text-slate-500",children:"Next:"}),w.jsx("span",{className:"font-medium",children:R3(U,"dd MMM yyyy")}),w.jsxs("span",{className:"text-slate-500",children:["(",fe(),")"]})]})]}),w.jsx("button",{onClick:()=>g(!0),className:"p-2 text-slate-400 hover:text-red-500 transition-colors","aria-label":"Delete subscription",children:w.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),w.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-slate-200",children:[i.status==="active"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>c(!0),className:"flex-1 px-3 py-2 text-sm bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors font-medium",children:" Mark as Paid"}),t&&w.jsx("button",{onClick:()=>t(i.id),className:"flex-1 px-3 py-2 text-sm bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200 transition-colors font-medium",children:" Pause"})]}),i.status==="paused"&&r&&w.jsx("button",{onClick:()=>r(i.id),className:"flex-1 px-3 py-2 text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors font-medium",children:" Resume"})]}),l&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:w.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full mx-4",children:[w.jsxs("h2",{className:"text-lg font-semibold mb-4",children:[i.name," - Mark as Paid"]}),w.jsxs("div",{className:"space-y-4 mb-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Amount"}),w.jsx("input",{type:"number",value:p,onChange:ae=>b(ae.target.value),step:"0.01",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Payment Date"}),w.jsx("input",{type:"date",value:T,onChange:ae=>I(ae.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),w.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-sm text-green-800",children:" Next billing date will be auto-updated based on billing cycle"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>{a&&a({...i,amount:parseFloat(p),lastPaidDate:T}),c(!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:"Confirm Payment"}),w.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 bg-slate-200 text-slate-900 rounded-lg hover:bg-slate-300 font-medium",children:"Cancel"})]})]})}),m&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:w.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full mx-4",children:[w.jsx("h2",{className:"text-lg font-semibold mb-2 text-red-600",children:"Delete Subscription?"}),w.jsxs("p",{className:"text-slate-600 mb-6",children:["Are you sure you want to delete ",w.jsx("strong",{children:i.name}),"? This action cannot be undone."]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>{e(i.id),g(!1)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium",children:" Confirm Delete"}),w.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 bg-slate-200 text-slate-900 rounded-lg hover:bg-slate-300 font-medium",children:" Cancel"})]})]})})]})}function Y3({subscriptions:i}){const e=i.reduce((a,l)=>l.cycle==="monthly"?a+l.amount:l.cycle==="quarterly"?a+l.amount/3:l.cycle==="yearly"?a+l.amount/12:a,0),t=i.filter(a=>Oa(Ma(a.nextDate),new Date)<=7&&Oa(Ma(a.nextDate),new Date)>=0).length,r=i.filter(a=>Oa(Ma(a.nextDate),new Date)<0).length;return w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[w.jsx("div",{className:"text-sm font-medium text-slate-500 mb-1",children:"Monthly Estimate"}),w.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:XA(e,"INR")}),w.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[i.length," active"]})]}),w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[w.jsx("div",{className:"text-sm font-medium text-slate-500 mb-1",children:"Upcoming (7 days)"}),w.jsx("div",{className:"text-3xl font-bold text-amber-600",children:t})]}),w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[w.jsx("div",{className:"text-sm font-medium text-slate-500 mb-1",children:"Overdue"}),w.jsx("div",{className:"text-3xl font-bold text-red-600",children:r})]})]})}function Q3({subscriptions:i}){const e=()=>{const t=["Name","Amount","Currency","Cycle","Next Date","Status","Category"],r=i.map(g=>[g.name,g.amount,g.currency,g.cycle,g.nextDate,g.status,g.category]),a=[t.join(","),...r.map(g=>g.join(","))].join(`
`),l=new Blob([a],{type:"text/csv"}),c=URL.createObjectURL(l),m=document.createElement("a");m.href=c,m.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,m.click(),URL.revokeObjectURL(c)};return w.jsx("div",{className:"flex gap-2",children:w.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:" Export CSV"})})}function X3({onQuickAdd:i}){const[e,t]=Ve.useState(!1),[r,a]=Ve.useState(""),[l,c]=Ve.useState(""),m=g=>{g.preventDefault(),!(!r||!l)&&(i(r,parseFloat(l)),a(""),c(""),t(!1))};return w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 text-2xl z-50",children:"+"}),e&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center bg-black bg-opacity-40",children:w.jsxs("div",{className:"bg-white rounded-t-2xl md:rounded-lg shadow-lg p-6 w-full md:max-w-md",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-lg font-semibold",children:"Quick Add"}),w.jsx("button",{onClick:()=>t(!1),className:"text-slate-400 hover:text-slate-600 text-2xl",children:""})]}),w.jsxs("form",{onSubmit:m,className:"space-y-4",children:[w.jsx("input",{type:"text",placeholder:"Netflix",value:r,onChange:g=>a(g.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg text-lg",autoFocus:!0}),w.jsx("input",{type:"number",placeholder:"599",value:l,onChange:g=>c(g.target.value),step:"0.01",className:"w-full px-4 py-3 border border-slate-300 rounded-lg text-lg"}),w.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-semibold text-lg",children:"Add Quick "}),w.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Full details can be added later"})]})]})})]})}function $3({onFilterChange:i}){const[e,t]=Ve.useState(""),[r,a]=Ve.useState("all"),[l,c]=Ve.useState("all"),m=b=>{t(b),i({search:b,category:r,status:l})},g=b=>{a(b),i({search:e,category:b,status:l})},p=b=>{c(b),i({search:e,category:r,status:b})};return w.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-4 mb-4",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Search"}),w.jsx("input",{type:"text",placeholder:"Search subscriptions...",value:e,onChange:b=>m(b.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),w.jsxs("select",{value:r,onChange:b=>g(b.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[w.jsx("option",{value:"all",children:"All Categories"}),Object.entries(cd).map(([b,T])=>w.jsxs("option",{value:b,children:[T.icon," ",T.label]},b))]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),w.jsxs("select",{value:l,onChange:b=>p(b.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[w.jsx("option",{value:"all",children:"All Statuses"}),Object.entries(jA).map(([b,T])=>w.jsxs("option",{value:b,children:[T.icon," ",T.label]},b))]})]})]})})}function W3(i,e){const[t,r]=Ve.useState(()=>{if(typeof window>"u")return e;try{const l=window.localStorage.getItem(i);return l?JSON.parse(l):e}catch(l){return console.error(l),e}});return[t,l=>{try{const c=l instanceof Function?l(t):l;r(c),typeof window<"u"&&window.localStorage.setItem(i,JSON.stringify(c))}catch(c){console.error(c)}}]}function J3(){const[i,e]=W3("notificationsEnabled",!1),[t,r]=Ve.useState("default");Ve.useEffect(()=>{"Notification"in window&&r(Notification.permission)},[]);const a=async()=>{if(!("Notification"in window)){alert("Notifications are not supported by your browser");return}if(t==="granted")e(!1);else{const l=await Notification.requestPermission();r(l),l==="granted"&&e(!0)}};return w.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-3 md:p-6 w-full max-w-xs md:max-w-md",children:w.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[w.jsxs("div",{className:"flex flex-col text-left",children:[w.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Notifications"}),w.jsx("span",{className:"text-xs text-slate-500",children:"Reminders for subscriptions"})]}),w.jsx("button",{onClick:a,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors duration-200 ease-in-out ${i?"bg-indigo-600":"bg-slate-300"}`,"aria-label":i?"Disable notifications":"Enable notifications",children:w.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform duration-200 ease-in-out ${i?"translate-x-7":"translate-x-1"}`})})]})})}function Z3({user:i,onLogout:e,onSignupClick:t,isOnline:r=!0,pendingSync:a=!1}){return w.jsx("header",{className:"mb-8 bg-white rounded-2xl shadow-sm border border-slate-200 px-6 py-5",children:w.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:w.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-slate-900 leading-tight",children:"Subscription Tracker"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"Manage all your subscriptions in one place"}),!r&&w.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-amber-100 text-amber-800 text-xs font-medium rounded-full",children:[w.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:w.jsx("path",{fillRule:"evenodd",d:"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z",clipRule:"evenodd"})}),"Offline"]}),a&&w.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full animate-pulse",children:[w.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Syncing..."]})]})]})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(J3,{}),i?w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("div",{className:"hidden sm:flex items-center gap-3 px-4 py-2 bg-slate-50 rounded-lg border border-slate-200",children:[w.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:i.email?.[0]?.toUpperCase()||"U"}),w.jsxs("div",{className:"text-sm",children:[w.jsx("p",{className:"font-medium text-slate-900 leading-tight",children:i.displayName||"User"}),w.jsx("p",{className:"text-xs text-slate-500 truncate max-w-32",children:i.email})]})]}),w.jsxs("button",{onClick:e,className:"px-4 py-2.5 bg-slate-100 hover:bg-red-50 text-slate-700 hover:text-red-600 rounded-lg text-sm font-medium transition-all duration-200 border border-slate-200 hover:border-red-300",children:[w.jsx("span",{className:"hidden sm:inline",children:"Logout"}),w.jsx("svg",{className:"w-5 h-5 sm:hidden",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})]})]}):w.jsx("div",{className:"flex items-center gap-3",children:w.jsxs("button",{onClick:t,className:"group relative px-6 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-semibold text-sm shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 overflow-hidden",children:[w.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[w.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Sign In"]}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-indigo-600 opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})})]})]})})}function eP(){return w.jsxs("footer",{className:"mt-12 border-t border-slate-200 pt-6 text-center text-xs text-slate-500",children:[w.jsxs("div",{children:[" ",new Date().getFullYear()," Subscription Tracker. All rights reserved."]}),w.jsxs("div",{className:"mt-2",children:[w.jsx("a",{href:"/privacy-policy.html",className:"hover:underline mr-4",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),w.jsx("a",{href:"/terms-and-conditions.html",className:"hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Terms & Conditions"})]})]})}function tP({onEnable:i,onDismiss:e}){return w.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:[w.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm",onClick:e}),w.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 animate-in zoom-in-95 duration-200",children:[w.jsx("div",{className:"flex justify-center mb-6",children:w.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:w.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Subscription Added! "}),w.jsx("p",{className:"text-slate-600 mb-4",children:"Enable notifications to get payment reminders before each billing date."}),w.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 text-left",children:w.jsxs("div",{className:"flex gap-3",children:[w.jsx("svg",{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),w.jsxs("div",{className:"text-sm",children:[w.jsx("p",{className:"font-semibold text-blue-900 mb-1",children:"Never Miss a Payment"}),w.jsx("p",{className:"text-blue-700",children:"Get notified 1 day before and on the day of your subscription billing dates."})]})]})})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 rounded-lg font-medium text-slate-700 bg-slate-100 hover:bg-slate-200 transition-colors",children:"Maybe Later"}),w.jsxs("button",{onClick:i,className:"flex-1 px-4 py-3 rounded-lg font-medium text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-lg flex items-center justify-center gap-2",children:[w.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Enable Notifications"]})]}),w.jsx("p",{className:"text-xs text-slate-500 text-center mt-4",children:"You can enable/disable notifications anytime in settings"})]})]})}function nP({onSignupClick:i}){const e=[{icon:"",title:"Multi-currency Support",desc:"Track subscriptions in INR, USD, EUR, GBP, AUD, CAD"},{icon:"",title:"Smart Reminders",desc:"Never miss a payment with automatic notifications"},{icon:"",title:"Easy Export",desc:"CSV and JSON export for budgeting & taxes"},{icon:"",title:"Category Tracking",desc:"Organize subscriptions by category & track spending"},{icon:"",title:"Trial Monitoring",desc:"Track trial periods with countdown timers"},{icon:"",title:"Secure & Private",desc:"Google authentication, zero data selling"},{icon:"",title:"Real-time Sync",desc:"Seamless sync across all your devices"},{icon:"",title:"Offline Access",desc:"Access your data even without internet"}];return w.jsxs("div",{className:"flex-1 flex flex-col",children:[w.jsx("section",{className:"py-12 md:py-20 px-4 text-center",children:w.jsxs("div",{className:"max-w-3xl mx-auto",children:[w.jsx("div",{className:"inline-block mb-4",children:w.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:w.jsx("svg",{className:"w-11 h-11 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),w.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-6",children:"Never Miss a Payment Again"}),w.jsx("p",{className:"text-lg md:text-xl text-slate-600 mb-8 leading-relaxed",children:"Manage all your subscriptions, bills, and recurring payments in one secure place. Track, organize, and save money effortlessly."}),w.jsx("button",{onClick:i,className:"inline-block px-8 py-4 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition-colors shadow-lg hover:shadow-xl",children:"Get Started Free"}),w.jsx("p",{className:"text-sm text-slate-500 mt-4",children:"No credit card required  Takes 30 seconds"})]})}),w.jsx("section",{className:"py-12 md:py-16 px-4 bg-slate-50",children:w.jsxs("div",{className:"max-w-3xl mx-auto",children:[w.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6 text-center",children:"Why Use Subscription Tracker?"}),w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-8 space-y-4",children:[w.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Managing multiple subscriptions and recurring payments can be overwhelming. With the rise of streaming services like Netflix, Spotify, and Amazon Prime, as well as SaaS tools and utility bills, it's easy to lose track of what you're paying for each month."}),w.jsxs("p",{className:"text-slate-700 leading-relaxed",children:[w.jsx("strong",{children:"Subscription Tracker"})," is a free, easy-to-use app designed to help you organize, monitor, and optimize all your subscriptions in one place."]}),w.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Track bills in multiple currencies, set up automatic payment reminders, and export your data for budgeting or tax purposes. Whether you're managing personal expenses or business SaaS subscriptions, Subscription Tracker ensures you never miss an auto-debit date or pay for services you no longer use."})]})]})}),w.jsx("section",{className:"py-12 md:py-16 px-4",children:w.jsxs("div",{className:"max-w-5xl mx-auto",children:[w.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-12 text-center",children:"Powerful Features"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,r)=>w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[w.jsx("div",{className:"text-4xl mb-3",children:t.icon}),w.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:t.title}),w.jsx("p",{className:"text-slate-600",children:t.desc})]},r))})]})}),w.jsx("section",{className:"py-12 md:py-16 px-4 bg-gradient-to-r from-indigo-50 to-purple-50",children:w.jsxs("div",{className:"max-w-3xl mx-auto",children:[w.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-8 text-center",children:"Start Taking Control Today"}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"text-2xl",children:""}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Never Miss a Payment"}),w.jsx("p",{className:"text-slate-600",children:"Get automatic reminders before each payment is due"})]})]}),w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"text-2xl",children:""}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Identify Unused Services"}),w.jsx("p",{className:"text-slate-600",children:"Easily spot subscriptions you forgot about and cancel them"})]})]}),w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"text-2xl",children:""}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Save Money"}),w.jsx("p",{className:"text-slate-600",children:"Track spending by category and find opportunities to save"})]})]}),w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"text-2xl",children:""}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Complete Visibility"}),w.jsx("p",{className:"text-slate-600",children:"See all your recurring expenses at a glance, anytime, anywhere"})]})]})]})]})}),w.jsx("section",{className:"py-12 md:py-16 px-4",children:w.jsxs("div",{className:"max-w-2xl mx-auto text-center bg-white rounded-xl shadow-sm border border-slate-200 p-8",children:[w.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Free Forever. No Hidden Fees."}),w.jsxs("p",{className:"text-slate-600 mb-8",children:[w.jsx("strong",{children:"Subscription Tracker"})," is your all-in-one solution for subscription management, bill tracking, and payment reminders. Start tracking your subscriptions today and take control of your finances."]}),w.jsx("button",{onClick:i,className:"inline-block px-8 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors",children:"Start Tracking Now "}),w.jsxs("p",{className:"text-xs text-slate-500 mt-4",children:["References: ",w.jsx("a",{href:"https://en.wikipedia.org/wiki/Subscription_business_model",target:"_blank",rel:"noopener nofollow",className:"text-indigo-600 hover:underline",children:"Subscription Business Model (Wikipedia)"})]})]})})]})}function iP({onClose:i}){const[e,t]=Ve.useState(!1),r=async()=>{t(!0);try{const a=new Er;await WN(qp,a),i()}catch(a){console.error("Sign in error:",a)}finally{t(!1)}};return w.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:[w.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm",onClick:i}),w.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 animate-in zoom-in-95 duration-200",children:[w.jsx("button",{onClick:i,className:"absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors text-slate-400 hover:text-slate-600",children:w.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),w.jsxs("div",{className:"flex flex-col items-center mb-8",children:[w.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg mb-4",children:w.jsx("svg",{className:"w-9 h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),w.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2 text-center",children:"Welcome Back"}),w.jsx("p",{className:"text-slate-600 text-center mb-1",children:"Sign in to manage your subscriptions"}),w.jsx("p",{className:"text-sm text-slate-500 text-center max-w-sm",children:"Track all your recurring payments in one secure place. Free and always private."})]}),w.jsxs("button",{onClick:r,disabled:e,className:"w-full flex items-center justify-center gap-3 py-3.5 px-6 rounded-xl bg-white hover:bg-slate-50 text-slate-700 font-semibold text-base shadow-md border-2 border-slate-200 hover:border-slate-300 transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed mb-6",children:[w.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[w.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),w.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),w.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),w.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e?w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Continue with Google"]}),w.jsx("div",{className:"text-center",children:w.jsx("p",{className:"text-xs text-slate-400 leading-relaxed",children:"By continuing, you agree to our Terms of Service and Privacy Policy. Your data is encrypted and secure."})})]})]})}function rP(){const[i,e]=Ve.useState([]),[t,r]=Ve.useState([]),[a,l]=Ve.useState("all"),[c,m]=Ve.useState({search:"",category:"all",status:"all"}),[g,p]=Ve.useState(null),[b,T]=Ve.useState(!0),[I,U]=Ve.useState(!1),[Q,ee]=Ve.useState(!1),[te,ue]=Ve.useState(!1),[fe,ae]=Ve.useState(navigator.onLine),[Ee,be]=Ve.useState(!1);Ve.useEffect(()=>{const le=()=>{ae(!0),console.log("App is online"),_e()},ne=()=>{ae(!1),console.log("App is offline")};return window.addEventListener("online",le),window.addEventListener("offline",ne),()=>{window.removeEventListener("online",le),window.removeEventListener("offline",ne)}},[g]);const _e=async()=>{if(!g||!fe)return;const le=localStorage.getItem("pendingSubscriptions");if(le)try{const ne=JSON.parse(le);if(ne.length===0)return;console.log("Syncing pending subscriptions:",ne.length),be(!0);const L=br(Ki,"subscriptions",g.uid),W=await ys(L),xe=[...W.exists()?W.data().subscriptions||[]:[],...ne];await _s(L,{subscriptions:xe},{merge:!0}),e(xe),localStorage.removeItem("pendingSubscriptions"),console.log("Sync complete!")}catch(ne){console.error("Error syncing pending subscriptions:",ne)}finally{be(!1)}};Ve.useEffect(()=>{const le=NN(qp,async ne=>{if(p(ne),T(!1),ne){U(!1);const L=localStorage.getItem("draftSubscription");if(L)try{const K={...JSON.parse(L),id:crypto.randomUUID()},xe=br(Ki,"subscriptions",ne.uid),Me=await ys(xe),D=Me.exists()?[...Me.data().subscriptions||[],K]:[K];await _s(xe,{subscriptions:D}),localStorage.removeItem("draftSubscription"),console.log("Cached subscription saved successfully!")}catch(W){console.error("Error saving cached subscription:",W)}}});return()=>le()},[]),Ve.useEffect(()=>{if(!g){e([]);return}const le=br(Ki,"subscriptions",g.uid),ne=Ok(le,L=>{L.exists()?e(L.data().subscriptions||[]):e([])});return()=>ne()},[g]),Ve.useEffect(()=>{let le=i;c.search&&(le=le.filter(ne=>ne.name.toLowerCase().includes(c.search.toLowerCase()))),c.category!=="all"&&(le=le.filter(ne=>ne.category===c.category)),c.status!=="all"&&(le=le.filter(ne=>ne.status===c.status)),a==="upcoming"?le=le.filter(ne=>{const L=Oa(Ma(ne.nextDate),new Date);return L>=0&&L<=7}):a==="overdue"&&(le=le.filter(ne=>Oa(Ma(ne.nextDate),new Date)<0)),r(le)},[i,a,c]),Ve.useEffect(()=>{if("Notification"in window&&Notification.permission==="granted"){const le=()=>{i.forEach(L=>{const W=Oa(Ma(L.nextDate),new Date);W===1?new Notification("Subscription Reminder",{body:`${L.name} will be billed tomorrow for ${L.amount.toLocaleString()}`,icon:"/logo.png"}):W===0?new Notification("Subscription Due Today",{body:`${L.name} is being billed today for ${L.amount.toLocaleString()}`,icon:"/logo.png"}):W<0&&new Notification("Subscription Overdue",{body:`${L.name} is overdue by ${Math.abs(W)} days (${L.amount.toLocaleString()})`,icon:"/logo.png"})})};le();const ne=setInterval(le,1440*60*1e3);return()=>clearInterval(ne)}},[i]);const x=async()=>{if("Notification"in window){if(Notification.permission==="granted")new Notification("Notifications Enabled! ",{body:"You will now receive payment reminders for your subscriptions.",icon:"/logo.png"}),ue(!1);else if(Notification.permission!=="denied")try{await Notification.requestPermission()==="granted"&&(new Notification("Notifications Enabled! ",{body:"You will now receive payment reminders for your subscriptions.",icon:"/logo.png"}),ue(!1))}catch(le){console.error("Error requesting notification permission:",le)}}else alert("Your browser does not support notifications")},A=async le=>{try{if(!g){localStorage.setItem("draftSubscription",JSON.stringify(le)),U(!0);return}const ne={...le,id:crypto.randomUUID(),createdAt:new Date().toISOString()};if(console.log("Adding subscription:",ne),!navigator.onLine){console.log("Offline: Saving to localStorage for later sync");const xe=localStorage.getItem("pendingSubscriptions"),Me=xe?JSON.parse(xe):[];Me.push(ne),localStorage.setItem("pendingSubscriptions",JSON.stringify(Me));const D=[...i,ne];e(D),localStorage.removeItem("draftSubscription"),console.log("Subscription saved offline; queued for sync.");return}const L=br(Ki,"subscriptions",g.uid),W=await ys(L),K=W.exists()?[...W.data().subscriptions||[],ne]:[ne];await _s(L,{subscriptions:K},{merge:!0}),e(K),localStorage.removeItem("draftSubscription"),console.log("Subscription added successfully"),"Notification"in window&&Notification.permission!=="granted"&&ue(!0)}catch(ne){if(console.error("Error adding subscription:",ne),ne?.message?.includes("offline")||ne?.code==="unavailable"){console.log("Detected offline error, saving to localStorage");const L={...le,id:crypto.randomUUID(),createdAt:new Date().toISOString()},W=localStorage.getItem("pendingSubscriptions"),K=W?JSON.parse(W):[];K.push(L),localStorage.setItem("pendingSubscriptions",JSON.stringify(K));const xe=[...i,L];e(xe),localStorage.removeItem("draftSubscription"),console.log("Offline save: subscription queued for later sync.")}else alert(`Error saving subscription: ${ne instanceof Error?ne.message:"Unknown error"}`)}},R=async le=>{try{if(!g){U(!0);return}const ne={id:crypto.randomUUID(),name:le,amount:0,currency:"INR",cycle:"monthly",nextDate:new Date().toISOString().split("T")[0],category:"other",status:"active",createdAt:new Date().toISOString()},L=br(Ki,"subscriptions",g.uid),W=await ys(L),K=W.exists()?[...W.data().subscriptions||[],ne]:[ne];await _s(L,{subscriptions:K},{merge:!0}),e(K),console.log("Quick added subscription:",ne)}catch(ne){console.error("Error quick adding subscription:",ne),alert(`Error: ${ne instanceof Error?ne.message:"Failed to add subscription"}`)}},V=async le=>{try{if(!g)return;const ne=br(Ki,"subscriptions",g.uid),L=await ys(ne);if(L.exists()){const W=(L.data().subscriptions||[]).filter(K=>K.id!==le);await _s(ne,{subscriptions:W},{merge:!0}),e(W),console.log("Subscription deleted:",le)}}catch(ne){console.error("Error deleting subscription:",ne),alert(`Error: ${ne instanceof Error?ne.message:"Failed to delete subscription"}`)}},O=async le=>{try{if(!g)return;const ne=br(Ki,"subscriptions",g.uid),L=await ys(ne);if(L.exists()){const W=(L.data().subscriptions||[]).map(K=>K.id===le?{...K,status:"paused"}:K);await _s(ne,{subscriptions:W},{merge:!0}),e(W),console.log("Subscription paused:",le)}}catch(ne){console.error("Error pausing subscription:",ne),alert(`Error: ${ne instanceof Error?ne.message:"Failed to pause subscription"}`)}},k=async le=>{try{if(!g)return;const ne=br(Ki,"subscriptions",g.uid),L=await ys(ne);if(L.exists()){const W=(L.data().subscriptions||[]).map(K=>K.id===le?{...K,status:"active"}:K);await _s(ne,{subscriptions:W},{merge:!0}),e(W),console.log("Subscription resumed:",le)}}catch(ne){console.error("Error resuming subscription:",ne),alert(`Error: ${ne instanceof Error?ne.message:"Failed to resume subscription"}`)}},C=async le=>{try{if(!g)return;const{calculateNextBillingDate:ne}=await Ux(async()=>{const{calculateNextBillingDate:Me}=await import("./dateCalculations-CDgFQ_jw.js");return{calculateNextBillingDate:Me}},[]),L=ne(le.nextDate,le.cycle),W={...le,lastPaidDate:new Date().toISOString().split("T")[0],nextDate:L},K=br(Ki,"subscriptions",g.uid),xe=await ys(K);if(xe.exists()){const Me=(xe.data().subscriptions||[]).map(D=>D.id===le.id?W:D);await _s(K,{subscriptions:Me},{merge:!0}),e(Me),console.log("Subscription marked as paid:",le.id)}}catch(ne){console.error("Error marking subscription as paid:",ne),alert(`Error: ${ne instanceof Error?ne.message:"Failed to mark as paid"}`)}};return w.jsxs("div",{className:"min-h-screen flex flex-col from-slate-50 via-white to-zinc-100 p-4 md:p-8",children:[I&&w.jsx(iP,{onClose:()=>U(!1)}),te&&w.jsx(tP,{onEnable:x,onDismiss:()=>ue(!1)}),w.jsxs("div",{className:"max-w-6xl mx-auto w-full flex-1 flex flex-col",children:[w.jsx(Z3,{user:g,onLogout:async()=>{await DN(qp)},onSignupClick:()=>U(!0),isOnline:fe,pendingSync:Ee}),w.jsx("main",{className:"flex-1",children:b?w.jsx("div",{className:"text-center py-12 text-slate-500",children:"Loading..."}):g?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[w.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[w.jsx(Y3,{subscriptions:i}),w.jsx($3,{onFilterChange:m}),w.jsx("div",{className:"flex justify-end mb-4",children:w.jsx(Q3,{subscriptions:i})}),w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"My Subscriptions"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>l("all"),className:`cursor-pointer px-3 py-1 rounded-full text-sm font-medium transition-colors ${a==="all"?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"All"}),w.jsx("button",{onClick:()=>l("upcoming"),className:`cursor-pointer px-3 py-1 rounded-full text-sm font-medium transition-colors ${a==="upcoming"?"bg-amber-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Upcoming"}),w.jsx("button",{onClick:()=>l("overdue"),className:`cursor-pointer px-3 py-1 rounded-full text-sm font-medium transition-colors ${a==="overdue"?"bg-red-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Overdue"})]})]}),t.length===0?w.jsxs("div",{className:"text-center py-12 text-slate-500",children:[w.jsx("p",{className:"text-lg",children:"No subscriptions found"}),w.jsx("p",{className:"text-sm mt-2",children:"Add your first subscription to get started"})]}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(le=>w.jsx(K3,{subscription:le,onDelete:V,onPause:O,onResume:k,onMarkAsPaid:C},le.id))})]})]}),w.jsx("div",{className:"space-y-6",children:w.jsx(S4,{onSubmit:A,user:g})})]}),w.jsx(X3,{onQuickAdd:R})]}):w.jsx(nP,{onSignupClick:()=>U(!0)})}),w.jsx(eP,{})]})]})}kx.createRoot(document.getElementById("root")).render(w.jsx(Ve.StrictMode,{children:w.jsx(rP,{})}));export{Or as c,Ma as p,Ln as t};
