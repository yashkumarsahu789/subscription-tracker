(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const l of a)if(l.type==="childList")for(const c of l.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function t(a){const l={};return a.integrity&&(l.integrity=a.integrity),a.referrerPolicy&&(l.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?l.credentials="include":a.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function i(a){if(a.ep)return;a.ep=!0;const l=t(a);fetch(a.href,l)}})();var Yg={exports:{}},Uu={};var zb;function Zx(){if(zb)return Uu;zb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function t(i,a,l){var c=null;if(l!==void 0&&(c=""+l),a.key!==void 0&&(c=""+a.key),"key"in a){l={};for(var d in a)d!=="key"&&(l[d]=a[d])}else l=a;return a=l.ref,{$$typeof:r,type:i,key:c,ref:a!==void 0?a:null,props:l}}return Uu.Fragment=e,Uu.jsx=t,Uu.jsxs=t,Uu}var Bb;function eR(){return Bb||(Bb=1,Yg.exports=Zx()),Yg.exports}var w=eR(),Qg={exports:{}},Oe={};var Fb;function tR(){if(Fb)return Oe;Fb=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),l=Symbol.for("react.consumer"),c=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),I=Symbol.iterator;function j(D){return D===null||typeof D!="object"?null:(D=I&&D[I]||D["@@iterator"],typeof D=="function"?D:null)}var Q={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ee=Object.assign,te={};function ce(D,X,re){this.props=D,this.context=X,this.refs=te,this.updater=re||Q}ce.prototype.isReactComponent={},ce.prototype.setState=function(D,X){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,X,"setState")},ce.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function fe(){}fe.prototype=ce.prototype;function ae(D,X,re){this.props=D,this.context=X,this.refs=te,this.updater=re||Q}var Se=ae.prototype=new fe;Se.constructor=ae,ee(Se,ce.prototype),Se.isPureReactComponent=!0;var Te=Array.isArray;function ve(){}var x={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function R(D,X,re){var oe=re.ref;return{$$typeof:r,type:D,key:X,ref:oe!==void 0?oe:null,props:re}}function M(D,X){return R(D.type,X,D.props)}function O(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function k(D){var X={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(re){return X[re]})}var C=/\/+/g;function le(D,X){return typeof D=="object"&&D!==null&&D.key!=null?k(""+D.key):X.toString(36)}function ie(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(ve,ve):(D.status="pending",D.then(function(X){D.status==="pending"&&(D.status="fulfilled",D.value=X)},function(X){D.status==="pending"&&(D.status="rejected",D.reason=X)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function L(D,X,re,oe,Ie){var De=typeof D;(De==="undefined"||De==="boolean")&&(D=null);var Ae=!1;if(D===null)Ae=!0;else switch(De){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(D.$$typeof){case r:case e:Ae=!0;break;case b:return Ae=D._init,L(Ae(D._payload),X,re,oe,Ie)}}if(Ae)return Ie=Ie(D),Ae=oe===""?"."+le(D,0):oe,Te(Ie)?(re="",Ae!=null&&(re=Ae.replace(C,"$&/")+"/"),L(Ie,X,re,"",function(zn){return zn})):Ie!=null&&(O(Ie)&&(Ie=M(Ie,re+(Ie.key==null||D&&D.key===Ie.key?"":(""+Ie.key).replace(C,"$&/")+"/")+Ae)),X.push(Ie)),1;Ae=0;var vt=oe===""?".":oe+":";if(Te(D))for(var Je=0;Je<D.length;Je++)oe=D[Je],De=vt+le(oe,Je),Ae+=L(oe,X,re,De,Ie);else if(Je=j(D),typeof Je=="function")for(D=Je.call(D),Je=0;!(oe=D.next()).done;)oe=oe.value,De=vt+le(oe,Je++),Ae+=L(oe,X,re,De,Ie);else if(De==="object"){if(typeof D.then=="function")return L(ie(D),X,re,oe,Ie);throw X=String(D),Error("Objects are not valid as a React child (found: "+(X==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":X)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function W(D,X,re){if(D==null)return D;var oe=[],Ie=0;return L(D,oe,"","",function(De){return X.call(re,De,Ie++)}),oe}function K(D){if(D._status===-1){var X=D._result;X=X(),X.then(function(re){(D._status===0||D._status===-1)&&(D._status=1,D._result=re)},function(re){(D._status===0||D._status===-1)&&(D._status=2,D._result=re)}),D._status===-1&&(D._status=0,D._result=X)}if(D._status===1)return D._result.default;throw D._result}var Re=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var X=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(X))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)},Ve={map:W,forEach:function(D,X,re){W(D,function(){X.apply(this,arguments)},re)},count:function(D){var X=0;return W(D,function(){X++}),X},toArray:function(D){return W(D,function(X){return X})||[]},only:function(D){if(!O(D))throw Error("React.Children.only expected to receive a single React element child.");return D}};return Oe.Activity=T,Oe.Children=Ve,Oe.Component=ce,Oe.Fragment=t,Oe.Profiler=a,Oe.PureComponent=ae,Oe.StrictMode=i,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=x,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(D){return x.H.useMemoCache(D)}},Oe.cache=function(D){return function(){return D.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(D,X,re){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var oe=ee({},D.props),Ie=D.key;if(X!=null)for(De in X.key!==void 0&&(Ie=""+X.key),X)!A.call(X,De)||De==="key"||De==="__self"||De==="__source"||De==="ref"&&X.ref===void 0||(oe[De]=X[De]);var De=arguments.length-2;if(De===1)oe.children=re;else if(1<De){for(var Ae=Array(De),vt=0;vt<De;vt++)Ae[vt]=arguments[vt+2];oe.children=Ae}return R(D.type,Ie,oe)},Oe.createContext=function(D){return D={$$typeof:c,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:l,_context:D},D},Oe.createElement=function(D,X,re){var oe,Ie={},De=null;if(X!=null)for(oe in X.key!==void 0&&(De=""+X.key),X)A.call(X,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(Ie[oe]=X[oe]);var Ae=arguments.length-2;if(Ae===1)Ie.children=re;else if(1<Ae){for(var vt=Array(Ae),Je=0;Je<Ae;Je++)vt[Je]=arguments[Je+2];Ie.children=vt}if(D&&D.defaultProps)for(oe in Ae=D.defaultProps,Ae)Ie[oe]===void 0&&(Ie[oe]=Ae[oe]);return R(D,De,Ie)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(D){return{$$typeof:d,render:D}},Oe.isValidElement=O,Oe.lazy=function(D){return{$$typeof:b,_payload:{_status:-1,_result:D},_init:K}},Oe.memo=function(D,X){return{$$typeof:p,type:D,compare:X===void 0?null:X}},Oe.startTransition=function(D){var X=x.T,re={};x.T=re;try{var oe=D(),Ie=x.S;Ie!==null&&Ie(re,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(ve,Re)}catch(De){Re(De)}finally{X!==null&&re.types!==null&&(X.types=re.types),x.T=X}},Oe.unstable_useCacheRefresh=function(){return x.H.useCacheRefresh()},Oe.use=function(D){return x.H.use(D)},Oe.useActionState=function(D,X,re){return x.H.useActionState(D,X,re)},Oe.useCallback=function(D,X){return x.H.useCallback(D,X)},Oe.useContext=function(D){return x.H.useContext(D)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(D,X){return x.H.useDeferredValue(D,X)},Oe.useEffect=function(D,X){return x.H.useEffect(D,X)},Oe.useEffectEvent=function(D){return x.H.useEffectEvent(D)},Oe.useId=function(){return x.H.useId()},Oe.useImperativeHandle=function(D,X,re){return x.H.useImperativeHandle(D,X,re)},Oe.useInsertionEffect=function(D,X){return x.H.useInsertionEffect(D,X)},Oe.useLayoutEffect=function(D,X){return x.H.useLayoutEffect(D,X)},Oe.useMemo=function(D,X){return x.H.useMemo(D,X)},Oe.useOptimistic=function(D,X){return x.H.useOptimistic(D,X)},Oe.useReducer=function(D,X,re){return x.H.useReducer(D,X,re)},Oe.useRef=function(D){return x.H.useRef(D)},Oe.useState=function(D){return x.H.useState(D)},Oe.useSyncExternalStore=function(D,X,re){return x.H.useSyncExternalStore(D,X,re)},Oe.useTransition=function(){return x.H.useTransition()},Oe.version="19.2.3",Oe}var qb;function oy(){return qb||(qb=1,Qg.exports=tR()),Qg.exports}var Me=oy(),$g={exports:{}},ju={},Xg={exports:{}},Wg={};var Hb;function nR(){return Hb||(Hb=1,(function(r){function e(L,W){var K=L.length;L.push(W);e:for(;0<K;){var Re=K-1>>>1,Ve=L[Re];if(0<a(Ve,W))L[Re]=W,L[K]=Ve,K=Re;else break e}}function t(L){return L.length===0?null:L[0]}function i(L){if(L.length===0)return null;var W=L[0],K=L.pop();if(K!==W){L[0]=K;e:for(var Re=0,Ve=L.length,D=Ve>>>1;Re<D;){var X=2*(Re+1)-1,re=L[X],oe=X+1,Ie=L[oe];if(0>a(re,K))oe<Ve&&0>a(Ie,re)?(L[Re]=Ie,L[oe]=K,Re=oe):(L[Re]=re,L[X]=K,Re=X);else if(oe<Ve&&0>a(Ie,K))L[Re]=Ie,L[oe]=K,Re=oe;else break e}}return W}function a(L,W){var K=L.sortIndex-W.sortIndex;return K!==0?K:L.id-W.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;r.unstable_now=function(){return l.now()}}else{var c=Date,d=c.now();r.unstable_now=function(){return c.now()-d}}var g=[],p=[],b=1,T=null,I=3,j=!1,Q=!1,ee=!1,te=!1,ce=typeof setTimeout=="function"?setTimeout:null,fe=typeof clearTimeout=="function"?clearTimeout:null,ae=typeof setImmediate<"u"?setImmediate:null;function Se(L){for(var W=t(p);W!==null;){if(W.callback===null)i(p);else if(W.startTime<=L)i(p),W.sortIndex=W.expirationTime,e(g,W);else break;W=t(p)}}function Te(L){if(ee=!1,Se(L),!Q)if(t(g)!==null)Q=!0,ve||(ve=!0,k());else{var W=t(p);W!==null&&ie(Te,W.startTime-L)}}var ve=!1,x=-1,A=5,R=-1;function M(){return te?!0:!(r.unstable_now()-R<A)}function O(){if(te=!1,ve){var L=r.unstable_now();R=L;var W=!0;try{e:{Q=!1,ee&&(ee=!1,fe(x),x=-1),j=!0;var K=I;try{t:{for(Se(L),T=t(g);T!==null&&!(T.expirationTime>L&&M());){var Re=T.callback;if(typeof Re=="function"){T.callback=null,I=T.priorityLevel;var Ve=Re(T.expirationTime<=L);if(L=r.unstable_now(),typeof Ve=="function"){T.callback=Ve,Se(L),W=!0;break t}T===t(g)&&i(g),Se(L)}else i(g);T=t(g)}if(T!==null)W=!0;else{var D=t(p);D!==null&&ie(Te,D.startTime-L),W=!1}}break e}finally{T=null,I=K,j=!1}W=void 0}}finally{W?k():ve=!1}}}var k;if(typeof ae=="function")k=function(){ae(O)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,le=C.port2;C.port1.onmessage=O,k=function(){le.postMessage(null)}}else k=function(){ce(O,0)};function ie(L,W){x=ce(function(){L(r.unstable_now())},W)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(L){L.callback=null},r.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<L?Math.floor(1e3/L):5},r.unstable_getCurrentPriorityLevel=function(){return I},r.unstable_next=function(L){switch(I){case 1:case 2:case 3:var W=3;break;default:W=I}var K=I;I=W;try{return L()}finally{I=K}},r.unstable_requestPaint=function(){te=!0},r.unstable_runWithPriority=function(L,W){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var K=I;I=L;try{return W()}finally{I=K}},r.unstable_scheduleCallback=function(L,W,K){var Re=r.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?Re+K:Re):K=Re,L){case 1:var Ve=-1;break;case 2:Ve=250;break;case 5:Ve=1073741823;break;case 4:Ve=1e4;break;default:Ve=5e3}return Ve=K+Ve,L={id:b++,callback:W,priorityLevel:L,startTime:K,expirationTime:Ve,sortIndex:-1},K>Re?(L.sortIndex=K,e(p,L),t(g)===null&&L===t(p)&&(ee?(fe(x),x=-1):ee=!0,ie(Te,K-Re))):(L.sortIndex=Ve,e(g,L),Q||j||(Q=!0,ve||(ve=!0,k()))),L},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(L){var W=I;return function(){var K=I;I=W;try{return L.apply(this,arguments)}finally{I=K}}}})(Wg)),Wg}var Gb;function iR(){return Gb||(Gb=1,Xg.exports=nR()),Xg.exports}var Jg={exports:{}},sn={};var Kb;function rR(){if(Kb)return sn;Kb=1;var r=oy();function e(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var b=2;b<arguments.length;b++)p+="&args[]="+encodeURIComponent(arguments[b])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function t(){}var i={d:{f:t,r:function(){throw Error(e(522))},D:t,C:t,L:t,m:t,X:t,S:t,M:t},p:0,findDOMNode:null},a=Symbol.for("react.portal");function l(g,p,b){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:T==null?null:""+T,children:g,containerInfo:p,implementation:b}}var c=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sn.createPortal=function(g,p){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(e(299));return l(g,p,null,b)},sn.flushSync=function(g){var p=c.T,b=i.p;try{if(c.T=null,i.p=2,g)return g()}finally{c.T=p,i.p=b,i.d.f()}},sn.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,i.d.C(g,p))},sn.prefetchDNS=function(g){typeof g=="string"&&i.d.D(g)},sn.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var b=p.as,T=d(b,p.crossOrigin),I=typeof p.integrity=="string"?p.integrity:void 0,j=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;b==="style"?i.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:T,integrity:I,fetchPriority:j}):b==="script"&&i.d.X(g,{crossOrigin:T,integrity:I,fetchPriority:j,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},sn.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var b=d(p.as,p.crossOrigin);i.d.M(g,{crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&i.d.M(g)},sn.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var b=p.as,T=d(b,p.crossOrigin);i.d.L(g,b,{crossOrigin:T,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},sn.preloadModule=function(g,p){if(typeof g=="string")if(p){var b=d(p.as,p.crossOrigin);i.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:b,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else i.d.m(g)},sn.requestFormReset=function(g){i.d.r(g)},sn.unstable_batchedUpdates=function(g,p){return g(p)},sn.useFormState=function(g,p,b){return c.H.useFormState(g,p,b)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.3",sn}var Yb;function sR(){if(Yb)return Jg.exports;Yb=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),Jg.exports=rR(),Jg.exports}var Qb;function aR(){if(Qb)return ju;Qb=1;var r=iR(),e=oy(),t=sR();function i(n){var s="https://react.dev/errors/"+n;if(1<arguments.length){s+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)s+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+n+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function l(n){var s=n,o=n;if(n.alternate)for(;s.return;)s=s.return;else{n=s;do s=n,(s.flags&4098)!==0&&(o=s.return),n=s.return;while(n)}return s.tag===3?o:null}function c(n){if(n.tag===13){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function d(n){if(n.tag===31){var s=n.memoizedState;if(s===null&&(n=n.alternate,n!==null&&(s=n.memoizedState)),s!==null)return s.dehydrated}return null}function g(n){if(l(n)!==n)throw Error(i(188))}function p(n){var s=n.alternate;if(!s){if(s=l(n),s===null)throw Error(i(188));return s!==n?null:n}for(var o=n,u=s;;){var f=o.return;if(f===null)break;var m=f.alternate;if(m===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===m.child){for(m=f.child;m;){if(m===o)return g(f),n;if(m===u)return g(f),s;m=m.sibling}throw Error(i(188))}if(o.return!==u.return)o=f,u=m;else{for(var _=!1,E=f.child;E;){if(E===o){_=!0,o=f,u=m;break}if(E===u){_=!0,u=f,o=m;break}E=E.sibling}if(!_){for(E=m.child;E;){if(E===o){_=!0,o=m,u=f;break}if(E===u){_=!0,u=m,o=f;break}E=E.sibling}if(!_)throw Error(i(189))}}if(o.alternate!==u)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?n:s}function b(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n;for(n=n.child;n!==null;){if(s=b(n),s!==null)return s;n=n.sibling}return null}var T=Object.assign,I=Symbol.for("react.element"),j=Symbol.for("react.transitional.element"),Q=Symbol.for("react.portal"),ee=Symbol.for("react.fragment"),te=Symbol.for("react.strict_mode"),ce=Symbol.for("react.profiler"),fe=Symbol.for("react.consumer"),ae=Symbol.for("react.context"),Se=Symbol.for("react.forward_ref"),Te=Symbol.for("react.suspense"),ve=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function k(n){return n===null||typeof n!="object"?null:(n=O&&n[O]||n["@@iterator"],typeof n=="function"?n:null)}var C=Symbol.for("react.client.reference");function le(n){if(n==null)return null;if(typeof n=="function")return n.$$typeof===C?null:n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case ee:return"Fragment";case ce:return"Profiler";case te:return"StrictMode";case Te:return"Suspense";case ve:return"SuspenseList";case R:return"Activity"}if(typeof n=="object")switch(n.$$typeof){case Q:return"Portal";case ae:return n.displayName||"Context";case fe:return(n._context.displayName||"Context")+".Consumer";case Se:var s=n.render;return n=n.displayName,n||(n=s.displayName||s.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case x:return s=n.displayName||null,s!==null?s:le(n.type)||"Memo";case A:s=n._payload,n=n._init;try{return le(n(s))}catch{}}return null}var ie=Array.isArray,L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,W=t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},Re=[],Ve=-1;function D(n){return{current:n}}function X(n){0>Ve||(n.current=Re[Ve],Re[Ve]=null,Ve--)}function re(n,s){Ve++,Re[Ve]=n.current,n.current=s}var oe=D(null),Ie=D(null),De=D(null),Ae=D(null);function vt(n,s){switch(re(De,s),re(Ie,n),re(oe,null),s.nodeType){case 9:case 11:n=(n=s.documentElement)&&(n=n.namespaceURI)?ub(n):0;break;default:if(n=s.tagName,s=s.namespaceURI)s=ub(s),n=cb(s,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}X(oe),re(oe,n)}function Je(){X(oe),X(Ie),X(De)}function zn(n){n.memoizedState!==null&&re(Ae,n);var s=oe.current,o=cb(s,n.type);s!==o&&(re(Ie,n),re(oe,o))}function wi(n){Ie.current===n&&(X(oe),X(Ie)),Ae.current===n&&(X(Ae),Mu._currentValue=K)}var ii,Wa;function Si(n){if(ii===void 0)try{throw Error()}catch(o){var s=o.stack.trim().match(/\n( *(at )?)/);ii=s&&s[1]||"",Wa=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ii+n+Wa}var Ml=!1;function zs(n,s){if(!n||Ml)return"";Ml=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(s){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(G){var q=G}Reflect.construct(n,[],J)}else{try{J.call()}catch(G){q=G}n.call(J.prototype)}}else{try{throw Error()}catch(G){q=G}(J=n())&&typeof J.catch=="function"&&J.catch(function(){})}}catch(G){if(G&&q&&typeof G.stack=="string")return[G.stack,q.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var m=u.DetermineComponentFrameRoot(),_=m[0],E=m[1];if(_&&E){var N=_.split(`
`),F=E.split(`
`);for(f=u=0;u<N.length&&!N[u].includes("DetermineComponentFrameRoot");)u++;for(;f<F.length&&!F[f].includes("DetermineComponentFrameRoot");)f++;if(u===N.length||f===F.length)for(u=N.length-1,f=F.length-1;1<=u&&0<=f&&N[u]!==F[f];)f--;for(;1<=u&&0<=f;u--,f--)if(N[u]!==F[f]){if(u!==1||f!==1)do if(u--,f--,0>f||N[u]!==F[f]){var Y=`
`+N[u].replace(" at new "," at ");return n.displayName&&Y.includes("<anonymous>")&&(Y=Y.replace("<anonymous>",n.displayName)),Y}while(1<=u&&0<=f);break}}}finally{Ml=!1,Error.prepareStackTrace=o}return(o=n?n.displayName||n.name:"")?Si(o):""}function kl(n,s){switch(n.tag){case 26:case 27:case 5:return Si(n.type);case 16:return Si("Lazy");case 13:return n.child!==s&&s!==null?Si("Suspense Fallback"):Si("Suspense");case 19:return Si("SuspenseList");case 0:case 15:return zs(n.type,!1);case 11:return zs(n.type.render,!1);case 1:return zs(n.type,!0);case 31:return Si("Activity");default:return""}}function Pl(n){try{var s="",o=null;do s+=kl(n,o),o=n,n=n.return;while(n);return s}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ct=Object.prototype.hasOwnProperty,zt=r.unstable_scheduleCallback,Mr=r.unstable_cancelCallback,$d=r.unstable_shouldYield,Bc=r.unstable_requestPaint,cn=r.unstable_now,Bs=r.unstable_getCurrentPriorityLevel,Ll=r.unstable_ImmediatePriority,Ul=r.unstable_UserBlockingPriority,kr=r.unstable_NormalPriority,Xd=r.unstable_LowPriority,Fc=r.unstable_IdlePriority,qc=r.log,Hc=r.unstable_setDisableYieldValue,ri=null,Wt=null;function Bn(n){if(typeof qc=="function"&&Hc(n),Wt&&typeof Wt.setStrictMode=="function")try{Wt.setStrictMode(ri,n)}catch{}}var wt=Math.clz32?Math.clz32:Kc,Gc=Math.log,Ja=Math.LN2;function Kc(n){return n>>>=0,n===0?32:31-(Gc(n)/Ja|0)|0}var Ai=256,Fs=262144,Nt=4194304;function Ii(n){var s=n&42;if(s!==0)return s;switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return n&261888;case 262144:case 524288:case 1048576:case 2097152:return n&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return n&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return n}}function xi(n,s,o){var u=n.pendingLanes;if(u===0)return 0;var f=0,m=n.suspendedLanes,_=n.pingedLanes;n=n.warmLanes;var E=u&134217727;return E!==0?(u=E&~m,u!==0?f=Ii(u):(_&=E,_!==0?f=Ii(_):o||(o=E&~n,o!==0&&(f=Ii(o))))):(E=u&~m,E!==0?f=Ii(E):_!==0?f=Ii(_):o||(o=u&~n,o!==0&&(f=Ii(o)))),f===0?0:s!==0&&s!==f&&(s&m)===0&&(m=f&-f,o=s&-s,m>=o||m===32&&(o&4194048)!==0)?s:f}function si(n,s){return(n.pendingLanes&~(n.suspendedLanes&~n.pingedLanes)&s)===0}function Wd(n,s){switch(n){case 1:case 2:case 4:case 8:case 64:return s+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Yc(){var n=Nt;return Nt<<=1,(Nt&62914560)===0&&(Nt=4194304),n}function Ri(n){for(var s=[],o=0;31>o;o++)s.push(n);return s}function qs(n,s){n.pendingLanes|=s,s!==268435456&&(n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0)}function Jd(n,s,o,u,f,m){var _=n.pendingLanes;n.pendingLanes=o,n.suspendedLanes=0,n.pingedLanes=0,n.warmLanes=0,n.expiredLanes&=o,n.entangledLanes&=o,n.errorRecoveryDisabledLanes&=o,n.shellSuspendCounter=0;var E=n.entanglements,N=n.expirationTimes,F=n.hiddenUpdates;for(o=_&~o;0<o;){var Y=31-wt(o),J=1<<Y;E[Y]=0,N[Y]=-1;var q=F[Y];if(q!==null)for(F[Y]=null,Y=0;Y<q.length;Y++){var G=q[Y];G!==null&&(G.lane&=-536870913)}o&=~J}u!==0&&Hs(n,u,0),m!==0&&f===0&&n.tag!==0&&(n.suspendedLanes|=m&~(_&~s))}function Hs(n,s,o){n.pendingLanes|=s,n.suspendedLanes&=~s;var u=31-wt(s);n.entangledLanes|=s,n.entanglements[u]=n.entanglements[u]|1073741824|o&261930}function jl(n,s){var o=n.entangledLanes|=s;for(n=n.entanglements;o;){var u=31-wt(o),f=1<<u;f&s|n[u]&s&&(n[u]|=s),o&=~f}}function zl(n,s){var o=s&-s;return o=(o&42)!==0?1:Gs(o),(o&(n.suspendedLanes|s))!==0?0:o}function Gs(n){switch(n){case 2:n=1;break;case 8:n=4;break;case 32:n=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:n=128;break;case 268435456:n=134217728;break;default:n=0}return n}function tr(n){return n&=-n,2<n?8<n?(n&134217727)!==0?32:268435456:8:2}function Qc(){var n=W.p;return n!==0?n:(n=window.event,n===void 0?32:Vb(n.type))}function ai(n,s){var o=W.p;try{return W.p=n,s()}finally{W.p=o}}var oi=Math.random().toString(36).slice(2),Dt="__reactFiber$"+oi,Kt="__reactProps$"+oi,Ci="__reactContainer$"+oi,Za="__reactEvents$"+oi,Zd="__reactListeners$"+oi,$c="__reactHandles$"+oi,Xc="__reactResources$"+oi,Ni="__reactMarker$"+oi;function eo(n){delete n[Dt],delete n[Kt],delete n[Za],delete n[Zd],delete n[$c]}function Di(n){var s=n[Dt];if(s)return s;for(var o=n.parentNode;o;){if(s=o[Ci]||o[Dt]){if(o=s.alternate,s.child!==null||o!==null&&o.child!==null)for(n=yb(n);n!==null;){if(o=n[Dt])return o;n=yb(n)}return s}n=o,o=n.parentNode}return null}function Fn(n){if(n=n[Dt]||n[Ci]){var s=n.tag;if(s===5||s===6||s===13||s===31||s===26||s===27||s===3)return n}return null}function Sn(n){var s=n.tag;if(s===5||s===26||s===27||s===6)return n.stateNode;throw Error(i(33))}function Oi(n){var s=n[Xc];return s||(s=n[Xc]={hoistableStyles:new Map,hoistableScripts:new Map}),s}function Ot(n){n[Ni]=!0}var Bl=new Set,Fl={};function Vi(n,s){Mi(n,s),Mi(n+"Capture",s)}function Mi(n,s){for(Fl[n]=s,n=0;n<s.length;n++)Bl.add(s[n])}var ql=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hl={},Gl={};function Wc(n){return Ct.call(Gl,n)?!0:Ct.call(Hl,n)?!1:ql.test(n)?Gl[n]=!0:(Hl[n]=!0,!1)}function to(n,s,o){if(Wc(s))if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":n.removeAttribute(s);return;case"boolean":var u=s.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){n.removeAttribute(s);return}}n.setAttribute(s,""+o)}}function An(n,s,o){if(o===null)n.removeAttribute(s);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(s);return}n.setAttribute(s,""+o)}}function Vt(n,s,o,u){if(u===null)n.removeAttribute(o);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":n.removeAttribute(o);return}n.setAttributeNS(s,o,""+u)}}function Yt(n){switch(typeof n){case"bigint":case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Pr(n){var s=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Kl(n,s,o){var u=Object.getOwnPropertyDescriptor(n.constructor.prototype,s);if(!n.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var f=u.get,m=u.set;return Object.defineProperty(n,s,{configurable:!0,get:function(){return f.call(this)},set:function(_){o=""+_,m.call(this,_)}}),Object.defineProperty(n,s,{enumerable:u.enumerable}),{getValue:function(){return o},setValue:function(_){o=""+_},stopTracking:function(){n._valueTracker=null,delete n[s]}}}}function Ze(n){if(!n._valueTracker){var s=Pr(n)?"checked":"value";n._valueTracker=Kl(n,s,""+n[s])}}function Ks(n){if(!n)return!1;var s=n._valueTracker;if(!s)return!0;var o=s.getValue(),u="";return n&&(u=Pr(n)?n.checked?"true":"false":n.value),n=u,n!==o?(s.setValue(n),!0):!1}function ki(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}var Ys=/[\n"\\]/g;function gn(n){return n.replace(Ys,function(s){return"\\"+s.charCodeAt(0).toString(16)+" "})}function no(n,s,o,u,f,m,_,E){n.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?n.type=_:n.removeAttribute("type"),s!=null?_==="number"?(s===0&&n.value===""||n.value!=s)&&(n.value=""+Yt(s)):n.value!==""+Yt(s)&&(n.value=""+Yt(s)):_!=="submit"&&_!=="reset"||n.removeAttribute("value"),s!=null?Yl(n,_,Yt(s)):o!=null?Yl(n,_,Yt(o)):u!=null&&n.removeAttribute("value"),f==null&&m!=null&&(n.defaultChecked=!!m),f!=null&&(n.checked=f&&typeof f!="function"&&typeof f!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?n.name=""+Yt(E):n.removeAttribute("name")}function Jc(n,s,o,u,f,m,_,E){if(m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(n.type=m),s!=null||o!=null){if(!(m!=="submit"&&m!=="reset"||s!=null)){Ze(n);return}o=o!=null?""+Yt(o):"",s=s!=null?""+Yt(s):o,E||s===n.value||(n.value=s),n.defaultValue=s}u=u??f,u=typeof u!="function"&&typeof u!="symbol"&&!!u,n.checked=E?n.checked:!!u,n.defaultChecked=!!u,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(n.name=_),Ze(n)}function Yl(n,s,o){s==="number"&&ki(n.ownerDocument)===n||n.defaultValue===""+o||(n.defaultValue=""+o)}function Lr(n,s,o,u){if(n=n.options,s){s={};for(var f=0;f<o.length;f++)s["$"+o[f]]=!0;for(o=0;o<n.length;o++)f=s.hasOwnProperty("$"+n[o].value),n[o].selected!==f&&(n[o].selected=f),f&&u&&(n[o].defaultSelected=!0)}else{for(o=""+Yt(o),s=null,f=0;f<n.length;f++){if(n[f].value===o){n[f].selected=!0,u&&(n[f].defaultSelected=!0);return}s!==null||n[f].disabled||(s=n[f])}s!==null&&(s.selected=!0)}}function Zc(n,s,o){if(s!=null&&(s=""+Yt(s),s!==n.value&&(n.value=s),o==null)){n.defaultValue!==s&&(n.defaultValue=s);return}n.defaultValue=o!=null?""+Yt(o):""}function Ur(n,s,o,u){if(s==null){if(u!=null){if(o!=null)throw Error(i(92));if(ie(u)){if(1<u.length)throw Error(i(93));u=u[0]}o=u}o==null&&(o=""),s=o}o=Yt(s),n.defaultValue=o,u=n.textContent,u===o&&u!==""&&u!==null&&(n.value=u),Ze(n)}function pn(n,s){if(s){var o=n.firstChild;if(o&&o===n.lastChild&&o.nodeType===3){o.nodeValue=s;return}}n.textContent=s}var eh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ql(n,s,o){var u=s.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?u?n.setProperty(s,""):s==="float"?n.cssFloat="":n[s]="":u?n.setProperty(s,o):typeof o!="number"||o===0||eh.has(s)?s==="float"?n.cssFloat=o:n[s]=(""+o).trim():n[s]=o+"px"}function $l(n,s,o){if(s!=null&&typeof s!="object")throw Error(i(62));if(n=n.style,o!=null){for(var u in o)!o.hasOwnProperty(u)||s!=null&&s.hasOwnProperty(u)||(u.indexOf("--")===0?n.setProperty(u,""):u==="float"?n.cssFloat="":n[u]="");for(var f in s)u=s[f],s.hasOwnProperty(f)&&o[f]!==u&&Ql(n,f,u)}else for(var m in s)s.hasOwnProperty(m)&&Ql(n,m,s[m])}function io(n){if(n.indexOf("-")===-1)return!1;switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var th=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ro(n){return jr.test(""+n)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":n}function li(){}var Xl=null;function qn(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var zr=null,Pi=null;function Qs(n){var s=Fn(n);if(s&&(n=s.stateNode)){var o=n[Kt]||null;e:switch(n=s.stateNode,s.type){case"input":if(no(n,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),s=o.name,o.type==="radio"&&s!=null){for(o=n;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+gn(""+s)+'"][type="radio"]'),s=0;s<o.length;s++){var u=o[s];if(u!==n&&u.form===n.form){var f=u[Kt]||null;if(!f)throw Error(i(90));no(u,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(s=0;s<o.length;s++)u=o[s],u.form===n.form&&Ks(u)}break e;case"textarea":Zc(n,o.value,o.defaultValue);break e;case"select":s=o.value,s!=null&&Lr(n,!!o.multiple,s,!1)}}}var so=!1;function Br(n,s,o){if(so)return n(s,o);so=!0;try{var u=n(s);return u}finally{if(so=!1,(zr!==null||Pi!==null)&&(Qh(),zr&&(s=zr,n=Pi,Pi=zr=null,Qs(s),n)))for(s=0;s<n.length;s++)Qs(n[s])}}function ui(n,s){var o=n.stateNode;if(o===null)return null;var u=o[Kt]||null;if(u===null)return null;o=u[s];e:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(n=n.type,u=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!u;break e;default:n=!1}if(n)return null;if(o&&typeof o!="function")throw Error(i(231,s,typeof o));return o}var Hn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$s=!1;if(Hn)try{var st={};Object.defineProperty(st,"passive",{get:function(){$s=!0}}),window.addEventListener("test",st,st),window.removeEventListener("test",st,st)}catch{$s=!1}var Li=null,Wl=null,Xs=null;function Jl(){if(Xs)return Xs;var n,s=Wl,o=s.length,u,f="value"in Li?Li.value:Li.textContent,m=f.length;for(n=0;n<o&&s[n]===f[n];n++);var _=o-n;for(u=1;u<=_&&s[o-u]===f[m-u];u++);return Xs=f.slice(n,1<u?1-u:void 0)}function Ws(n){var s=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&s===13&&(n=13)):n=s,n===10&&(n=13),32<=n||n===13?n:0}function nr(){return!0}function ci(){return!1}function Jt(n){function s(o,u,f,m,_){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=m,this.target=_,this.currentTarget=null;for(var E in n)n.hasOwnProperty(E)&&(o=n[E],this[E]=o?o(m):m[E]);return this.isDefaultPrevented=(m.defaultPrevented!=null?m.defaultPrevented:m.returnValue===!1)?nr:ci,this.isPropagationStopped=ci,this}return T(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=nr)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=nr)},persist:function(){},isPersistent:nr}),s}var ir={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ui=Jt(ir),Fr=T({},ir,{view:0,detail:0}),Zl=Jt(Fr),qr,ao,ji,oo=T({},Fr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hr,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==ji&&(ji&&n.type==="mousemove"?(qr=n.screenX-ji.screenX,ao=n.screenY-ji.screenY):ao=qr=0,ji=n),qr)},movementY:function(n){return"movementY"in n?n.movementY:ao}}),eu=Jt(oo),Js=T({},oo,{dataTransfer:0}),nh=Jt(Js),ih=T({},Fr,{relatedTarget:0}),Zs=Jt(ih),tu=T({},ir,{animationName:0,elapsedTime:0,pseudoElement:0}),rh=Jt(tu),lo=T({},ir,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),sh=Jt(lo),ah=T({},ir,{data:0}),zi=Jt(ah),oh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},lh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ch(n){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(n):(n=uh[n])?!!s[n]:!1}function Hr(){return ch}var hn=T({},Fr,{key:function(n){if(n.key){var s=oh[n.key]||n.key;if(s!=="Unidentified")return s}return n.type==="keypress"?(n=Ws(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?lh[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hr,charCode:function(n){return n.type==="keypress"?Ws(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Ws(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),hh=Jt(hn),fh=T({},oo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rr=Jt(fh),h=T({},Fr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hr}),y=Jt(h),v=T({},ir,{propertyName:0,elapsedTime:0,pseudoElement:0}),S=Jt(v),z=T({},oo,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),H=Jt(z),se=T({},ir,{newState:0,oldState:0}),ke=Jt(se),St=[9,13,27,32],Xe=Hn&&"CompositionEvent"in window,gt=null;Hn&&"documentMode"in document&&(gt=document.documentMode);var Gn=Hn&&"TextEvent"in window&&!gt,Bi=Hn&&(!Xe||gt&&8<gt&&11>=gt),hi=" ",fi=!1;function ea(n,s){switch(n){case"keyup":return St.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function uo(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var co=!1;function wI(n,s){switch(n){case"compositionend":return uo(s);case"keypress":return s.which!==32?null:(fi=!0,hi);case"textInput":return n=s.data,n===hi&&fi?null:n;default:return null}}function SI(n,s){if(co)return n==="compositionend"||!Xe&&ea(n,s)?(n=Jl(),Xs=Wl=Li=null,co=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return Bi&&s.locale!=="ko"?null:s.data;default:return null}}var AI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function b_(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s==="input"?!!AI[n.type]:s==="textarea"}function T_(n,s,o,u){zr?Pi?Pi.push(u):Pi=[u]:zr=u,s=tf(s,"onChange"),0<s.length&&(o=new Ui("onChange","change",null,o,u),n.push({event:o,listeners:s}))}var nu=null,iu=null;function II(n){ib(n,0)}function dh(n){var s=Sn(n);if(Ks(s))return n}function E_(n,s){if(n==="change")return s}var w_=!1;if(Hn){var em;if(Hn){var tm="oninput"in document;if(!tm){var S_=document.createElement("div");S_.setAttribute("oninput","return;"),tm=typeof S_.oninput=="function"}em=tm}else em=!1;w_=em&&(!document.documentMode||9<document.documentMode)}function A_(){nu&&(nu.detachEvent("onpropertychange",I_),iu=nu=null)}function I_(n){if(n.propertyName==="value"&&dh(iu)){var s=[];T_(s,iu,n,qn(n)),Br(II,s)}}function xI(n,s,o){n==="focusin"?(A_(),nu=s,iu=o,nu.attachEvent("onpropertychange",I_)):n==="focusout"&&A_()}function RI(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return dh(iu)}function CI(n,s){if(n==="click")return dh(s)}function NI(n,s){if(n==="input"||n==="change")return dh(s)}function DI(n,s){return n===s&&(n!==0||1/n===1/s)||n!==n&&s!==s}var In=typeof Object.is=="function"?Object.is:DI;function ru(n,s){if(In(n,s))return!0;if(typeof n!="object"||n===null||typeof s!="object"||s===null)return!1;var o=Object.keys(n),u=Object.keys(s);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!Ct.call(s,f)||!In(n[f],s[f]))return!1}return!0}function x_(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function R_(n,s){var o=x_(n);n=0;for(var u;o;){if(o.nodeType===3){if(u=n+o.textContent.length,n<=s&&u>=s)return{node:o,offset:s-n};n=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=x_(o)}}function C_(n,s){return n&&s?n===s?!0:n&&n.nodeType===3?!1:s&&s.nodeType===3?C_(n,s.parentNode):"contains"in n?n.contains(s):n.compareDocumentPosition?!!(n.compareDocumentPosition(s)&16):!1:!1}function N_(n){n=n!=null&&n.ownerDocument!=null&&n.ownerDocument.defaultView!=null?n.ownerDocument.defaultView:window;for(var s=ki(n.document);s instanceof n.HTMLIFrameElement;){try{var o=typeof s.contentWindow.location.href=="string"}catch{o=!1}if(o)n=s.contentWindow;else break;s=ki(n.document)}return s}function nm(n){var s=n&&n.nodeName&&n.nodeName.toLowerCase();return s&&(s==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||s==="textarea"||n.contentEditable==="true")}var OI=Hn&&"documentMode"in document&&11>=document.documentMode,ho=null,im=null,su=null,rm=!1;function D_(n,s,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;rm||ho==null||ho!==ki(u)||(u=ho,"selectionStart"in u&&nm(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),su&&ru(su,u)||(su=u,u=tf(im,"onSelect"),0<u.length&&(s=new Ui("onSelect","select",null,s,o),n.push({event:s,listeners:u}),s.target=ho)))}function ta(n,s){var o={};return o[n.toLowerCase()]=s.toLowerCase(),o["Webkit"+n]="webkit"+s,o["Moz"+n]="moz"+s,o}var fo={animationend:ta("Animation","AnimationEnd"),animationiteration:ta("Animation","AnimationIteration"),animationstart:ta("Animation","AnimationStart"),transitionrun:ta("Transition","TransitionRun"),transitionstart:ta("Transition","TransitionStart"),transitioncancel:ta("Transition","TransitionCancel"),transitionend:ta("Transition","TransitionEnd")},sm={},O_={};Hn&&(O_=document.createElement("div").style,"AnimationEvent"in window||(delete fo.animationend.animation,delete fo.animationiteration.animation,delete fo.animationstart.animation),"TransitionEvent"in window||delete fo.transitionend.transition);function na(n){if(sm[n])return sm[n];if(!fo[n])return n;var s=fo[n],o;for(o in s)if(s.hasOwnProperty(o)&&o in O_)return sm[n]=s[o];return n}var V_=na("animationend"),M_=na("animationiteration"),k_=na("animationstart"),VI=na("transitionrun"),MI=na("transitionstart"),kI=na("transitioncancel"),P_=na("transitionend"),L_=new Map,am="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");am.push("scrollEnd");function di(n,s){L_.set(n,s),Vi(s,[n])}var mh=typeof reportError=="function"?reportError:function(n){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var s=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof n=="object"&&n!==null&&typeof n.message=="string"?String(n.message):String(n),error:n});if(!window.dispatchEvent(s))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",n);return}console.error(n)},Kn=[],mo=0,om=0;function gh(){for(var n=mo,s=om=mo=0;s<n;){var o=Kn[s];Kn[s++]=null;var u=Kn[s];Kn[s++]=null;var f=Kn[s];Kn[s++]=null;var m=Kn[s];if(Kn[s++]=null,u!==null&&f!==null){var _=u.pending;_===null?f.next=f:(f.next=_.next,_.next=f),u.pending=f}m!==0&&U_(o,f,m)}}function ph(n,s,o,u){Kn[mo++]=n,Kn[mo++]=s,Kn[mo++]=o,Kn[mo++]=u,om|=u,n.lanes|=u,n=n.alternate,n!==null&&(n.lanes|=u)}function lm(n,s,o,u){return ph(n,s,o,u),yh(n)}function ia(n,s){return ph(n,null,null,s),yh(n)}function U_(n,s,o){n.lanes|=o;var u=n.alternate;u!==null&&(u.lanes|=o);for(var f=!1,m=n.return;m!==null;)m.childLanes|=o,u=m.alternate,u!==null&&(u.childLanes|=o),m.tag===22&&(n=m.stateNode,n===null||n._visibility&1||(f=!0)),n=m,m=m.return;return n.tag===3?(m=n.stateNode,f&&s!==null&&(f=31-wt(o),n=m.hiddenUpdates,u=n[f],u===null?n[f]=[s]:u.push(s),s.lane=o|536870912),m):null}function yh(n){if(50<xu)throw xu=0,yg=null,Error(i(185));for(var s=n.return;s!==null;)n=s,s=n.return;return n.tag===3?n.stateNode:null}var go={};function PI(n,s,o,u){this.tag=n,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(n,s,o,u){return new PI(n,s,o,u)}function um(n){return n=n.prototype,!(!n||!n.isReactComponent)}function sr(n,s){var o=n.alternate;return o===null?(o=xn(n.tag,s,n.key,n.mode),o.elementType=n.elementType,o.type=n.type,o.stateNode=n.stateNode,o.alternate=n,n.alternate=o):(o.pendingProps=s,o.type=n.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=n.flags&65011712,o.childLanes=n.childLanes,o.lanes=n.lanes,o.child=n.child,o.memoizedProps=n.memoizedProps,o.memoizedState=n.memoizedState,o.updateQueue=n.updateQueue,s=n.dependencies,o.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},o.sibling=n.sibling,o.index=n.index,o.ref=n.ref,o.refCleanup=n.refCleanup,o}function j_(n,s){n.flags&=65011714;var o=n.alternate;return o===null?(n.childLanes=0,n.lanes=s,n.child=null,n.subtreeFlags=0,n.memoizedProps=null,n.memoizedState=null,n.updateQueue=null,n.dependencies=null,n.stateNode=null):(n.childLanes=o.childLanes,n.lanes=o.lanes,n.child=o.child,n.subtreeFlags=0,n.deletions=null,n.memoizedProps=o.memoizedProps,n.memoizedState=o.memoizedState,n.updateQueue=o.updateQueue,n.type=o.type,s=o.dependencies,n.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),n}function _h(n,s,o,u,f,m){var _=0;if(u=n,typeof n=="function")um(n)&&(_=1);else if(typeof n=="string")_=Bx(n,o,oe.current)?26:n==="html"||n==="head"||n==="body"?27:5;else e:switch(n){case R:return n=xn(31,o,s,f),n.elementType=R,n.lanes=m,n;case ee:return ra(o.children,f,m,s);case te:_=8,f|=24;break;case ce:return n=xn(12,o,s,f|2),n.elementType=ce,n.lanes=m,n;case Te:return n=xn(13,o,s,f),n.elementType=Te,n.lanes=m,n;case ve:return n=xn(19,o,s,f),n.elementType=ve,n.lanes=m,n;default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case ae:_=10;break e;case fe:_=9;break e;case Se:_=11;break e;case x:_=14;break e;case A:_=16,u=null;break e}_=29,o=Error(i(130,n===null?"null":typeof n,"")),u=null}return s=xn(_,o,s,f),s.elementType=n,s.type=u,s.lanes=m,s}function ra(n,s,o,u){return n=xn(7,n,u,s),n.lanes=o,n}function cm(n,s,o){return n=xn(6,n,null,s),n.lanes=o,n}function z_(n){var s=xn(18,null,null,0);return s.stateNode=n,s}function hm(n,s,o){return s=xn(4,n.children!==null?n.children:[],n.key,s),s.lanes=o,s.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},s}var B_=new WeakMap;function Yn(n,s){if(typeof n=="object"&&n!==null){var o=B_.get(n);return o!==void 0?o:(s={value:n,source:s,stack:Pl(s)},B_.set(n,s),s)}return{value:n,source:s,stack:Pl(s)}}var po=[],yo=0,vh=null,au=0,Qn=[],$n=0,Gr=null,Fi=1,qi="";function ar(n,s){po[yo++]=au,po[yo++]=vh,vh=n,au=s}function F_(n,s,o){Qn[$n++]=Fi,Qn[$n++]=qi,Qn[$n++]=Gr,Gr=n;var u=Fi;n=qi;var f=32-wt(u)-1;u&=~(1<<f),o+=1;var m=32-wt(s)+f;if(30<m){var _=f-f%5;m=(u&(1<<_)-1).toString(32),u>>=_,f-=_,Fi=1<<32-wt(s)+f|o<<f|u,qi=m+n}else Fi=1<<m|o<<f|u,qi=n}function fm(n){n.return!==null&&(ar(n,1),F_(n,1,0))}function dm(n){for(;n===vh;)vh=po[--yo],po[yo]=null,au=po[--yo],po[yo]=null;for(;n===Gr;)Gr=Qn[--$n],Qn[$n]=null,qi=Qn[--$n],Qn[$n]=null,Fi=Qn[--$n],Qn[$n]=null}function q_(n,s){Qn[$n++]=Fi,Qn[$n++]=qi,Qn[$n++]=Gr,Fi=s.id,qi=s.overflow,Gr=n}var Zt=null,dt=null,Ge=!1,Kr=null,Xn=!1,mm=Error(i(519));function Yr(n){var s=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ou(Yn(s,n)),mm}function H_(n){var s=n.stateNode,o=n.type,u=n.memoizedProps;switch(s[Dt]=n,s[Kt]=u,o){case"dialog":Be("cancel",s),Be("close",s);break;case"iframe":case"object":case"embed":Be("load",s);break;case"video":case"audio":for(o=0;o<Cu.length;o++)Be(Cu[o],s);break;case"source":Be("error",s);break;case"img":case"image":case"link":Be("error",s),Be("load",s);break;case"details":Be("toggle",s);break;case"input":Be("invalid",s),Jc(s,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Be("invalid",s);break;case"textarea":Be("invalid",s),Ur(s,u.value,u.defaultValue,u.children)}o=u.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||s.textContent===""+o||u.suppressHydrationWarning===!0||ob(s.textContent,o)?(u.popover!=null&&(Be("beforetoggle",s),Be("toggle",s)),u.onScroll!=null&&Be("scroll",s),u.onScrollEnd!=null&&Be("scrollend",s),u.onClick!=null&&(s.onclick=li),s=!0):s=!1,s||Yr(n,!0)}function G_(n){for(Zt=n.return;Zt;)switch(Zt.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:Zt=Zt.return}}function _o(n){if(n!==Zt)return!1;if(!Ge)return G_(n),Ge=!0,!1;var s=n.tag,o;if((o=s!==3&&s!==27)&&((o=s===5)&&(o=n.type,o=!(o!=="form"&&o!=="button")||Og(n.type,n.memoizedProps)),o=!o),o&&dt&&Yr(n),G_(n),s===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));dt=pb(n)}else if(s===31){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(317));dt=pb(n)}else s===27?(s=dt,os(n.type)?(n=Lg,Lg=null,dt=n):dt=s):dt=Zt?Jn(n.stateNode.nextSibling):null;return!0}function sa(){dt=Zt=null,Ge=!1}function gm(){var n=Kr;return n!==null&&(bn===null?bn=n:bn.push.apply(bn,n),Kr=null),n}function ou(n){Kr===null?Kr=[n]:Kr.push(n)}var pm=D(null),aa=null,or=null;function Qr(n,s,o){re(pm,s._currentValue),s._currentValue=o}function lr(n){n._currentValue=pm.current,X(pm)}function ym(n,s,o){for(;n!==null;){var u=n.alternate;if((n.childLanes&s)!==s?(n.childLanes|=s,u!==null&&(u.childLanes|=s)):u!==null&&(u.childLanes&s)!==s&&(u.childLanes|=s),n===o)break;n=n.return}}function _m(n,s,o,u){var f=n.child;for(f!==null&&(f.return=n);f!==null;){var m=f.dependencies;if(m!==null){var _=f.child;m=m.firstContext;e:for(;m!==null;){var E=m;m=f;for(var N=0;N<s.length;N++)if(E.context===s[N]){m.lanes|=o,E=m.alternate,E!==null&&(E.lanes|=o),ym(m.return,o,n),u||(_=null);break e}m=E.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(i(341));_.lanes|=o,m=_.alternate,m!==null&&(m.lanes|=o),ym(_,o,n),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===n){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function vo(n,s,o,u){n=null;for(var f=s,m=!1;f!==null;){if(!m){if((f.flags&524288)!==0)m=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(i(387));if(_=_.memoizedProps,_!==null){var E=f.type;In(f.pendingProps.value,_.value)||(n!==null?n.push(E):n=[E])}}else if(f===Ae.current){if(_=f.alternate,_===null)throw Error(i(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(n!==null?n.push(Mu):n=[Mu])}f=f.return}n!==null&&_m(s,n,o,u),s.flags|=262144}function bh(n){for(n=n.firstContext;n!==null;){if(!In(n.context._currentValue,n.memoizedValue))return!0;n=n.next}return!1}function oa(n){aa=n,or=null,n=n.dependencies,n!==null&&(n.firstContext=null)}function en(n){return K_(aa,n)}function Th(n,s){return aa===null&&oa(n),K_(n,s)}function K_(n,s){var o=s._currentValue;if(s={context:s,memoizedValue:o,next:null},or===null){if(n===null)throw Error(i(308));or=s,n.dependencies={lanes:0,firstContext:s},n.flags|=524288}else or=or.next=s;return o}var LI=typeof AbortController<"u"?AbortController:function(){var n=[],s=this.signal={aborted:!1,addEventListener:function(o,u){n.push(u)}};this.abort=function(){s.aborted=!0,n.forEach(function(o){return o()})}},UI=r.unstable_scheduleCallback,jI=r.unstable_NormalPriority,Mt={$$typeof:ae,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vm(){return{controller:new LI,data:new Map,refCount:0}}function lu(n){n.refCount--,n.refCount===0&&UI(jI,function(){n.controller.abort()})}var uu=null,bm=0,bo=0,To=null;function zI(n,s){if(uu===null){var o=uu=[];bm=0,bo=wg(),To={status:"pending",value:void 0,then:function(u){o.push(u)}}}return bm++,s.then(Y_,Y_),s}function Y_(){if(--bm===0&&uu!==null){To!==null&&(To.status="fulfilled");var n=uu;uu=null,bo=0,To=null;for(var s=0;s<n.length;s++)(0,n[s])()}}function BI(n,s){var o=[],u={status:"pending",value:null,reason:null,then:function(f){o.push(f)}};return n.then(function(){u.status="fulfilled",u.value=s;for(var f=0;f<o.length;f++)(0,o[f])(s)},function(f){for(u.status="rejected",u.reason=f,f=0;f<o.length;f++)(0,o[f])(void 0)}),u}var Q_=L.S;L.S=function(n,s){D0=cn(),typeof s=="object"&&s!==null&&typeof s.then=="function"&&zI(n,s),Q_!==null&&Q_(n,s)};var la=D(null);function Tm(){var n=la.current;return n!==null?n:ht.pooledCache}function Eh(n,s){s===null?re(la,la.current):re(la,s.pool)}function $_(){var n=Tm();return n===null?null:{parent:Mt._currentValue,pool:n}}var Eo=Error(i(460)),Em=Error(i(474)),wh=Error(i(542)),Sh={then:function(){}};function X_(n){return n=n.status,n==="fulfilled"||n==="rejected"}function W_(n,s,o){switch(o=n[o],o===void 0?n.push(s):o!==s&&(s.then(li,li),s=o),s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Z_(n),n;default:if(typeof s.status=="string")s.then(li,li);else{if(n=ht,n!==null&&100<n.shellSuspendCounter)throw Error(i(482));n=s,n.status="pending",n.then(function(u){if(s.status==="pending"){var f=s;f.status="fulfilled",f.value=u}},function(u){if(s.status==="pending"){var f=s;f.status="rejected",f.reason=u}})}switch(s.status){case"fulfilled":return s.value;case"rejected":throw n=s.reason,Z_(n),n}throw ca=s,Eo}}function ua(n){try{var s=n._init;return s(n._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(ca=o,Eo):o}}var ca=null;function J_(){if(ca===null)throw Error(i(459));var n=ca;return ca=null,n}function Z_(n){if(n===Eo||n===wh)throw Error(i(483))}var wo=null,cu=0;function Ah(n){var s=cu;return cu+=1,wo===null&&(wo=[]),W_(wo,n,s)}function hu(n,s){s=s.props.ref,n.ref=s!==void 0?s:null}function Ih(n,s){throw s.$$typeof===I?Error(i(525)):(n=Object.prototype.toString.call(s),Error(i(31,n==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":n)))}function ev(n){function s(P,V){if(n){var B=P.deletions;B===null?(P.deletions=[V],P.flags|=16):B.push(V)}}function o(P,V){if(!n)return null;for(;V!==null;)s(P,V),V=V.sibling;return null}function u(P){for(var V=new Map;P!==null;)P.key!==null?V.set(P.key,P):V.set(P.index,P),P=P.sibling;return V}function f(P,V){return P=sr(P,V),P.index=0,P.sibling=null,P}function m(P,V,B){return P.index=B,n?(B=P.alternate,B!==null?(B=B.index,B<V?(P.flags|=67108866,V):B):(P.flags|=67108866,V)):(P.flags|=1048576,V)}function _(P){return n&&P.alternate===null&&(P.flags|=67108866),P}function E(P,V,B,$){return V===null||V.tag!==6?(V=cm(B,P.mode,$),V.return=P,V):(V=f(V,B),V.return=P,V)}function N(P,V,B,$){var Ee=B.type;return Ee===ee?Y(P,V,B.props.children,$,B.key):V!==null&&(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&ua(Ee)===V.type)?(V=f(V,B.props),hu(V,B),V.return=P,V):(V=_h(B.type,B.key,B.props,null,P.mode,$),hu(V,B),V.return=P,V)}function F(P,V,B,$){return V===null||V.tag!==4||V.stateNode.containerInfo!==B.containerInfo||V.stateNode.implementation!==B.implementation?(V=hm(B,P.mode,$),V.return=P,V):(V=f(V,B.children||[]),V.return=P,V)}function Y(P,V,B,$,Ee){return V===null||V.tag!==7?(V=ra(B,P.mode,$,Ee),V.return=P,V):(V=f(V,B),V.return=P,V)}function J(P,V,B){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return V=cm(""+V,P.mode,B),V.return=P,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case j:return B=_h(V.type,V.key,V.props,null,P.mode,B),hu(B,V),B.return=P,B;case Q:return V=hm(V,P.mode,B),V.return=P,V;case A:return V=ua(V),J(P,V,B)}if(ie(V)||k(V))return V=ra(V,P.mode,B,null),V.return=P,V;if(typeof V.then=="function")return J(P,Ah(V),B);if(V.$$typeof===ae)return J(P,Th(P,V),B);Ih(P,V)}return null}function q(P,V,B,$){var Ee=V!==null?V.key:null;if(typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint")return Ee!==null?null:E(P,V,""+B,$);if(typeof B=="object"&&B!==null){switch(B.$$typeof){case j:return B.key===Ee?N(P,V,B,$):null;case Q:return B.key===Ee?F(P,V,B,$):null;case A:return B=ua(B),q(P,V,B,$)}if(ie(B)||k(B))return Ee!==null?null:Y(P,V,B,$,null);if(typeof B.then=="function")return q(P,V,Ah(B),$);if(B.$$typeof===ae)return q(P,V,Th(P,B),$);Ih(P,B)}return null}function G(P,V,B,$,Ee){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return P=P.get(B)||null,E(V,P,""+$,Ee);if(typeof $=="object"&&$!==null){switch($.$$typeof){case j:return P=P.get($.key===null?B:$.key)||null,N(V,P,$,Ee);case Q:return P=P.get($.key===null?B:$.key)||null,F(V,P,$,Ee);case A:return $=ua($),G(P,V,B,$,Ee)}if(ie($)||k($))return P=P.get(B)||null,Y(V,P,$,Ee,null);if(typeof $.then=="function")return G(P,V,B,Ah($),Ee);if($.$$typeof===ae)return G(P,V,B,Th(V,$),Ee);Ih(V,$)}return null}function me(P,V,B,$){for(var Ee=null,Qe=null,_e=V,Le=V=0,qe=null;_e!==null&&Le<B.length;Le++){_e.index>Le?(qe=_e,_e=null):qe=_e.sibling;var $e=q(P,_e,B[Le],$);if($e===null){_e===null&&(_e=qe);break}n&&_e&&$e.alternate===null&&s(P,_e),V=m($e,V,Le),Qe===null?Ee=$e:Qe.sibling=$e,Qe=$e,_e=qe}if(Le===B.length)return o(P,_e),Ge&&ar(P,Le),Ee;if(_e===null){for(;Le<B.length;Le++)_e=J(P,B[Le],$),_e!==null&&(V=m(_e,V,Le),Qe===null?Ee=_e:Qe.sibling=_e,Qe=_e);return Ge&&ar(P,Le),Ee}for(_e=u(_e);Le<B.length;Le++)qe=G(_e,P,Le,B[Le],$),qe!==null&&(n&&qe.alternate!==null&&_e.delete(qe.key===null?Le:qe.key),V=m(qe,V,Le),Qe===null?Ee=qe:Qe.sibling=qe,Qe=qe);return n&&_e.forEach(function(fs){return s(P,fs)}),Ge&&ar(P,Le),Ee}function xe(P,V,B,$){if(B==null)throw Error(i(151));for(var Ee=null,Qe=null,_e=V,Le=V=0,qe=null,$e=B.next();_e!==null&&!$e.done;Le++,$e=B.next()){_e.index>Le?(qe=_e,_e=null):qe=_e.sibling;var fs=q(P,_e,$e.value,$);if(fs===null){_e===null&&(_e=qe);break}n&&_e&&fs.alternate===null&&s(P,_e),V=m(fs,V,Le),Qe===null?Ee=fs:Qe.sibling=fs,Qe=fs,_e=qe}if($e.done)return o(P,_e),Ge&&ar(P,Le),Ee;if(_e===null){for(;!$e.done;Le++,$e=B.next())$e=J(P,$e.value,$),$e!==null&&(V=m($e,V,Le),Qe===null?Ee=$e:Qe.sibling=$e,Qe=$e);return Ge&&ar(P,Le),Ee}for(_e=u(_e);!$e.done;Le++,$e=B.next())$e=G(_e,P,Le,$e.value,$),$e!==null&&(n&&$e.alternate!==null&&_e.delete($e.key===null?Le:$e.key),V=m($e,V,Le),Qe===null?Ee=$e:Qe.sibling=$e,Qe=$e);return n&&_e.forEach(function(Jx){return s(P,Jx)}),Ge&&ar(P,Le),Ee}function lt(P,V,B,$){if(typeof B=="object"&&B!==null&&B.type===ee&&B.key===null&&(B=B.props.children),typeof B=="object"&&B!==null){switch(B.$$typeof){case j:e:{for(var Ee=B.key;V!==null;){if(V.key===Ee){if(Ee=B.type,Ee===ee){if(V.tag===7){o(P,V.sibling),$=f(V,B.props.children),$.return=P,P=$;break e}}else if(V.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===A&&ua(Ee)===V.type){o(P,V.sibling),$=f(V,B.props),hu($,B),$.return=P,P=$;break e}o(P,V);break}else s(P,V);V=V.sibling}B.type===ee?($=ra(B.props.children,P.mode,$,B.key),$.return=P,P=$):($=_h(B.type,B.key,B.props,null,P.mode,$),hu($,B),$.return=P,P=$)}return _(P);case Q:e:{for(Ee=B.key;V!==null;){if(V.key===Ee)if(V.tag===4&&V.stateNode.containerInfo===B.containerInfo&&V.stateNode.implementation===B.implementation){o(P,V.sibling),$=f(V,B.children||[]),$.return=P,P=$;break e}else{o(P,V);break}else s(P,V);V=V.sibling}$=hm(B,P.mode,$),$.return=P,P=$}return _(P);case A:return B=ua(B),lt(P,V,B,$)}if(ie(B))return me(P,V,B,$);if(k(B)){if(Ee=k(B),typeof Ee!="function")throw Error(i(150));return B=Ee.call(B),xe(P,V,B,$)}if(typeof B.then=="function")return lt(P,V,Ah(B),$);if(B.$$typeof===ae)return lt(P,V,Th(P,B),$);Ih(P,B)}return typeof B=="string"&&B!==""||typeof B=="number"||typeof B=="bigint"?(B=""+B,V!==null&&V.tag===6?(o(P,V.sibling),$=f(V,B),$.return=P,P=$):(o(P,V),$=cm(B,P.mode,$),$.return=P,P=$),_(P)):o(P,V)}return function(P,V,B,$){try{cu=0;var Ee=lt(P,V,B,$);return wo=null,Ee}catch(_e){if(_e===Eo||_e===wh)throw _e;var Qe=xn(29,_e,null,P.mode);return Qe.lanes=$,Qe.return=P,Qe}finally{}}}var ha=ev(!0),tv=ev(!1),$r=!1;function wm(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sm(n,s){n=n.updateQueue,s.updateQueue===n&&(s.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,callbacks:null})}function Xr(n){return{lane:n,tag:0,payload:null,callback:null,next:null}}function Wr(n,s,o){var u=n.updateQueue;if(u===null)return null;if(u=u.shared,(We&2)!==0){var f=u.pending;return f===null?s.next=s:(s.next=f.next,f.next=s),u.pending=s,s=yh(n),U_(n,null,o),s}return ph(n,u,s,o),yh(n)}function fu(n,s,o){if(s=s.updateQueue,s!==null&&(s=s.shared,(o&4194048)!==0)){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,jl(n,o)}}function Am(n,s){var o=n.updateQueue,u=n.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,m=null;if(o=o.firstBaseUpdate,o!==null){do{var _={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};m===null?f=m=_:m=m.next=_,o=o.next}while(o!==null);m===null?f=m=s:m=m.next=s}else f=m=s;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:m,shared:u.shared,callbacks:u.callbacks},n.updateQueue=o;return}n=o.lastBaseUpdate,n===null?o.firstBaseUpdate=s:n.next=s,o.lastBaseUpdate=s}var Im=!1;function du(){if(Im){var n=To;if(n!==null)throw n}}function mu(n,s,o,u){Im=!1;var f=n.updateQueue;$r=!1;var m=f.firstBaseUpdate,_=f.lastBaseUpdate,E=f.shared.pending;if(E!==null){f.shared.pending=null;var N=E,F=N.next;N.next=null,_===null?m=F:_.next=F,_=N;var Y=n.alternate;Y!==null&&(Y=Y.updateQueue,E=Y.lastBaseUpdate,E!==_&&(E===null?Y.firstBaseUpdate=F:E.next=F,Y.lastBaseUpdate=N))}if(m!==null){var J=f.baseState;_=0,Y=F=N=null,E=m;do{var q=E.lane&-536870913,G=q!==E.lane;if(G?(Fe&q)===q:(u&q)===q){q!==0&&q===bo&&(Im=!0),Y!==null&&(Y=Y.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});e:{var me=n,xe=E;q=s;var lt=o;switch(xe.tag){case 1:if(me=xe.payload,typeof me=="function"){J=me.call(lt,J,q);break e}J=me;break e;case 3:me.flags=me.flags&-65537|128;case 0:if(me=xe.payload,q=typeof me=="function"?me.call(lt,J,q):me,q==null)break e;J=T({},J,q);break e;case 2:$r=!0}}q=E.callback,q!==null&&(n.flags|=64,G&&(n.flags|=8192),G=f.callbacks,G===null?f.callbacks=[q]:G.push(q))}else G={lane:q,tag:E.tag,payload:E.payload,callback:E.callback,next:null},Y===null?(F=Y=G,N=J):Y=Y.next=G,_|=q;if(E=E.next,E===null){if(E=f.shared.pending,E===null)break;G=E,E=G.next,G.next=null,f.lastBaseUpdate=G,f.shared.pending=null}}while(!0);Y===null&&(N=J),f.baseState=N,f.firstBaseUpdate=F,f.lastBaseUpdate=Y,m===null&&(f.shared.lanes=0),ns|=_,n.lanes=_,n.memoizedState=J}}function nv(n,s){if(typeof n!="function")throw Error(i(191,n));n.call(s)}function iv(n,s){var o=n.callbacks;if(o!==null)for(n.callbacks=null,n=0;n<o.length;n++)nv(o[n],s)}var So=D(null),xh=D(0);function rv(n,s){n=yr,re(xh,n),re(So,s),yr=n|s.baseLanes}function xm(){re(xh,yr),re(So,So.current)}function Rm(){yr=xh.current,X(So),X(xh)}var Rn=D(null),Wn=null;function Jr(n){var s=n.alternate;re(At,At.current&1),re(Rn,n),Wn===null&&(s===null||So.current!==null||s.memoizedState!==null)&&(Wn=n)}function Cm(n){re(At,At.current),re(Rn,n),Wn===null&&(Wn=n)}function sv(n){n.tag===22?(re(At,At.current),re(Rn,n),Wn===null&&(Wn=n)):Zr()}function Zr(){re(At,At.current),re(Rn,Rn.current)}function Cn(n){X(Rn),Wn===n&&(Wn=null),X(At)}var At=D(0);function Rh(n){for(var s=n;s!==null;){if(s.tag===13){var o=s.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||kg(o)||Pg(o)))return s}else if(s.tag===19&&(s.memoizedProps.revealOrder==="forwards"||s.memoizedProps.revealOrder==="backwards"||s.memoizedProps.revealOrder==="unstable_legacy-backwards"||s.memoizedProps.revealOrder==="together")){if((s.flags&128)!==0)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var ur=0,Pe=null,at=null,kt=null,Ch=!1,Ao=!1,fa=!1,Nh=0,gu=0,Io=null,FI=0;function bt(){throw Error(i(321))}function Nm(n,s){if(s===null)return!1;for(var o=0;o<s.length&&o<n.length;o++)if(!In(n[o],s[o]))return!1;return!0}function Dm(n,s,o,u,f,m){return ur=m,Pe=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,L.H=n===null||n.memoizedState===null?Fv:Km,fa=!1,m=o(u,f),fa=!1,Ao&&(m=ov(s,o,u,f)),av(n),m}function av(n){L.H=_u;var s=at!==null&&at.next!==null;if(ur=0,kt=at=Pe=null,Ch=!1,gu=0,Io=null,s)throw Error(i(300));n===null||Pt||(n=n.dependencies,n!==null&&bh(n)&&(Pt=!0))}function ov(n,s,o,u){Pe=n;var f=0;do{if(Ao&&(Io=null),gu=0,Ao=!1,25<=f)throw Error(i(301));if(f+=1,kt=at=null,n.updateQueue!=null){var m=n.updateQueue;m.lastEffect=null,m.events=null,m.stores=null,m.memoCache!=null&&(m.memoCache.index=0)}L.H=qv,m=s(o,u)}while(Ao);return m}function qI(){var n=L.H,s=n.useState()[0];return s=typeof s.then=="function"?pu(s):s,n=n.useState()[0],(at!==null?at.memoizedState:null)!==n&&(Pe.flags|=1024),s}function Om(){var n=Nh!==0;return Nh=0,n}function Vm(n,s,o){s.updateQueue=n.updateQueue,s.flags&=-2053,n.lanes&=~o}function Mm(n){if(Ch){for(n=n.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Ch=!1}ur=0,kt=at=Pe=null,Ao=!1,gu=Nh=0,Io=null}function fn(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kt===null?Pe.memoizedState=kt=n:kt=kt.next=n,kt}function It(){if(at===null){var n=Pe.alternate;n=n!==null?n.memoizedState:null}else n=at.next;var s=kt===null?Pe.memoizedState:kt.next;if(s!==null)kt=s,at=n;else{if(n===null)throw Pe.alternate===null?Error(i(467)):Error(i(310));at=n,n={memoizedState:at.memoizedState,baseState:at.baseState,baseQueue:at.baseQueue,queue:at.queue,next:null},kt===null?Pe.memoizedState=kt=n:kt=kt.next=n}return kt}function Dh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function pu(n){var s=gu;return gu+=1,Io===null&&(Io=[]),n=W_(Io,n,s),s=Pe,(kt===null?s.memoizedState:kt.next)===null&&(s=s.alternate,L.H=s===null||s.memoizedState===null?Fv:Km),n}function Oh(n){if(n!==null&&typeof n=="object"){if(typeof n.then=="function")return pu(n);if(n.$$typeof===ae)return en(n)}throw Error(i(438,String(n)))}function km(n){var s=null,o=Pe.updateQueue;if(o!==null&&(s=o.memoCache),s==null){var u=Pe.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(s={data:u.data.map(function(f){return f.slice()}),index:0})))}if(s==null&&(s={data:[],index:0}),o===null&&(o=Dh(),Pe.updateQueue=o),o.memoCache=s,o=s.data[s.index],o===void 0)for(o=s.data[s.index]=Array(n),u=0;u<n;u++)o[u]=M;return s.index++,o}function cr(n,s){return typeof s=="function"?s(n):s}function Vh(n){var s=It();return Pm(s,at,n)}function Pm(n,s,o){var u=n.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=o;var f=n.baseQueue,m=u.pending;if(m!==null){if(f!==null){var _=f.next;f.next=m.next,m.next=_}s.baseQueue=f=m,u.pending=null}if(m=n.baseState,f===null)n.memoizedState=m;else{s=f.next;var E=_=null,N=null,F=s,Y=!1;do{var J=F.lane&-536870913;if(J!==F.lane?(Fe&J)===J:(ur&J)===J){var q=F.revertLane;if(q===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null}),J===bo&&(Y=!0);else if((ur&q)===q){F=F.next,q===bo&&(Y=!0);continue}else J={lane:0,revertLane:F.revertLane,gesture:null,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(E=N=J,_=m):N=N.next=J,Pe.lanes|=q,ns|=q;J=F.action,fa&&o(m,J),m=F.hasEagerState?F.eagerState:o(m,J)}else q={lane:J,revertLane:F.revertLane,gesture:F.gesture,action:F.action,hasEagerState:F.hasEagerState,eagerState:F.eagerState,next:null},N===null?(E=N=q,_=m):N=N.next=q,Pe.lanes|=J,ns|=J;F=F.next}while(F!==null&&F!==s);if(N===null?_=m:N.next=E,!In(m,n.memoizedState)&&(Pt=!0,Y&&(o=To,o!==null)))throw o;n.memoizedState=m,n.baseState=_,n.baseQueue=N,u.lastRenderedState=m}return f===null&&(u.lanes=0),[n.memoizedState,u.dispatch]}function Lm(n){var s=It(),o=s.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=n;var u=o.dispatch,f=o.pending,m=s.memoizedState;if(f!==null){o.pending=null;var _=f=f.next;do m=n(m,_.action),_=_.next;while(_!==f);In(m,s.memoizedState)||(Pt=!0),s.memoizedState=m,s.baseQueue===null&&(s.baseState=m),o.lastRenderedState=m}return[m,u]}function lv(n,s,o){var u=Pe,f=It(),m=Ge;if(m){if(o===void 0)throw Error(i(407));o=o()}else o=s();var _=!In((at||f).memoizedState,o);if(_&&(f.memoizedState=o,Pt=!0),f=f.queue,zm(hv.bind(null,u,f,n),[n]),f.getSnapshot!==s||_||kt!==null&&kt.memoizedState.tag&1){if(u.flags|=2048,xo(9,{destroy:void 0},cv.bind(null,u,f,o,s),null),ht===null)throw Error(i(349));m||(ur&127)!==0||uv(u,s,o)}return o}function uv(n,s,o){n.flags|=16384,n={getSnapshot:s,value:o},s=Pe.updateQueue,s===null?(s=Dh(),Pe.updateQueue=s,s.stores=[n]):(o=s.stores,o===null?s.stores=[n]:o.push(n))}function cv(n,s,o,u){s.value=o,s.getSnapshot=u,fv(s)&&dv(n)}function hv(n,s,o){return o(function(){fv(s)&&dv(n)})}function fv(n){var s=n.getSnapshot;n=n.value;try{var o=s();return!In(n,o)}catch{return!0}}function dv(n){var s=ia(n,2);s!==null&&Tn(s,n,2)}function Um(n){var s=fn();if(typeof n=="function"){var o=n;if(n=o(),fa){Bn(!0);try{o()}finally{Bn(!1)}}}return s.memoizedState=s.baseState=n,s.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:n},s}function mv(n,s,o,u){return n.baseState=o,Pm(n,at,typeof u=="function"?u:cr)}function HI(n,s,o,u,f){if(Ph(n))throw Error(i(485));if(n=s.action,n!==null){var m={payload:f,action:n,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){m.listeners.push(_)}};L.T!==null?o(!0):m.isTransition=!1,u(m),o=s.pending,o===null?(m.next=s.pending=m,gv(s,m)):(m.next=o.next,s.pending=o.next=m)}}function gv(n,s){var o=s.action,u=s.payload,f=n.state;if(s.isTransition){var m=L.T,_={};L.T=_;try{var E=o(f,u),N=L.S;N!==null&&N(_,E),pv(n,s,E)}catch(F){jm(n,s,F)}finally{m!==null&&_.types!==null&&(m.types=_.types),L.T=m}}else try{m=o(f,u),pv(n,s,m)}catch(F){jm(n,s,F)}}function pv(n,s,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(u){yv(n,s,u)},function(u){return jm(n,s,u)}):yv(n,s,o)}function yv(n,s,o){s.status="fulfilled",s.value=o,_v(s),n.state=o,s=n.pending,s!==null&&(o=s.next,o===s?n.pending=null:(o=o.next,s.next=o,gv(n,o)))}function jm(n,s,o){var u=n.pending;if(n.pending=null,u!==null){u=u.next;do s.status="rejected",s.reason=o,_v(s),s=s.next;while(s!==u)}n.action=null}function _v(n){n=n.listeners;for(var s=0;s<n.length;s++)(0,n[s])()}function vv(n,s){return s}function bv(n,s){if(Ge){var o=ht.formState;if(o!==null){e:{var u=Pe;if(Ge){if(dt){t:{for(var f=dt,m=Xn;f.nodeType!==8;){if(!m){f=null;break t}if(f=Jn(f.nextSibling),f===null){f=null;break t}}m=f.data,f=m==="F!"||m==="F"?f:null}if(f){dt=Jn(f.nextSibling),u=f.data==="F!";break e}}Yr(u)}u=!1}u&&(s=o[0])}}return o=fn(),o.memoizedState=o.baseState=s,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:vv,lastRenderedState:s},o.queue=u,o=jv.bind(null,Pe,u),u.dispatch=o,u=Um(!1),m=Gm.bind(null,Pe,!1,u.queue),u=fn(),f={state:s,dispatch:null,action:n,pending:null},u.queue=f,o=HI.bind(null,Pe,f,m,o),f.dispatch=o,u.memoizedState=n,[s,o,!1]}function Tv(n){var s=It();return Ev(s,at,n)}function Ev(n,s,o){if(s=Pm(n,s,vv)[0],n=Vh(cr)[0],typeof s=="object"&&s!==null&&typeof s.then=="function")try{var u=pu(s)}catch(_){throw _===Eo?wh:_}else u=s;s=It();var f=s.queue,m=f.dispatch;return o!==s.memoizedState&&(Pe.flags|=2048,xo(9,{destroy:void 0},GI.bind(null,f,o),null)),[u,m,n]}function GI(n,s){n.action=s}function wv(n){var s=It(),o=at;if(o!==null)return Ev(s,o,n);It(),s=s.memoizedState,o=It();var u=o.queue.dispatch;return o.memoizedState=n,[s,u,!1]}function xo(n,s,o,u){return n={tag:n,create:o,deps:u,inst:s,next:null},s=Pe.updateQueue,s===null&&(s=Dh(),Pe.updateQueue=s),o=s.lastEffect,o===null?s.lastEffect=n.next=n:(u=o.next,o.next=n,n.next=u,s.lastEffect=n),n}function Sv(){return It().memoizedState}function Mh(n,s,o,u){var f=fn();Pe.flags|=n,f.memoizedState=xo(1|s,{destroy:void 0},o,u===void 0?null:u)}function kh(n,s,o,u){var f=It();u=u===void 0?null:u;var m=f.memoizedState.inst;at!==null&&u!==null&&Nm(u,at.memoizedState.deps)?f.memoizedState=xo(s,m,o,u):(Pe.flags|=n,f.memoizedState=xo(1|s,m,o,u))}function Av(n,s){Mh(8390656,8,n,s)}function zm(n,s){kh(2048,8,n,s)}function KI(n){Pe.flags|=4;var s=Pe.updateQueue;if(s===null)s=Dh(),Pe.updateQueue=s,s.events=[n];else{var o=s.events;o===null?s.events=[n]:o.push(n)}}function Iv(n){var s=It().memoizedState;return KI({ref:s,nextImpl:n}),function(){if((We&2)!==0)throw Error(i(440));return s.impl.apply(void 0,arguments)}}function xv(n,s){return kh(4,2,n,s)}function Rv(n,s){return kh(4,4,n,s)}function Cv(n,s){if(typeof s=="function"){n=n();var o=s(n);return function(){typeof o=="function"?o():s(null)}}if(s!=null)return n=n(),s.current=n,function(){s.current=null}}function Nv(n,s,o){o=o!=null?o.concat([n]):null,kh(4,4,Cv.bind(null,s,n),o)}function Bm(){}function Dv(n,s){var o=It();s=s===void 0?null:s;var u=o.memoizedState;return s!==null&&Nm(s,u[1])?u[0]:(o.memoizedState=[n,s],n)}function Ov(n,s){var o=It();s=s===void 0?null:s;var u=o.memoizedState;if(s!==null&&Nm(s,u[1]))return u[0];if(u=n(),fa){Bn(!0);try{n()}finally{Bn(!1)}}return o.memoizedState=[u,s],u}function Fm(n,s,o){return o===void 0||(ur&1073741824)!==0&&(Fe&261930)===0?n.memoizedState=s:(n.memoizedState=o,n=V0(),Pe.lanes|=n,ns|=n,o)}function Vv(n,s,o,u){return In(o,s)?o:So.current!==null?(n=Fm(n,o,u),In(n,s)||(Pt=!0),n):(ur&42)===0||(ur&1073741824)!==0&&(Fe&261930)===0?(Pt=!0,n.memoizedState=o):(n=V0(),Pe.lanes|=n,ns|=n,s)}function Mv(n,s,o,u,f){var m=W.p;W.p=m!==0&&8>m?m:8;var _=L.T,E={};L.T=E,Gm(n,!1,s,o);try{var N=f(),F=L.S;if(F!==null&&F(E,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var Y=BI(N,u);yu(n,s,Y,On(n))}else yu(n,s,u,On(n))}catch(J){yu(n,s,{then:function(){},status:"rejected",reason:J},On())}finally{W.p=m,_!==null&&E.types!==null&&(_.types=E.types),L.T=_}}function YI(){}function qm(n,s,o,u){if(n.tag!==5)throw Error(i(476));var f=kv(n).queue;Mv(n,f,s,K,o===null?YI:function(){return Pv(n),o(u)})}function kv(n){var s=n.memoizedState;if(s!==null)return s;s={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:K},next:null};var o={};return s.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cr,lastRenderedState:o},next:null},n.memoizedState=s,n=n.alternate,n!==null&&(n.memoizedState=s),s}function Pv(n){var s=kv(n);s.next===null&&(s=n.alternate.memoizedState),yu(n,s.next.queue,{},On())}function Hm(){return en(Mu)}function Lv(){return It().memoizedState}function Uv(){return It().memoizedState}function QI(n){for(var s=n.return;s!==null;){switch(s.tag){case 24:case 3:var o=On();n=Xr(o);var u=Wr(s,n,o);u!==null&&(Tn(u,s,o),fu(u,s,o)),s={cache:vm()},n.payload=s;return}s=s.return}}function $I(n,s,o){var u=On();o={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},Ph(n)?zv(s,o):(o=lm(n,s,o,u),o!==null&&(Tn(o,n,u),Bv(o,s,u)))}function jv(n,s,o){var u=On();yu(n,s,o,u)}function yu(n,s,o,u){var f={lane:u,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(Ph(n))zv(s,f);else{var m=n.alternate;if(n.lanes===0&&(m===null||m.lanes===0)&&(m=s.lastRenderedReducer,m!==null))try{var _=s.lastRenderedState,E=m(_,o);if(f.hasEagerState=!0,f.eagerState=E,In(E,_))return ph(n,s,f,0),ht===null&&gh(),!1}catch{}finally{}if(o=lm(n,s,f,u),o!==null)return Tn(o,n,u),Bv(o,s,u),!0}return!1}function Gm(n,s,o,u){if(u={lane:2,revertLane:wg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},Ph(n)){if(s)throw Error(i(479))}else s=lm(n,o,u,2),s!==null&&Tn(s,n,2)}function Ph(n){var s=n.alternate;return n===Pe||s!==null&&s===Pe}function zv(n,s){Ao=Ch=!0;var o=n.pending;o===null?s.next=s:(s.next=o.next,o.next=s),n.pending=s}function Bv(n,s,o){if((o&4194048)!==0){var u=s.lanes;u&=n.pendingLanes,o|=u,s.lanes=o,jl(n,o)}}var _u={readContext:en,use:Oh,useCallback:bt,useContext:bt,useEffect:bt,useImperativeHandle:bt,useLayoutEffect:bt,useInsertionEffect:bt,useMemo:bt,useReducer:bt,useRef:bt,useState:bt,useDebugValue:bt,useDeferredValue:bt,useTransition:bt,useSyncExternalStore:bt,useId:bt,useHostTransitionStatus:bt,useFormState:bt,useActionState:bt,useOptimistic:bt,useMemoCache:bt,useCacheRefresh:bt};_u.useEffectEvent=bt;var Fv={readContext:en,use:Oh,useCallback:function(n,s){return fn().memoizedState=[n,s===void 0?null:s],n},useContext:en,useEffect:Av,useImperativeHandle:function(n,s,o){o=o!=null?o.concat([n]):null,Mh(4194308,4,Cv.bind(null,s,n),o)},useLayoutEffect:function(n,s){return Mh(4194308,4,n,s)},useInsertionEffect:function(n,s){Mh(4,2,n,s)},useMemo:function(n,s){var o=fn();s=s===void 0?null:s;var u=n();if(fa){Bn(!0);try{n()}finally{Bn(!1)}}return o.memoizedState=[u,s],u},useReducer:function(n,s,o){var u=fn();if(o!==void 0){var f=o(s);if(fa){Bn(!0);try{o(s)}finally{Bn(!1)}}}else f=s;return u.memoizedState=u.baseState=f,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:f},u.queue=n,n=n.dispatch=$I.bind(null,Pe,n),[u.memoizedState,n]},useRef:function(n){var s=fn();return n={current:n},s.memoizedState=n},useState:function(n){n=Um(n);var s=n.queue,o=jv.bind(null,Pe,s);return s.dispatch=o,[n.memoizedState,o]},useDebugValue:Bm,useDeferredValue:function(n,s){var o=fn();return Fm(o,n,s)},useTransition:function(){var n=Um(!1);return n=Mv.bind(null,Pe,n.queue,!0,!1),fn().memoizedState=n,[!1,n]},useSyncExternalStore:function(n,s,o){var u=Pe,f=fn();if(Ge){if(o===void 0)throw Error(i(407));o=o()}else{if(o=s(),ht===null)throw Error(i(349));(Fe&127)!==0||uv(u,s,o)}f.memoizedState=o;var m={value:o,getSnapshot:s};return f.queue=m,Av(hv.bind(null,u,m,n),[n]),u.flags|=2048,xo(9,{destroy:void 0},cv.bind(null,u,m,o,s),null),o},useId:function(){var n=fn(),s=ht.identifierPrefix;if(Ge){var o=qi,u=Fi;o=(u&~(1<<32-wt(u)-1)).toString(32)+o,s="_"+s+"R_"+o,o=Nh++,0<o&&(s+="H"+o.toString(32)),s+="_"}else o=FI++,s="_"+s+"r_"+o.toString(32)+"_";return n.memoizedState=s},useHostTransitionStatus:Hm,useFormState:bv,useActionState:bv,useOptimistic:function(n){var s=fn();s.memoizedState=s.baseState=n;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return s.queue=o,s=Gm.bind(null,Pe,!0,o),o.dispatch=s,[n,s]},useMemoCache:km,useCacheRefresh:function(){return fn().memoizedState=QI.bind(null,Pe)},useEffectEvent:function(n){var s=fn(),o={impl:n};return s.memoizedState=o,function(){if((We&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Km={readContext:en,use:Oh,useCallback:Dv,useContext:en,useEffect:zm,useImperativeHandle:Nv,useInsertionEffect:xv,useLayoutEffect:Rv,useMemo:Ov,useReducer:Vh,useRef:Sv,useState:function(){return Vh(cr)},useDebugValue:Bm,useDeferredValue:function(n,s){var o=It();return Vv(o,at.memoizedState,n,s)},useTransition:function(){var n=Vh(cr)[0],s=It().memoizedState;return[typeof n=="boolean"?n:pu(n),s]},useSyncExternalStore:lv,useId:Lv,useHostTransitionStatus:Hm,useFormState:Tv,useActionState:Tv,useOptimistic:function(n,s){var o=It();return mv(o,at,n,s)},useMemoCache:km,useCacheRefresh:Uv};Km.useEffectEvent=Iv;var qv={readContext:en,use:Oh,useCallback:Dv,useContext:en,useEffect:zm,useImperativeHandle:Nv,useInsertionEffect:xv,useLayoutEffect:Rv,useMemo:Ov,useReducer:Lm,useRef:Sv,useState:function(){return Lm(cr)},useDebugValue:Bm,useDeferredValue:function(n,s){var o=It();return at===null?Fm(o,n,s):Vv(o,at.memoizedState,n,s)},useTransition:function(){var n=Lm(cr)[0],s=It().memoizedState;return[typeof n=="boolean"?n:pu(n),s]},useSyncExternalStore:lv,useId:Lv,useHostTransitionStatus:Hm,useFormState:wv,useActionState:wv,useOptimistic:function(n,s){var o=It();return at!==null?mv(o,at,n,s):(o.baseState=n,[n,o.queue.dispatch])},useMemoCache:km,useCacheRefresh:Uv};qv.useEffectEvent=Iv;function Ym(n,s,o,u){s=n.memoizedState,o=o(u,s),o=o==null?s:T({},s,o),n.memoizedState=o,n.lanes===0&&(n.updateQueue.baseState=o)}var Qm={enqueueSetState:function(n,s,o){n=n._reactInternals;var u=On(),f=Xr(u);f.payload=s,o!=null&&(f.callback=o),s=Wr(n,f,u),s!==null&&(Tn(s,n,u),fu(s,n,u))},enqueueReplaceState:function(n,s,o){n=n._reactInternals;var u=On(),f=Xr(u);f.tag=1,f.payload=s,o!=null&&(f.callback=o),s=Wr(n,f,u),s!==null&&(Tn(s,n,u),fu(s,n,u))},enqueueForceUpdate:function(n,s){n=n._reactInternals;var o=On(),u=Xr(o);u.tag=2,s!=null&&(u.callback=s),s=Wr(n,u,o),s!==null&&(Tn(s,n,o),fu(s,n,o))}};function Hv(n,s,o,u,f,m,_){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(u,m,_):s.prototype&&s.prototype.isPureReactComponent?!ru(o,u)||!ru(f,m):!0}function Gv(n,s,o,u){n=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(o,u),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(o,u),s.state!==n&&Qm.enqueueReplaceState(s,s.state,null)}function da(n,s){var o=s;if("ref"in s){o={};for(var u in s)u!=="ref"&&(o[u]=s[u])}if(n=n.defaultProps){o===s&&(o=T({},o));for(var f in n)o[f]===void 0&&(o[f]=n[f])}return o}function Kv(n){mh(n)}function Yv(n){console.error(n)}function Qv(n){mh(n)}function Lh(n,s){try{var o=n.onUncaughtError;o(s.value,{componentStack:s.stack})}catch(u){setTimeout(function(){throw u})}}function $v(n,s,o){try{var u=n.onCaughtError;u(o.value,{componentStack:o.stack,errorBoundary:s.tag===1?s.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function $m(n,s,o){return o=Xr(o),o.tag=3,o.payload={element:null},o.callback=function(){Lh(n,s)},o}function Xv(n){return n=Xr(n),n.tag=3,n}function Wv(n,s,o,u){var f=o.type.getDerivedStateFromError;if(typeof f=="function"){var m=u.value;n.payload=function(){return f(m)},n.callback=function(){$v(s,o,u)}}var _=o.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(n.callback=function(){$v(s,o,u),typeof f!="function"&&(is===null?is=new Set([this]):is.add(this));var E=u.stack;this.componentDidCatch(u.value,{componentStack:E!==null?E:""})})}function XI(n,s,o,u,f){if(o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(s=o.alternate,s!==null&&vo(s,o,f,!0),o=Rn.current,o!==null){switch(o.tag){case 31:case 13:return Wn===null?$h():o.alternate===null&&Tt===0&&(Tt=3),o.flags&=-257,o.flags|=65536,o.lanes=f,u===Sh?o.flags|=16384:(s=o.updateQueue,s===null?o.updateQueue=new Set([u]):s.add(u),bg(n,u,f)),!1;case 22:return o.flags|=65536,u===Sh?o.flags|=16384:(s=o.updateQueue,s===null?(s={transitions:null,markerInstances:null,retryQueue:new Set([u])},o.updateQueue=s):(o=s.retryQueue,o===null?s.retryQueue=new Set([u]):o.add(u)),bg(n,u,f)),!1}throw Error(i(435,o.tag))}return bg(n,u,f),$h(),!1}if(Ge)return s=Rn.current,s!==null?((s.flags&65536)===0&&(s.flags|=256),s.flags|=65536,s.lanes=f,u!==mm&&(n=Error(i(422),{cause:u}),ou(Yn(n,o)))):(u!==mm&&(s=Error(i(423),{cause:u}),ou(Yn(s,o))),n=n.current.alternate,n.flags|=65536,f&=-f,n.lanes|=f,u=Yn(u,o),f=$m(n.stateNode,u,f),Am(n,f),Tt!==4&&(Tt=2)),!1;var m=Error(i(520),{cause:u});if(m=Yn(m,o),Iu===null?Iu=[m]:Iu.push(m),Tt!==4&&(Tt=2),s===null)return!0;u=Yn(u,o),o=s;do{switch(o.tag){case 3:return o.flags|=65536,n=f&-f,o.lanes|=n,n=$m(o.stateNode,u,n),Am(o,n),!1;case 1:if(s=o.type,m=o.stateNode,(o.flags&128)===0&&(typeof s.getDerivedStateFromError=="function"||m!==null&&typeof m.componentDidCatch=="function"&&(is===null||!is.has(m))))return o.flags|=65536,f&=-f,o.lanes|=f,f=Xv(f),Wv(f,n,o,u),Am(o,f),!1}o=o.return}while(o!==null);return!1}var Xm=Error(i(461)),Pt=!1;function tn(n,s,o,u){s.child=n===null?tv(s,null,o,u):ha(s,n.child,o,u)}function Jv(n,s,o,u,f){o=o.render;var m=s.ref;if("ref"in u){var _={};for(var E in u)E!=="ref"&&(_[E]=u[E])}else _=u;return oa(s),u=Dm(n,s,o,_,m,f),E=Om(),n!==null&&!Pt?(Vm(n,s,f),hr(n,s,f)):(Ge&&E&&fm(s),s.flags|=1,tn(n,s,u,f),s.child)}function Zv(n,s,o,u,f){if(n===null){var m=o.type;return typeof m=="function"&&!um(m)&&m.defaultProps===void 0&&o.compare===null?(s.tag=15,s.type=m,e0(n,s,m,u,f)):(n=_h(o.type,null,u,s,s.mode,f),n.ref=s.ref,n.return=s,s.child=n)}if(m=n.child,!rg(n,f)){var _=m.memoizedProps;if(o=o.compare,o=o!==null?o:ru,o(_,u)&&n.ref===s.ref)return hr(n,s,f)}return s.flags|=1,n=sr(m,u),n.ref=s.ref,n.return=s,s.child=n}function e0(n,s,o,u,f){if(n!==null){var m=n.memoizedProps;if(ru(m,u)&&n.ref===s.ref)if(Pt=!1,s.pendingProps=u=m,rg(n,f))(n.flags&131072)!==0&&(Pt=!0);else return s.lanes=n.lanes,hr(n,s,f)}return Wm(n,s,o,u,f)}function t0(n,s,o,u){var f=u.children,m=n!==null?n.memoizedState:null;if(n===null&&s.stateNode===null&&(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((s.flags&128)!==0){if(m=m!==null?m.baseLanes|o:o,n!==null){for(u=s.child=n.child,f=0;u!==null;)f=f|u.lanes|u.childLanes,u=u.sibling;u=f&~m}else u=0,s.child=null;return n0(n,s,m,o,u)}if((o&536870912)!==0)s.memoizedState={baseLanes:0,cachePool:null},n!==null&&Eh(s,m!==null?m.cachePool:null),m!==null?rv(s,m):xm(),sv(s);else return u=s.lanes=536870912,n0(n,s,m!==null?m.baseLanes|o:o,o,u)}else m!==null?(Eh(s,m.cachePool),rv(s,m),Zr(),s.memoizedState=null):(n!==null&&Eh(s,null),xm(),Zr());return tn(n,s,f,o),s.child}function vu(n,s){return n!==null&&n.tag===22||s.stateNode!==null||(s.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),s.sibling}function n0(n,s,o,u,f){var m=Tm();return m=m===null?null:{parent:Mt._currentValue,pool:m},s.memoizedState={baseLanes:o,cachePool:m},n!==null&&Eh(s,null),xm(),sv(s),n!==null&&vo(n,s,u,!0),s.childLanes=f,null}function Uh(n,s){return s=zh({mode:s.mode,children:s.children},n.mode),s.ref=n.ref,n.child=s,s.return=n,s}function i0(n,s,o){return ha(s,n.child,null,o),n=Uh(s,s.pendingProps),n.flags|=2,Cn(s),s.memoizedState=null,n}function WI(n,s,o){var u=s.pendingProps,f=(s.flags&128)!==0;if(s.flags&=-129,n===null){if(Ge){if(u.mode==="hidden")return n=Uh(s,u),s.lanes=536870912,vu(null,n);if(Cm(s),(n=dt)?(n=gb(n,Xn),n=n!==null&&n.data==="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Gr!==null?{id:Fi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},o=z_(n),o.return=s,s.child=o,Zt=s,dt=null)):n=null,n===null)throw Yr(s);return s.lanes=536870912,null}return Uh(s,u)}var m=n.memoizedState;if(m!==null){var _=m.dehydrated;if(Cm(s),f)if(s.flags&256)s.flags&=-257,s=i0(n,s,o);else if(s.memoizedState!==null)s.child=n.child,s.flags|=128,s=null;else throw Error(i(558));else if(Pt||vo(n,s,o,!1),f=(o&n.childLanes)!==0,Pt||f){if(u=ht,u!==null&&(_=zl(u,o),_!==0&&_!==m.retryLane))throw m.retryLane=_,ia(n,_),Tn(u,n,_),Xm;$h(),s=i0(n,s,o)}else n=m.treeContext,dt=Jn(_.nextSibling),Zt=s,Ge=!0,Kr=null,Xn=!1,n!==null&&q_(s,n),s=Uh(s,u),s.flags|=4096;return s}return n=sr(n.child,{mode:u.mode,children:u.children}),n.ref=s.ref,s.child=n,n.return=s,n}function jh(n,s){var o=s.ref;if(o===null)n!==null&&n.ref!==null&&(s.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(n===null||n.ref!==o)&&(s.flags|=4194816)}}function Wm(n,s,o,u,f){return oa(s),o=Dm(n,s,o,u,void 0,f),u=Om(),n!==null&&!Pt?(Vm(n,s,f),hr(n,s,f)):(Ge&&u&&fm(s),s.flags|=1,tn(n,s,o,f),s.child)}function r0(n,s,o,u,f,m){return oa(s),s.updateQueue=null,o=ov(s,u,o,f),av(n),u=Om(),n!==null&&!Pt?(Vm(n,s,m),hr(n,s,m)):(Ge&&u&&fm(s),s.flags|=1,tn(n,s,o,m),s.child)}function s0(n,s,o,u,f){if(oa(s),s.stateNode===null){var m=go,_=o.contextType;typeof _=="object"&&_!==null&&(m=en(_)),m=new o(u,m),s.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,m.updater=Qm,s.stateNode=m,m._reactInternals=s,m=s.stateNode,m.props=u,m.state=s.memoizedState,m.refs={},wm(s),_=o.contextType,m.context=typeof _=="object"&&_!==null?en(_):go,m.state=s.memoizedState,_=o.getDerivedStateFromProps,typeof _=="function"&&(Ym(s,o,_,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(_=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),_!==m.state&&Qm.enqueueReplaceState(m,m.state,null),mu(s,u,m,f),du(),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!0}else if(n===null){m=s.stateNode;var E=s.memoizedProps,N=da(o,E);m.props=N;var F=m.context,Y=o.contextType;_=go,typeof Y=="object"&&Y!==null&&(_=en(Y));var J=o.getDerivedStateFromProps;Y=typeof J=="function"||typeof m.getSnapshotBeforeUpdate=="function",E=s.pendingProps!==E,Y||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(E||F!==_)&&Gv(s,m,u,_),$r=!1;var q=s.memoizedState;m.state=q,mu(s,u,m,f),du(),F=s.memoizedState,E||q!==F||$r?(typeof J=="function"&&(Ym(s,o,J,u),F=s.memoizedState),(N=$r||Hv(s,o,N,u,q,F,_))?(Y||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount()),typeof m.componentDidMount=="function"&&(s.flags|=4194308)):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=u,s.memoizedState=F),m.props=u,m.state=F,m.context=_,u=N):(typeof m.componentDidMount=="function"&&(s.flags|=4194308),u=!1)}else{m=s.stateNode,Sm(n,s),_=s.memoizedProps,Y=da(o,_),m.props=Y,J=s.pendingProps,q=m.context,F=o.contextType,N=go,typeof F=="object"&&F!==null&&(N=en(F)),E=o.getDerivedStateFromProps,(F=typeof E=="function"||typeof m.getSnapshotBeforeUpdate=="function")||typeof m.UNSAFE_componentWillReceiveProps!="function"&&typeof m.componentWillReceiveProps!="function"||(_!==J||q!==N)&&Gv(s,m,u,N),$r=!1,q=s.memoizedState,m.state=q,mu(s,u,m,f),du();var G=s.memoizedState;_!==J||q!==G||$r||n!==null&&n.dependencies!==null&&bh(n.dependencies)?(typeof E=="function"&&(Ym(s,o,E,u),G=s.memoizedState),(Y=$r||Hv(s,o,Y,u,q,G,N)||n!==null&&n.dependencies!==null&&bh(n.dependencies))?(F||typeof m.UNSAFE_componentWillUpdate!="function"&&typeof m.componentWillUpdate!="function"||(typeof m.componentWillUpdate=="function"&&m.componentWillUpdate(u,G,N),typeof m.UNSAFE_componentWillUpdate=="function"&&m.UNSAFE_componentWillUpdate(u,G,N)),typeof m.componentDidUpdate=="function"&&(s.flags|=4),typeof m.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),s.memoizedProps=u,s.memoizedState=G),m.props=u,m.state=G,m.context=N,u=Y):(typeof m.componentDidUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(s.flags|=4),typeof m.getSnapshotBeforeUpdate!="function"||_===n.memoizedProps&&q===n.memoizedState||(s.flags|=1024),u=!1)}return m=u,jh(n,s),u=(s.flags&128)!==0,m||u?(m=s.stateNode,o=u&&typeof o.getDerivedStateFromError!="function"?null:m.render(),s.flags|=1,n!==null&&u?(s.child=ha(s,n.child,null,f),s.child=ha(s,null,o,f)):tn(n,s,o,f),s.memoizedState=m.state,n=s.child):n=hr(n,s,f),n}function a0(n,s,o,u){return sa(),s.flags|=256,tn(n,s,o,u),s.child}var Jm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zm(n){return{baseLanes:n,cachePool:$_()}}function eg(n,s,o){return n=n!==null?n.childLanes&~o:0,s&&(n|=Dn),n}function o0(n,s,o){var u=s.pendingProps,f=!1,m=(s.flags&128)!==0,_;if((_=m)||(_=n!==null&&n.memoizedState===null?!1:(At.current&2)!==0),_&&(f=!0,s.flags&=-129),_=(s.flags&32)!==0,s.flags&=-33,n===null){if(Ge){if(f?Jr(s):Zr(),(n=dt)?(n=gb(n,Xn),n=n!==null&&n.data!=="&"?n:null,n!==null&&(s.memoizedState={dehydrated:n,treeContext:Gr!==null?{id:Fi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},o=z_(n),o.return=s,s.child=o,Zt=s,dt=null)):n=null,n===null)throw Yr(s);return Pg(n)?s.lanes=32:s.lanes=536870912,null}var E=u.children;return u=u.fallback,f?(Zr(),f=s.mode,E=zh({mode:"hidden",children:E},f),u=ra(u,f,o,null),E.return=s,u.return=s,E.sibling=u,s.child=E,u=s.child,u.memoizedState=Zm(o),u.childLanes=eg(n,_,o),s.memoizedState=Jm,vu(null,u)):(Jr(s),tg(s,E))}var N=n.memoizedState;if(N!==null&&(E=N.dehydrated,E!==null)){if(m)s.flags&256?(Jr(s),s.flags&=-257,s=ng(n,s,o)):s.memoizedState!==null?(Zr(),s.child=n.child,s.flags|=128,s=null):(Zr(),E=u.fallback,f=s.mode,u=zh({mode:"visible",children:u.children},f),E=ra(E,f,o,null),E.flags|=2,u.return=s,E.return=s,u.sibling=E,s.child=u,ha(s,n.child,null,o),u=s.child,u.memoizedState=Zm(o),u.childLanes=eg(n,_,o),s.memoizedState=Jm,s=vu(null,u));else if(Jr(s),Pg(E)){if(_=E.nextSibling&&E.nextSibling.dataset,_)var F=_.dgst;_=F,u=Error(i(419)),u.stack="",u.digest=_,ou({value:u,source:null,stack:null}),s=ng(n,s,o)}else if(Pt||vo(n,s,o,!1),_=(o&n.childLanes)!==0,Pt||_){if(_=ht,_!==null&&(u=zl(_,o),u!==0&&u!==N.retryLane))throw N.retryLane=u,ia(n,u),Tn(_,n,u),Xm;kg(E)||$h(),s=ng(n,s,o)}else kg(E)?(s.flags|=192,s.child=n.child,s=null):(n=N.treeContext,dt=Jn(E.nextSibling),Zt=s,Ge=!0,Kr=null,Xn=!1,n!==null&&q_(s,n),s=tg(s,u.children),s.flags|=4096);return s}return f?(Zr(),E=u.fallback,f=s.mode,N=n.child,F=N.sibling,u=sr(N,{mode:"hidden",children:u.children}),u.subtreeFlags=N.subtreeFlags&65011712,F!==null?E=sr(F,E):(E=ra(E,f,o,null),E.flags|=2),E.return=s,u.return=s,u.sibling=E,s.child=u,vu(null,u),u=s.child,E=n.child.memoizedState,E===null?E=Zm(o):(f=E.cachePool,f!==null?(N=Mt._currentValue,f=f.parent!==N?{parent:N,pool:N}:f):f=$_(),E={baseLanes:E.baseLanes|o,cachePool:f}),u.memoizedState=E,u.childLanes=eg(n,_,o),s.memoizedState=Jm,vu(n.child,u)):(Jr(s),o=n.child,n=o.sibling,o=sr(o,{mode:"visible",children:u.children}),o.return=s,o.sibling=null,n!==null&&(_=s.deletions,_===null?(s.deletions=[n],s.flags|=16):_.push(n)),s.child=o,s.memoizedState=null,o)}function tg(n,s){return s=zh({mode:"visible",children:s},n.mode),s.return=n,n.child=s}function zh(n,s){return n=xn(22,n,null,s),n.lanes=0,n}function ng(n,s,o){return ha(s,n.child,null,o),n=tg(s,s.pendingProps.children),n.flags|=2,s.memoizedState=null,n}function l0(n,s,o){n.lanes|=s;var u=n.alternate;u!==null&&(u.lanes|=s),ym(n.return,s,o)}function ig(n,s,o,u,f,m){var _=n.memoizedState;_===null?n.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f,treeForkCount:m}:(_.isBackwards=s,_.rendering=null,_.renderingStartTime=0,_.last=u,_.tail=o,_.tailMode=f,_.treeForkCount=m)}function u0(n,s,o){var u=s.pendingProps,f=u.revealOrder,m=u.tail;u=u.children;var _=At.current,E=(_&2)!==0;if(E?(_=_&1|2,s.flags|=128):_&=1,re(At,_),tn(n,s,u,o),u=Ge?au:0,!E&&n!==null&&(n.flags&128)!==0)e:for(n=s.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&l0(n,o,s);else if(n.tag===19)l0(n,o,s);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===s)break e;for(;n.sibling===null;){if(n.return===null||n.return===s)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}switch(f){case"forwards":for(o=s.child,f=null;o!==null;)n=o.alternate,n!==null&&Rh(n)===null&&(f=o),o=o.sibling;o=f,o===null?(f=s.child,s.child=null):(f=o.sibling,o.sibling=null),ig(s,!1,f,o,m,u);break;case"backwards":case"unstable_legacy-backwards":for(o=null,f=s.child,s.child=null;f!==null;){if(n=f.alternate,n!==null&&Rh(n)===null){s.child=f;break}n=f.sibling,f.sibling=o,o=f,f=n}ig(s,!0,o,null,m,u);break;case"together":ig(s,!1,null,null,void 0,u);break;default:s.memoizedState=null}return s.child}function hr(n,s,o){if(n!==null&&(s.dependencies=n.dependencies),ns|=s.lanes,(o&s.childLanes)===0)if(n!==null){if(vo(n,s,o,!1),(o&s.childLanes)===0)return null}else return null;if(n!==null&&s.child!==n.child)throw Error(i(153));if(s.child!==null){for(n=s.child,o=sr(n,n.pendingProps),s.child=o,o.return=s;n.sibling!==null;)n=n.sibling,o=o.sibling=sr(n,n.pendingProps),o.return=s;o.sibling=null}return s.child}function rg(n,s){return(n.lanes&s)!==0?!0:(n=n.dependencies,!!(n!==null&&bh(n)))}function JI(n,s,o){switch(s.tag){case 3:vt(s,s.stateNode.containerInfo),Qr(s,Mt,n.memoizedState.cache),sa();break;case 27:case 5:zn(s);break;case 4:vt(s,s.stateNode.containerInfo);break;case 10:Qr(s,s.type,s.memoizedProps.value);break;case 31:if(s.memoizedState!==null)return s.flags|=128,Cm(s),null;break;case 13:var u=s.memoizedState;if(u!==null)return u.dehydrated!==null?(Jr(s),s.flags|=128,null):(o&s.child.childLanes)!==0?o0(n,s,o):(Jr(s),n=hr(n,s,o),n!==null?n.sibling:null);Jr(s);break;case 19:var f=(n.flags&128)!==0;if(u=(o&s.childLanes)!==0,u||(vo(n,s,o,!1),u=(o&s.childLanes)!==0),f){if(u)return u0(n,s,o);s.flags|=128}if(f=s.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(At,At.current),u)break;return null;case 22:return s.lanes=0,t0(n,s,o,s.pendingProps);case 24:Qr(s,Mt,n.memoizedState.cache)}return hr(n,s,o)}function c0(n,s,o){if(n!==null)if(n.memoizedProps!==s.pendingProps)Pt=!0;else{if(!rg(n,o)&&(s.flags&128)===0)return Pt=!1,JI(n,s,o);Pt=(n.flags&131072)!==0}else Pt=!1,Ge&&(s.flags&1048576)!==0&&F_(s,au,s.index);switch(s.lanes=0,s.tag){case 16:e:{var u=s.pendingProps;if(n=ua(s.elementType),s.type=n,typeof n=="function")um(n)?(u=da(n,u),s.tag=1,s=s0(null,s,n,u,o)):(s.tag=0,s=Wm(null,s,n,u,o));else{if(n!=null){var f=n.$$typeof;if(f===Se){s.tag=11,s=Jv(null,s,n,u,o);break e}else if(f===x){s.tag=14,s=Zv(null,s,n,u,o);break e}}throw s=le(n)||n,Error(i(306,s,""))}}return s;case 0:return Wm(n,s,s.type,s.pendingProps,o);case 1:return u=s.type,f=da(u,s.pendingProps),s0(n,s,u,f,o);case 3:e:{if(vt(s,s.stateNode.containerInfo),n===null)throw Error(i(387));u=s.pendingProps;var m=s.memoizedState;f=m.element,Sm(n,s),mu(s,u,null,o);var _=s.memoizedState;if(u=_.cache,Qr(s,Mt,u),u!==m.cache&&_m(s,[Mt],o,!0),du(),u=_.element,m.isDehydrated)if(m={element:u,isDehydrated:!1,cache:_.cache},s.updateQueue.baseState=m,s.memoizedState=m,s.flags&256){s=a0(n,s,u,o);break e}else if(u!==f){f=Yn(Error(i(424)),s),ou(f),s=a0(n,s,u,o);break e}else{switch(n=s.stateNode.containerInfo,n.nodeType){case 9:n=n.body;break;default:n=n.nodeName==="HTML"?n.ownerDocument.body:n}for(dt=Jn(n.firstChild),Zt=s,Ge=!0,Kr=null,Xn=!0,o=tv(s,null,u,o),s.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling}else{if(sa(),u===f){s=hr(n,s,o);break e}tn(n,s,u,o)}s=s.child}return s;case 26:return jh(n,s),n===null?(o=Tb(s.type,null,s.pendingProps,null))?s.memoizedState=o:Ge||(o=s.type,n=s.pendingProps,u=nf(De.current).createElement(o),u[Dt]=s,u[Kt]=n,nn(u,o,n),Ot(u),s.stateNode=u):s.memoizedState=Tb(s.type,n.memoizedProps,s.pendingProps,n.memoizedState),null;case 27:return zn(s),n===null&&Ge&&(u=s.stateNode=_b(s.type,s.pendingProps,De.current),Zt=s,Xn=!0,f=dt,os(s.type)?(Lg=f,dt=Jn(u.firstChild)):dt=f),tn(n,s,s.pendingProps.children,o),jh(n,s),n===null&&(s.flags|=4194304),s.child;case 5:return n===null&&Ge&&((f=u=dt)&&(u=Rx(u,s.type,s.pendingProps,Xn),u!==null?(s.stateNode=u,Zt=s,dt=Jn(u.firstChild),Xn=!1,f=!0):f=!1),f||Yr(s)),zn(s),f=s.type,m=s.pendingProps,_=n!==null?n.memoizedProps:null,u=m.children,Og(f,m)?u=null:_!==null&&Og(f,_)&&(s.flags|=32),s.memoizedState!==null&&(f=Dm(n,s,qI,null,null,o),Mu._currentValue=f),jh(n,s),tn(n,s,u,o),s.child;case 6:return n===null&&Ge&&((n=o=dt)&&(o=Cx(o,s.pendingProps,Xn),o!==null?(s.stateNode=o,Zt=s,dt=null,n=!0):n=!1),n||Yr(s)),null;case 13:return o0(n,s,o);case 4:return vt(s,s.stateNode.containerInfo),u=s.pendingProps,n===null?s.child=ha(s,null,u,o):tn(n,s,u,o),s.child;case 11:return Jv(n,s,s.type,s.pendingProps,o);case 7:return tn(n,s,s.pendingProps,o),s.child;case 8:return tn(n,s,s.pendingProps.children,o),s.child;case 12:return tn(n,s,s.pendingProps.children,o),s.child;case 10:return u=s.pendingProps,Qr(s,s.type,u.value),tn(n,s,u.children,o),s.child;case 9:return f=s.type._context,u=s.pendingProps.children,oa(s),f=en(f),u=u(f),s.flags|=1,tn(n,s,u,o),s.child;case 14:return Zv(n,s,s.type,s.pendingProps,o);case 15:return e0(n,s,s.type,s.pendingProps,o);case 19:return u0(n,s,o);case 31:return WI(n,s,o);case 22:return t0(n,s,o,s.pendingProps);case 24:return oa(s),u=en(Mt),n===null?(f=Tm(),f===null&&(f=ht,m=vm(),f.pooledCache=m,m.refCount++,m!==null&&(f.pooledCacheLanes|=o),f=m),s.memoizedState={parent:u,cache:f},wm(s),Qr(s,Mt,f)):((n.lanes&o)!==0&&(Sm(n,s),mu(s,null,null,o),du()),f=n.memoizedState,m=s.memoizedState,f.parent!==u?(f={parent:u,cache:u},s.memoizedState=f,s.lanes===0&&(s.memoizedState=s.updateQueue.baseState=f),Qr(s,Mt,u)):(u=m.cache,Qr(s,Mt,u),u!==f.cache&&_m(s,[Mt],o,!0))),tn(n,s,s.pendingProps.children,o),s.child;case 29:throw s.pendingProps}throw Error(i(156,s.tag))}function fr(n){n.flags|=4}function sg(n,s,o,u,f){if((s=(n.mode&32)!==0)&&(s=!1),s){if(n.flags|=16777216,(f&335544128)===f)if(n.stateNode.complete)n.flags|=8192;else if(L0())n.flags|=8192;else throw ca=Sh,Em}else n.flags&=-16777217}function h0(n,s){if(s.type!=="stylesheet"||(s.state.loading&4)!==0)n.flags&=-16777217;else if(n.flags|=16777216,!Ib(s))if(L0())n.flags|=8192;else throw ca=Sh,Em}function Bh(n,s){s!==null&&(n.flags|=4),n.flags&16384&&(s=n.tag!==22?Yc():536870912,n.lanes|=s,Do|=s)}function bu(n,s){if(!Ge)switch(n.tailMode){case"hidden":s=n.tail;for(var o=null;s!==null;)s.alternate!==null&&(o=s),s=s.sibling;o===null?n.tail=null:o.sibling=null;break;case"collapsed":o=n.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s||n.tail===null?n.tail=null:n.tail.sibling=null:u.sibling=null}}function mt(n){var s=n.alternate!==null&&n.alternate.child===n.child,o=0,u=0;if(s)for(var f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&65011712,u|=f.flags&65011712,f.return=n,f=f.sibling;else for(f=n.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=n,f=f.sibling;return n.subtreeFlags|=u,n.childLanes=o,s}function ZI(n,s,o){var u=s.pendingProps;switch(dm(s),s.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mt(s),null;case 1:return mt(s),null;case 3:return o=s.stateNode,u=null,n!==null&&(u=n.memoizedState.cache),s.memoizedState.cache!==u&&(s.flags|=2048),lr(Mt),Je(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(n===null||n.child===null)&&(_o(s)?fr(s):n===null||n.memoizedState.isDehydrated&&(s.flags&256)===0||(s.flags|=1024,gm())),mt(s),null;case 26:var f=s.type,m=s.memoizedState;return n===null?(fr(s),m!==null?(mt(s),h0(s,m)):(mt(s),sg(s,f,null,u,o))):m?m!==n.memoizedState?(fr(s),mt(s),h0(s,m)):(mt(s),s.flags&=-16777217):(n=n.memoizedProps,n!==u&&fr(s),mt(s),sg(s,f,n,u,o)),null;case 27:if(wi(s),o=De.current,f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&fr(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return mt(s),null}n=oe.current,_o(s)?H_(s):(n=_b(f,u,o),s.stateNode=n,fr(s))}return mt(s),null;case 5:if(wi(s),f=s.type,n!==null&&s.stateNode!=null)n.memoizedProps!==u&&fr(s);else{if(!u){if(s.stateNode===null)throw Error(i(166));return mt(s),null}if(m=oe.current,_o(s))H_(s);else{var _=nf(De.current);switch(m){case 1:m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case 2:m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;default:switch(f){case"svg":m=_.createElementNS("http://www.w3.org/2000/svg",f);break;case"math":m=_.createElementNS("http://www.w3.org/1998/Math/MathML",f);break;case"script":m=_.createElement("div"),m.innerHTML="<script><\/script>",m=m.removeChild(m.firstChild);break;case"select":m=typeof u.is=="string"?_.createElement("select",{is:u.is}):_.createElement("select"),u.multiple?m.multiple=!0:u.size&&(m.size=u.size);break;default:m=typeof u.is=="string"?_.createElement(f,{is:u.is}):_.createElement(f)}}m[Dt]=s,m[Kt]=u;e:for(_=s.child;_!==null;){if(_.tag===5||_.tag===6)m.appendChild(_.stateNode);else if(_.tag!==4&&_.tag!==27&&_.child!==null){_.child.return=_,_=_.child;continue}if(_===s)break e;for(;_.sibling===null;){if(_.return===null||_.return===s)break e;_=_.return}_.sibling.return=_.return,_=_.sibling}s.stateNode=m;e:switch(nn(m,f,u),f){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}u&&fr(s)}}return mt(s),sg(s,s.type,n===null?null:n.memoizedProps,s.pendingProps,o),null;case 6:if(n&&s.stateNode!=null)n.memoizedProps!==u&&fr(s);else{if(typeof u!="string"&&s.stateNode===null)throw Error(i(166));if(n=De.current,_o(s)){if(n=s.stateNode,o=s.memoizedProps,u=null,f=Zt,f!==null)switch(f.tag){case 27:case 5:u=f.memoizedProps}n[Dt]=s,n=!!(n.nodeValue===o||u!==null&&u.suppressHydrationWarning===!0||ob(n.nodeValue,o)),n||Yr(s,!0)}else n=nf(n).createTextNode(u),n[Dt]=s,s.stateNode=n}return mt(s),null;case 31:if(o=s.memoizedState,n===null||n.memoizedState!==null){if(u=_o(s),o!==null){if(n===null){if(!u)throw Error(i(318));if(n=s.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(i(557));n[Dt]=s}else sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),n=!1}else o=gm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=o),n=!0;if(!n)return s.flags&256?(Cn(s),s):(Cn(s),null);if((s.flags&128)!==0)throw Error(i(558))}return mt(s),null;case 13:if(u=s.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(f=_o(s),u!==null&&u.dehydrated!==null){if(n===null){if(!f)throw Error(i(318));if(f=s.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(i(317));f[Dt]=s}else sa(),(s.flags&128)===0&&(s.memoizedState=null),s.flags|=4;mt(s),f=!1}else f=gm(),n!==null&&n.memoizedState!==null&&(n.memoizedState.hydrationErrors=f),f=!0;if(!f)return s.flags&256?(Cn(s),s):(Cn(s),null)}return Cn(s),(s.flags&128)!==0?(s.lanes=o,s):(o=u!==null,n=n!==null&&n.memoizedState!==null,o&&(u=s.child,f=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(f=u.alternate.memoizedState.cachePool.pool),m=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(m=u.memoizedState.cachePool.pool),m!==f&&(u.flags|=2048)),o!==n&&o&&(s.child.flags|=8192),Bh(s,s.updateQueue),mt(s),null);case 4:return Je(),n===null&&xg(s.stateNode.containerInfo),mt(s),null;case 10:return lr(s.type),mt(s),null;case 19:if(X(At),u=s.memoizedState,u===null)return mt(s),null;if(f=(s.flags&128)!==0,m=u.rendering,m===null)if(f)bu(u,!1);else{if(Tt!==0||n!==null&&(n.flags&128)!==0)for(n=s.child;n!==null;){if(m=Rh(n),m!==null){for(s.flags|=128,bu(u,!1),n=m.updateQueue,s.updateQueue=n,Bh(s,n),s.subtreeFlags=0,n=o,o=s.child;o!==null;)j_(o,n),o=o.sibling;return re(At,At.current&1|2),Ge&&ar(s,u.treeForkCount),s.child}n=n.sibling}u.tail!==null&&cn()>Kh&&(s.flags|=128,f=!0,bu(u,!1),s.lanes=4194304)}else{if(!f)if(n=Rh(m),n!==null){if(s.flags|=128,f=!0,n=n.updateQueue,s.updateQueue=n,Bh(s,n),bu(u,!0),u.tail===null&&u.tailMode==="hidden"&&!m.alternate&&!Ge)return mt(s),null}else 2*cn()-u.renderingStartTime>Kh&&o!==536870912&&(s.flags|=128,f=!0,bu(u,!1),s.lanes=4194304);u.isBackwards?(m.sibling=s.child,s.child=m):(n=u.last,n!==null?n.sibling=m:s.child=m,u.last=m)}return u.tail!==null?(n=u.tail,u.rendering=n,u.tail=n.sibling,u.renderingStartTime=cn(),n.sibling=null,o=At.current,re(At,f?o&1|2:o&1),Ge&&ar(s,u.treeForkCount),n):(mt(s),null);case 22:case 23:return Cn(s),Rm(),u=s.memoizedState!==null,n!==null?n.memoizedState!==null!==u&&(s.flags|=8192):u&&(s.flags|=8192),u?(o&536870912)!==0&&(s.flags&128)===0&&(mt(s),s.subtreeFlags&6&&(s.flags|=8192)):mt(s),o=s.updateQueue,o!==null&&Bh(s,o.retryQueue),o=null,n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),u=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(u=s.memoizedState.cachePool.pool),u!==o&&(s.flags|=2048),n!==null&&X(la),null;case 24:return o=null,n!==null&&(o=n.memoizedState.cache),s.memoizedState.cache!==o&&(s.flags|=2048),lr(Mt),mt(s),null;case 25:return null;case 30:return null}throw Error(i(156,s.tag))}function ex(n,s){switch(dm(s),s.tag){case 1:return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 3:return lr(Mt),Je(),n=s.flags,(n&65536)!==0&&(n&128)===0?(s.flags=n&-65537|128,s):null;case 26:case 27:case 5:return wi(s),null;case 31:if(s.memoizedState!==null){if(Cn(s),s.alternate===null)throw Error(i(340));sa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 13:if(Cn(s),n=s.memoizedState,n!==null&&n.dehydrated!==null){if(s.alternate===null)throw Error(i(340));sa()}return n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 19:return X(At),null;case 4:return Je(),null;case 10:return lr(s.type),null;case 22:case 23:return Cn(s),Rm(),n!==null&&X(la),n=s.flags,n&65536?(s.flags=n&-65537|128,s):null;case 24:return lr(Mt),null;case 25:return null;default:return null}}function f0(n,s){switch(dm(s),s.tag){case 3:lr(Mt),Je();break;case 26:case 27:case 5:wi(s);break;case 4:Je();break;case 31:s.memoizedState!==null&&Cn(s);break;case 13:Cn(s);break;case 19:X(At);break;case 10:lr(s.type);break;case 22:case 23:Cn(s),Rm(),n!==null&&X(la);break;case 24:lr(Mt)}}function Tu(n,s){try{var o=s.updateQueue,u=o!==null?o.lastEffect:null;if(u!==null){var f=u.next;o=f;do{if((o.tag&n)===n){u=void 0;var m=o.create,_=o.inst;u=m(),_.destroy=u}o=o.next}while(o!==f)}}catch(E){tt(s,s.return,E)}}function es(n,s,o){try{var u=s.updateQueue,f=u!==null?u.lastEffect:null;if(f!==null){var m=f.next;u=m;do{if((u.tag&n)===n){var _=u.inst,E=_.destroy;if(E!==void 0){_.destroy=void 0,f=s;var N=o,F=E;try{F()}catch(Y){tt(f,N,Y)}}}u=u.next}while(u!==m)}}catch(Y){tt(s,s.return,Y)}}function d0(n){var s=n.updateQueue;if(s!==null){var o=n.stateNode;try{iv(s,o)}catch(u){tt(n,n.return,u)}}}function m0(n,s,o){o.props=da(n.type,n.memoizedProps),o.state=n.memoizedState;try{o.componentWillUnmount()}catch(u){tt(n,s,u)}}function Eu(n,s){try{var o=n.ref;if(o!==null){switch(n.tag){case 26:case 27:case 5:var u=n.stateNode;break;case 30:u=n.stateNode;break;default:u=n.stateNode}typeof o=="function"?n.refCleanup=o(u):o.current=u}}catch(f){tt(n,s,f)}}function Hi(n,s){var o=n.ref,u=n.refCleanup;if(o!==null)if(typeof u=="function")try{u()}catch(f){tt(n,s,f)}finally{n.refCleanup=null,n=n.alternate,n!=null&&(n.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(f){tt(n,s,f)}else o.current=null}function g0(n){var s=n.type,o=n.memoizedProps,u=n.stateNode;try{e:switch(s){case"button":case"input":case"select":case"textarea":o.autoFocus&&u.focus();break e;case"img":o.src?u.src=o.src:o.srcSet&&(u.srcset=o.srcSet)}}catch(f){tt(n,n.return,f)}}function ag(n,s,o){try{var u=n.stateNode;Ex(u,n.type,o,s),u[Kt]=s}catch(f){tt(n,n.return,f)}}function p0(n){return n.tag===5||n.tag===3||n.tag===26||n.tag===27&&os(n.type)||n.tag===4}function og(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||p0(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.tag===27&&os(n.type)||n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function lg(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(n,s):(s=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,s.appendChild(n),o=o._reactRootContainer,o!=null||s.onclick!==null||(s.onclick=li));else if(u!==4&&(u===27&&os(n.type)&&(o=n.stateNode,s=null),n=n.child,n!==null))for(lg(n,s,o),n=n.sibling;n!==null;)lg(n,s,o),n=n.sibling}function Fh(n,s,o){var u=n.tag;if(u===5||u===6)n=n.stateNode,s?o.insertBefore(n,s):o.appendChild(n);else if(u!==4&&(u===27&&os(n.type)&&(o=n.stateNode),n=n.child,n!==null))for(Fh(n,s,o),n=n.sibling;n!==null;)Fh(n,s,o),n=n.sibling}function y0(n){var s=n.stateNode,o=n.memoizedProps;try{for(var u=n.type,f=s.attributes;f.length;)s.removeAttributeNode(f[0]);nn(s,u,o),s[Dt]=n,s[Kt]=o}catch(m){tt(n,n.return,m)}}var dr=!1,Lt=!1,ug=!1,_0=typeof WeakSet=="function"?WeakSet:Set,Qt=null;function tx(n,s){if(n=n.containerInfo,Ng=cf,n=N_(n),nm(n)){if("selectionStart"in n)var o={start:n.selectionStart,end:n.selectionEnd};else e:{o=(o=n.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,m=u.focusNode;u=u.focusOffset;try{o.nodeType,m.nodeType}catch{o=null;break e}var _=0,E=-1,N=-1,F=0,Y=0,J=n,q=null;t:for(;;){for(var G;J!==o||f!==0&&J.nodeType!==3||(E=_+f),J!==m||u!==0&&J.nodeType!==3||(N=_+u),J.nodeType===3&&(_+=J.nodeValue.length),(G=J.firstChild)!==null;)q=J,J=G;for(;;){if(J===n)break t;if(q===o&&++F===f&&(E=_),q===m&&++Y===u&&(N=_),(G=J.nextSibling)!==null)break;J=q,q=J.parentNode}J=G}o=E===-1||N===-1?null:{start:E,end:N}}else o=null}o=o||{start:0,end:0}}else o=null;for(Dg={focusedElem:n,selectionRange:o},cf=!1,Qt=s;Qt!==null;)if(s=Qt,n=s.child,(s.subtreeFlags&1028)!==0&&n!==null)n.return=s,Qt=n;else for(;Qt!==null;){switch(s=Qt,m=s.alternate,n=s.flags,s.tag){case 0:if((n&4)!==0&&(n=s.updateQueue,n=n!==null?n.events:null,n!==null))for(o=0;o<n.length;o++)f=n[o],f.ref.impl=f.nextImpl;break;case 11:case 15:break;case 1:if((n&1024)!==0&&m!==null){n=void 0,o=s,f=m.memoizedProps,m=m.memoizedState,u=o.stateNode;try{var me=da(o.type,f);n=u.getSnapshotBeforeUpdate(me,m),u.__reactInternalSnapshotBeforeUpdate=n}catch(xe){tt(o,o.return,xe)}}break;case 3:if((n&1024)!==0){if(n=s.stateNode.containerInfo,o=n.nodeType,o===9)Mg(n);else if(o===1)switch(n.nodeName){case"HEAD":case"HTML":case"BODY":Mg(n);break;default:n.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((n&1024)!==0)throw Error(i(163))}if(n=s.sibling,n!==null){n.return=s.return,Qt=n;break}Qt=s.return}}function v0(n,s,o){var u=o.flags;switch(o.tag){case 0:case 11:case 15:gr(n,o),u&4&&Tu(5,o);break;case 1:if(gr(n,o),u&4)if(n=o.stateNode,s===null)try{n.componentDidMount()}catch(_){tt(o,o.return,_)}else{var f=da(o.type,s.memoizedProps);s=s.memoizedState;try{n.componentDidUpdate(f,s,n.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(o,o.return,_)}}u&64&&d0(o),u&512&&Eu(o,o.return);break;case 3:if(gr(n,o),u&64&&(n=o.updateQueue,n!==null)){if(s=null,o.child!==null)switch(o.child.tag){case 27:case 5:s=o.child.stateNode;break;case 1:s=o.child.stateNode}try{iv(n,s)}catch(_){tt(o,o.return,_)}}break;case 27:s===null&&u&4&&y0(o);case 26:case 5:gr(n,o),s===null&&u&4&&g0(o),u&512&&Eu(o,o.return);break;case 12:gr(n,o);break;case 31:gr(n,o),u&4&&E0(n,o);break;case 13:gr(n,o),u&4&&w0(n,o),u&64&&(n=o.memoizedState,n!==null&&(n=n.dehydrated,n!==null&&(o=cx.bind(null,o),Nx(n,o))));break;case 22:if(u=o.memoizedState!==null||dr,!u){s=s!==null&&s.memoizedState!==null||Lt,f=dr;var m=Lt;dr=u,(Lt=s)&&!m?pr(n,o,(o.subtreeFlags&8772)!==0):gr(n,o),dr=f,Lt=m}break;case 30:break;default:gr(n,o)}}function b0(n){var s=n.alternate;s!==null&&(n.alternate=null,b0(s)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(s=n.stateNode,s!==null&&eo(s)),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}var pt=null,yn=!1;function mr(n,s,o){for(o=o.child;o!==null;)T0(n,s,o),o=o.sibling}function T0(n,s,o){if(Wt&&typeof Wt.onCommitFiberUnmount=="function")try{Wt.onCommitFiberUnmount(ri,o)}catch{}switch(o.tag){case 26:Lt||Hi(o,s),mr(n,s,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:Lt||Hi(o,s);var u=pt,f=yn;os(o.type)&&(pt=o.stateNode,yn=!1),mr(n,s,o),Du(o.stateNode),pt=u,yn=f;break;case 5:Lt||Hi(o,s);case 6:if(u=pt,f=yn,pt=null,mr(n,s,o),pt=u,yn=f,pt!==null)if(yn)try{(pt.nodeType===9?pt.body:pt.nodeName==="HTML"?pt.ownerDocument.body:pt).removeChild(o.stateNode)}catch(m){tt(o,s,m)}else try{pt.removeChild(o.stateNode)}catch(m){tt(o,s,m)}break;case 18:pt!==null&&(yn?(n=pt,db(n.nodeType===9?n.body:n.nodeName==="HTML"?n.ownerDocument.body:n,o.stateNode),jo(n)):db(pt,o.stateNode));break;case 4:u=pt,f=yn,pt=o.stateNode.containerInfo,yn=!0,mr(n,s,o),pt=u,yn=f;break;case 0:case 11:case 14:case 15:es(2,o,s),Lt||es(4,o,s),mr(n,s,o);break;case 1:Lt||(Hi(o,s),u=o.stateNode,typeof u.componentWillUnmount=="function"&&m0(o,s,u)),mr(n,s,o);break;case 21:mr(n,s,o);break;case 22:Lt=(u=Lt)||o.memoizedState!==null,mr(n,s,o),Lt=u;break;default:mr(n,s,o)}}function E0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null))){n=n.dehydrated;try{jo(n)}catch(o){tt(s,s.return,o)}}}function w0(n,s){if(s.memoizedState===null&&(n=s.alternate,n!==null&&(n=n.memoizedState,n!==null&&(n=n.dehydrated,n!==null))))try{jo(n)}catch(o){tt(s,s.return,o)}}function nx(n){switch(n.tag){case 31:case 13:case 19:var s=n.stateNode;return s===null&&(s=n.stateNode=new _0),s;case 22:return n=n.stateNode,s=n._retryCache,s===null&&(s=n._retryCache=new _0),s;default:throw Error(i(435,n.tag))}}function qh(n,s){var o=nx(n);s.forEach(function(u){if(!o.has(u)){o.add(u);var f=hx.bind(null,n,u);u.then(f,f)}})}function _n(n,s){var o=s.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u],m=n,_=s,E=_;e:for(;E!==null;){switch(E.tag){case 27:if(os(E.type)){pt=E.stateNode,yn=!1;break e}break;case 5:pt=E.stateNode,yn=!1;break e;case 3:case 4:pt=E.stateNode.containerInfo,yn=!0;break e}E=E.return}if(pt===null)throw Error(i(160));T0(m,_,f),pt=null,yn=!1,m=f.alternate,m!==null&&(m.return=null),f.return=null}if(s.subtreeFlags&13886)for(s=s.child;s!==null;)S0(s,n),s=s.sibling}var mi=null;function S0(n,s){var o=n.alternate,u=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:_n(s,n),vn(n),u&4&&(es(3,n,n.return),Tu(3,n),es(5,n,n.return));break;case 1:_n(s,n),vn(n),u&512&&(Lt||o===null||Hi(o,o.return)),u&64&&dr&&(n=n.updateQueue,n!==null&&(u=n.callbacks,u!==null&&(o=n.shared.hiddenCallbacks,n.shared.hiddenCallbacks=o===null?u:o.concat(u))));break;case 26:var f=mi;if(_n(s,n),vn(n),u&512&&(Lt||o===null||Hi(o,o.return)),u&4){var m=o!==null?o.memoizedState:null;if(u=n.memoizedState,o===null)if(u===null)if(n.stateNode===null){e:{u=n.type,o=n.memoizedProps,f=f.ownerDocument||f;t:switch(u){case"title":m=f.getElementsByTagName("title")[0],(!m||m[Ni]||m[Dt]||m.namespaceURI==="http://www.w3.org/2000/svg"||m.hasAttribute("itemprop"))&&(m=f.createElement(u),f.head.insertBefore(m,f.querySelector("head > title"))),nn(m,u,o),m[Dt]=n,Ot(m),u=m;break e;case"link":var _=Sb("link","href",f).get(u+(o.href||""));if(_){for(var E=0;E<_.length;E++)if(m=_[E],m.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&m.getAttribute("rel")===(o.rel==null?null:o.rel)&&m.getAttribute("title")===(o.title==null?null:o.title)&&m.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){_.splice(E,1);break t}}m=f.createElement(u),nn(m,u,o),f.head.appendChild(m);break;case"meta":if(_=Sb("meta","content",f).get(u+(o.content||""))){for(E=0;E<_.length;E++)if(m=_[E],m.getAttribute("content")===(o.content==null?null:""+o.content)&&m.getAttribute("name")===(o.name==null?null:o.name)&&m.getAttribute("property")===(o.property==null?null:o.property)&&m.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&m.getAttribute("charset")===(o.charSet==null?null:o.charSet)){_.splice(E,1);break t}}m=f.createElement(u),nn(m,u,o),f.head.appendChild(m);break;default:throw Error(i(468,u))}m[Dt]=n,Ot(m),u=m}n.stateNode=u}else Ab(f,n.type,n.stateNode);else n.stateNode=wb(f,u,n.memoizedProps);else m!==u?(m===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):m.count--,u===null?Ab(f,n.type,n.stateNode):wb(f,u,n.memoizedProps)):u===null&&n.stateNode!==null&&ag(n,n.memoizedProps,o.memoizedProps)}break;case 27:_n(s,n),vn(n),u&512&&(Lt||o===null||Hi(o,o.return)),o!==null&&u&4&&ag(n,n.memoizedProps,o.memoizedProps);break;case 5:if(_n(s,n),vn(n),u&512&&(Lt||o===null||Hi(o,o.return)),n.flags&32){f=n.stateNode;try{pn(f,"")}catch(me){tt(n,n.return,me)}}u&4&&n.stateNode!=null&&(f=n.memoizedProps,ag(n,f,o!==null?o.memoizedProps:f)),u&1024&&(ug=!0);break;case 6:if(_n(s,n),vn(n),u&4){if(n.stateNode===null)throw Error(i(162));u=n.memoizedProps,o=n.stateNode;try{o.nodeValue=u}catch(me){tt(n,n.return,me)}}break;case 3:if(af=null,f=mi,mi=rf(s.containerInfo),_n(s,n),mi=f,vn(n),u&4&&o!==null&&o.memoizedState.isDehydrated)try{jo(s.containerInfo)}catch(me){tt(n,n.return,me)}ug&&(ug=!1,A0(n));break;case 4:u=mi,mi=rf(n.stateNode.containerInfo),_n(s,n),vn(n),mi=u;break;case 12:_n(s,n),vn(n);break;case 31:_n(s,n),vn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qh(n,u)));break;case 13:_n(s,n),vn(n),n.child.flags&8192&&n.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Gh=cn()),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qh(n,u)));break;case 22:f=n.memoizedState!==null;var N=o!==null&&o.memoizedState!==null,F=dr,Y=Lt;if(dr=F||f,Lt=Y||N,_n(s,n),Lt=Y,dr=F,vn(n),u&8192)e:for(s=n.stateNode,s._visibility=f?s._visibility&-2:s._visibility|1,f&&(o===null||N||dr||Lt||ma(n)),o=null,s=n;;){if(s.tag===5||s.tag===26){if(o===null){N=o=s;try{if(m=N.stateNode,f)_=m.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{E=N.stateNode;var J=N.memoizedProps.style,q=J!=null&&J.hasOwnProperty("display")?J.display:null;E.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(me){tt(N,N.return,me)}}}else if(s.tag===6){if(o===null){N=s;try{N.stateNode.nodeValue=f?"":N.memoizedProps}catch(me){tt(N,N.return,me)}}}else if(s.tag===18){if(o===null){N=s;try{var G=N.stateNode;f?mb(G,!0):mb(N.stateNode,!1)}catch(me){tt(N,N.return,me)}}}else if((s.tag!==22&&s.tag!==23||s.memoizedState===null||s===n)&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===n)break e;for(;s.sibling===null;){if(s.return===null||s.return===n)break e;o===s&&(o=null),s=s.return}o===s&&(o=null),s.sibling.return=s.return,s=s.sibling}u&4&&(u=n.updateQueue,u!==null&&(o=u.retryQueue,o!==null&&(u.retryQueue=null,qh(n,o))));break;case 19:_n(s,n),vn(n),u&4&&(u=n.updateQueue,u!==null&&(n.updateQueue=null,qh(n,u)));break;case 30:break;case 21:break;default:_n(s,n),vn(n)}}function vn(n){var s=n.flags;if(s&2){try{for(var o,u=n.return;u!==null;){if(p0(u)){o=u;break}u=u.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var f=o.stateNode,m=og(n);Fh(n,m,f);break;case 5:var _=o.stateNode;o.flags&32&&(pn(_,""),o.flags&=-33);var E=og(n);Fh(n,E,_);break;case 3:case 4:var N=o.stateNode.containerInfo,F=og(n);lg(n,F,N);break;default:throw Error(i(161))}}catch(Y){tt(n,n.return,Y)}n.flags&=-3}s&4096&&(n.flags&=-4097)}function A0(n){if(n.subtreeFlags&1024)for(n=n.child;n!==null;){var s=n;A0(s),s.tag===5&&s.flags&1024&&s.stateNode.reset(),n=n.sibling}}function gr(n,s){if(s.subtreeFlags&8772)for(s=s.child;s!==null;)v0(n,s.alternate,s),s=s.sibling}function ma(n){for(n=n.child;n!==null;){var s=n;switch(s.tag){case 0:case 11:case 14:case 15:es(4,s,s.return),ma(s);break;case 1:Hi(s,s.return);var o=s.stateNode;typeof o.componentWillUnmount=="function"&&m0(s,s.return,o),ma(s);break;case 27:Du(s.stateNode);case 26:case 5:Hi(s,s.return),ma(s);break;case 22:s.memoizedState===null&&ma(s);break;case 30:ma(s);break;default:ma(s)}n=n.sibling}}function pr(n,s,o){for(o=o&&(s.subtreeFlags&8772)!==0,s=s.child;s!==null;){var u=s.alternate,f=n,m=s,_=m.flags;switch(m.tag){case 0:case 11:case 15:pr(f,m,o),Tu(4,m);break;case 1:if(pr(f,m,o),u=m,f=u.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch(F){tt(u,u.return,F)}if(u=m,f=u.updateQueue,f!==null){var E=u.stateNode;try{var N=f.shared.hiddenCallbacks;if(N!==null)for(f.shared.hiddenCallbacks=null,f=0;f<N.length;f++)nv(N[f],E)}catch(F){tt(u,u.return,F)}}o&&_&64&&d0(m),Eu(m,m.return);break;case 27:y0(m);case 26:case 5:pr(f,m,o),o&&u===null&&_&4&&g0(m),Eu(m,m.return);break;case 12:pr(f,m,o);break;case 31:pr(f,m,o),o&&_&4&&E0(f,m);break;case 13:pr(f,m,o),o&&_&4&&w0(f,m);break;case 22:m.memoizedState===null&&pr(f,m,o),Eu(m,m.return);break;case 30:break;default:pr(f,m,o)}s=s.sibling}}function cg(n,s){var o=null;n!==null&&n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),n=null,s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(n=s.memoizedState.cachePool.pool),n!==o&&(n!=null&&n.refCount++,o!=null&&lu(o))}function hg(n,s){n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&lu(n))}function gi(n,s,o,u){if(s.subtreeFlags&10256)for(s=s.child;s!==null;)I0(n,s,o,u),s=s.sibling}function I0(n,s,o,u){var f=s.flags;switch(s.tag){case 0:case 11:case 15:gi(n,s,o,u),f&2048&&Tu(9,s);break;case 1:gi(n,s,o,u);break;case 3:gi(n,s,o,u),f&2048&&(n=null,s.alternate!==null&&(n=s.alternate.memoizedState.cache),s=s.memoizedState.cache,s!==n&&(s.refCount++,n!=null&&lu(n)));break;case 12:if(f&2048){gi(n,s,o,u),n=s.stateNode;try{var m=s.memoizedProps,_=m.id,E=m.onPostCommit;typeof E=="function"&&E(_,s.alternate===null?"mount":"update",n.passiveEffectDuration,-0)}catch(N){tt(s,s.return,N)}}else gi(n,s,o,u);break;case 31:gi(n,s,o,u);break;case 13:gi(n,s,o,u);break;case 23:break;case 22:m=s.stateNode,_=s.alternate,s.memoizedState!==null?m._visibility&2?gi(n,s,o,u):wu(n,s):m._visibility&2?gi(n,s,o,u):(m._visibility|=2,Ro(n,s,o,u,(s.subtreeFlags&10256)!==0||!1)),f&2048&&cg(_,s);break;case 24:gi(n,s,o,u),f&2048&&hg(s.alternate,s);break;default:gi(n,s,o,u)}}function Ro(n,s,o,u,f){for(f=f&&((s.subtreeFlags&10256)!==0||!1),s=s.child;s!==null;){var m=n,_=s,E=o,N=u,F=_.flags;switch(_.tag){case 0:case 11:case 15:Ro(m,_,E,N,f),Tu(8,_);break;case 23:break;case 22:var Y=_.stateNode;_.memoizedState!==null?Y._visibility&2?Ro(m,_,E,N,f):wu(m,_):(Y._visibility|=2,Ro(m,_,E,N,f)),f&&F&2048&&cg(_.alternate,_);break;case 24:Ro(m,_,E,N,f),f&&F&2048&&hg(_.alternate,_);break;default:Ro(m,_,E,N,f)}s=s.sibling}}function wu(n,s){if(s.subtreeFlags&10256)for(s=s.child;s!==null;){var o=n,u=s,f=u.flags;switch(u.tag){case 22:wu(o,u),f&2048&&cg(u.alternate,u);break;case 24:wu(o,u),f&2048&&hg(u.alternate,u);break;default:wu(o,u)}s=s.sibling}}var Su=8192;function Co(n,s,o){if(n.subtreeFlags&Su)for(n=n.child;n!==null;)x0(n,s,o),n=n.sibling}function x0(n,s,o){switch(n.tag){case 26:Co(n,s,o),n.flags&Su&&n.memoizedState!==null&&Fx(o,mi,n.memoizedState,n.memoizedProps);break;case 5:Co(n,s,o);break;case 3:case 4:var u=mi;mi=rf(n.stateNode.containerInfo),Co(n,s,o),mi=u;break;case 22:n.memoizedState===null&&(u=n.alternate,u!==null&&u.memoizedState!==null?(u=Su,Su=16777216,Co(n,s,o),Su=u):Co(n,s,o));break;default:Co(n,s,o)}}function R0(n){var s=n.alternate;if(s!==null&&(n=s.child,n!==null)){s.child=null;do s=n.sibling,n.sibling=null,n=s;while(n!==null)}}function Au(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Qt=u,N0(u,n)}R0(n)}if(n.subtreeFlags&10256)for(n=n.child;n!==null;)C0(n),n=n.sibling}function C0(n){switch(n.tag){case 0:case 11:case 15:Au(n),n.flags&2048&&es(9,n,n.return);break;case 3:Au(n);break;case 12:Au(n);break;case 22:var s=n.stateNode;n.memoizedState!==null&&s._visibility&2&&(n.return===null||n.return.tag!==13)?(s._visibility&=-3,Hh(n)):Au(n);break;default:Au(n)}}function Hh(n){var s=n.deletions;if((n.flags&16)!==0){if(s!==null)for(var o=0;o<s.length;o++){var u=s[o];Qt=u,N0(u,n)}R0(n)}for(n=n.child;n!==null;){switch(s=n,s.tag){case 0:case 11:case 15:es(8,s,s.return),Hh(s);break;case 22:o=s.stateNode,o._visibility&2&&(o._visibility&=-3,Hh(s));break;default:Hh(s)}n=n.sibling}}function N0(n,s){for(;Qt!==null;){var o=Qt;switch(o.tag){case 0:case 11:case 15:es(8,o,s);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var u=o.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:lu(o.memoizedState.cache)}if(u=o.child,u!==null)u.return=o,Qt=u;else e:for(o=n;Qt!==null;){u=Qt;var f=u.sibling,m=u.return;if(b0(u),u===o){Qt=null;break e}if(f!==null){f.return=m,Qt=f;break e}Qt=m}}}var ix={getCacheForType:function(n){var s=en(Mt),o=s.data.get(n);return o===void 0&&(o=n(),s.data.set(n,o)),o},cacheSignal:function(){return en(Mt).controller.signal}},rx=typeof WeakMap=="function"?WeakMap:Map,We=0,ht=null,ze=null,Fe=0,et=0,Nn=null,ts=!1,No=!1,fg=!1,yr=0,Tt=0,ns=0,ga=0,dg=0,Dn=0,Do=0,Iu=null,bn=null,mg=!1,Gh=0,D0=0,Kh=1/0,Yh=null,is=null,Bt=0,rs=null,Oo=null,_r=0,gg=0,pg=null,O0=null,xu=0,yg=null;function On(){return(We&2)!==0&&Fe!==0?Fe&-Fe:L.T!==null?wg():Qc()}function V0(){if(Dn===0)if((Fe&536870912)===0||Ge){var n=Fs;Fs<<=1,(Fs&3932160)===0&&(Fs=262144),Dn=n}else Dn=536870912;return n=Rn.current,n!==null&&(n.flags|=32),Dn}function Tn(n,s,o){(n===ht&&(et===2||et===9)||n.cancelPendingCommit!==null)&&(Vo(n,0),ss(n,Fe,Dn,!1)),qs(n,o),((We&2)===0||n!==ht)&&(n===ht&&((We&2)===0&&(ga|=o),Tt===4&&ss(n,Fe,Dn,!1)),Gi(n))}function M0(n,s,o){if((We&6)!==0)throw Error(i(327));var u=!o&&(s&127)===0&&(s&n.expiredLanes)===0||si(n,s),f=u?ox(n,s):vg(n,s,!0),m=u;do{if(f===0){No&&!u&&ss(n,s,0,!1);break}else{if(o=n.current.alternate,m&&!sx(o)){f=vg(n,s,!1),m=!1;continue}if(f===2){if(m=s,n.errorRecoveryDisabledLanes&m)var _=0;else _=n.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){s=_;e:{var E=n;f=Iu;var N=E.current.memoizedState.isDehydrated;if(N&&(Vo(E,_).flags|=256),_=vg(E,_,!1),_!==2){if(fg&&!N){E.errorRecoveryDisabledLanes|=m,ga|=m,f=4;break e}m=bn,bn=f,m!==null&&(bn===null?bn=m:bn.push.apply(bn,m))}f=_}if(m=!1,f!==2)continue}}if(f===1){Vo(n,0),ss(n,s,0,!0);break}e:{switch(u=n,m=f,m){case 0:case 1:throw Error(i(345));case 4:if((s&4194048)!==s)break;case 6:ss(u,s,Dn,!ts);break e;case 2:bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((s&62914560)===s&&(f=Gh+300-cn(),10<f)){if(ss(u,s,Dn,!ts),xi(u,0,!0)!==0)break e;_r=s,u.timeoutHandle=hb(k0.bind(null,u,o,bn,Yh,mg,s,Dn,ga,Do,ts,m,"Throttled",-0,0),f);break e}k0(u,o,bn,Yh,mg,s,Dn,ga,Do,ts,m,null,-0,0)}}break}while(!0);Gi(n)}function k0(n,s,o,u,f,m,_,E,N,F,Y,J,q,G){if(n.timeoutHandle=-1,J=s.subtreeFlags,J&8192||(J&16785408)===16785408){J={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:li},x0(s,m,J);var me=(m&62914560)===m?Gh-cn():(m&4194048)===m?D0-cn():0;if(me=qx(J,me),me!==null){_r=m,n.cancelPendingCommit=me(q0.bind(null,n,s,m,o,u,f,_,E,N,Y,J,null,q,G)),ss(n,m,_,!F);return}}q0(n,s,m,o,u,f,_,E,N)}function sx(n){for(var s=n;;){var o=s.tag;if((o===0||o===11||o===15)&&s.flags&16384&&(o=s.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var u=0;u<o.length;u++){var f=o[u],m=f.getSnapshot;f=f.value;try{if(!In(m(),f))return!1}catch{return!1}}if(o=s.child,s.subtreeFlags&16384&&o!==null)o.return=s,s=o;else{if(s===n)break;for(;s.sibling===null;){if(s.return===null||s.return===n)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function ss(n,s,o,u){s&=~dg,s&=~ga,n.suspendedLanes|=s,n.pingedLanes&=~s,u&&(n.warmLanes|=s),u=n.expirationTimes;for(var f=s;0<f;){var m=31-wt(f),_=1<<m;u[m]=-1,f&=~_}o!==0&&Hs(n,o,s)}function Qh(){return(We&6)===0?(Ru(0),!1):!0}function _g(){if(ze!==null){if(et===0)var n=ze.return;else n=ze,or=aa=null,Mm(n),wo=null,cu=0,n=ze;for(;n!==null;)f0(n.alternate,n),n=n.return;ze=null}}function Vo(n,s){var o=n.timeoutHandle;o!==-1&&(n.timeoutHandle=-1,Ax(o)),o=n.cancelPendingCommit,o!==null&&(n.cancelPendingCommit=null,o()),_r=0,_g(),ht=n,ze=o=sr(n.current,null),Fe=s,et=0,Nn=null,ts=!1,No=si(n,s),fg=!1,Do=Dn=dg=ga=ns=Tt=0,bn=Iu=null,mg=!1,(s&8)!==0&&(s|=s&32);var u=n.entangledLanes;if(u!==0)for(n=n.entanglements,u&=s;0<u;){var f=31-wt(u),m=1<<f;s|=n[f],u&=~m}return yr=s,gh(),o}function P0(n,s){Pe=null,L.H=_u,s===Eo||s===wh?(s=J_(),et=3):s===Em?(s=J_(),et=4):et=s===Xm?8:s!==null&&typeof s=="object"&&typeof s.then=="function"?6:1,Nn=s,ze===null&&(Tt=1,Lh(n,Yn(s,n.current)))}function L0(){var n=Rn.current;return n===null?!0:(Fe&4194048)===Fe?Wn===null:(Fe&62914560)===Fe||(Fe&536870912)!==0?n===Wn:!1}function U0(){var n=L.H;return L.H=_u,n===null?_u:n}function j0(){var n=L.A;return L.A=ix,n}function $h(){Tt=4,ts||(Fe&4194048)!==Fe&&Rn.current!==null||(No=!0),(ns&134217727)===0&&(ga&134217727)===0||ht===null||ss(ht,Fe,Dn,!1)}function vg(n,s,o){var u=We;We|=2;var f=U0(),m=j0();(ht!==n||Fe!==s)&&(Yh=null,Vo(n,s)),s=!1;var _=Tt;e:do try{if(et!==0&&ze!==null){var E=ze,N=Nn;switch(et){case 8:_g(),_=6;break e;case 3:case 2:case 9:case 6:Rn.current===null&&(s=!0);var F=et;if(et=0,Nn=null,Mo(n,E,N,F),o&&No){_=0;break e}break;default:F=et,et=0,Nn=null,Mo(n,E,N,F)}}ax(),_=Tt;break}catch(Y){P0(n,Y)}while(!0);return s&&n.shellSuspendCounter++,or=aa=null,We=u,L.H=f,L.A=m,ze===null&&(ht=null,Fe=0,gh()),_}function ax(){for(;ze!==null;)z0(ze)}function ox(n,s){var o=We;We|=2;var u=U0(),f=j0();ht!==n||Fe!==s?(Yh=null,Kh=cn()+500,Vo(n,s)):No=si(n,s);e:do try{if(et!==0&&ze!==null){s=ze;var m=Nn;t:switch(et){case 1:et=0,Nn=null,Mo(n,s,m,1);break;case 2:case 9:if(X_(m)){et=0,Nn=null,B0(s);break}s=function(){et!==2&&et!==9||ht!==n||(et=7),Gi(n)},m.then(s,s);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:X_(m)?(et=0,Nn=null,B0(s)):(et=0,Nn=null,Mo(n,s,m,7));break;case 5:var _=null;switch(ze.tag){case 26:_=ze.memoizedState;case 5:case 27:var E=ze;if(_?Ib(_):E.stateNode.complete){et=0,Nn=null;var N=E.sibling;if(N!==null)ze=N;else{var F=E.return;F!==null?(ze=F,Xh(F)):ze=null}break t}}et=0,Nn=null,Mo(n,s,m,5);break;case 6:et=0,Nn=null,Mo(n,s,m,6);break;case 8:_g(),Tt=6;break e;default:throw Error(i(462))}}lx();break}catch(Y){P0(n,Y)}while(!0);return or=aa=null,L.H=u,L.A=f,We=o,ze!==null?0:(ht=null,Fe=0,gh(),Tt)}function lx(){for(;ze!==null&&!$d();)z0(ze)}function z0(n){var s=c0(n.alternate,n,yr);n.memoizedProps=n.pendingProps,s===null?Xh(n):ze=s}function B0(n){var s=n,o=s.alternate;switch(s.tag){case 15:case 0:s=r0(o,s,s.pendingProps,s.type,void 0,Fe);break;case 11:s=r0(o,s,s.pendingProps,s.type.render,s.ref,Fe);break;case 5:Mm(s);default:f0(o,s),s=ze=j_(s,yr),s=c0(o,s,yr)}n.memoizedProps=n.pendingProps,s===null?Xh(n):ze=s}function Mo(n,s,o,u){or=aa=null,Mm(s),wo=null,cu=0;var f=s.return;try{if(XI(n,f,s,o,Fe)){Tt=1,Lh(n,Yn(o,n.current)),ze=null;return}}catch(m){if(f!==null)throw ze=f,m;Tt=1,Lh(n,Yn(o,n.current)),ze=null;return}s.flags&32768?(Ge||u===1?n=!0:No||(Fe&536870912)!==0?n=!1:(ts=n=!0,(u===2||u===9||u===3||u===6)&&(u=Rn.current,u!==null&&u.tag===13&&(u.flags|=16384))),F0(s,n)):Xh(s)}function Xh(n){var s=n;do{if((s.flags&32768)!==0){F0(s,ts);return}n=s.return;var o=ZI(s.alternate,s,yr);if(o!==null){ze=o;return}if(s=s.sibling,s!==null){ze=s;return}ze=s=n}while(s!==null);Tt===0&&(Tt=5)}function F0(n,s){do{var o=ex(n.alternate,n);if(o!==null){o.flags&=32767,ze=o;return}if(o=n.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!s&&(n=n.sibling,n!==null)){ze=n;return}ze=n=o}while(n!==null);Tt=6,ze=null}function q0(n,s,o,u,f,m,_,E,N){n.cancelPendingCommit=null;do Wh();while(Bt!==0);if((We&6)!==0)throw Error(i(327));if(s!==null){if(s===n.current)throw Error(i(177));if(m=s.lanes|s.childLanes,m|=om,Jd(n,o,m,_,E,N),n===ht&&(ze=ht=null,Fe=0),Oo=s,rs=n,_r=o,gg=m,pg=f,O0=u,(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?(n.callbackNode=null,n.callbackPriority=0,fx(kr,function(){return Q0(),null})):(n.callbackNode=null,n.callbackPriority=0),u=(s.flags&13878)!==0,(s.subtreeFlags&13878)!==0||u){u=L.T,L.T=null,f=W.p,W.p=2,_=We,We|=4;try{tx(n,s,o)}finally{We=_,W.p=f,L.T=u}}Bt=1,H0(),G0(),K0()}}function H0(){if(Bt===1){Bt=0;var n=rs,s=Oo,o=(s.flags&13878)!==0;if((s.subtreeFlags&13878)!==0||o){o=L.T,L.T=null;var u=W.p;W.p=2;var f=We;We|=4;try{S0(s,n);var m=Dg,_=N_(n.containerInfo),E=m.focusedElem,N=m.selectionRange;if(_!==E&&E&&E.ownerDocument&&C_(E.ownerDocument.documentElement,E)){if(N!==null&&nm(E)){var F=N.start,Y=N.end;if(Y===void 0&&(Y=F),"selectionStart"in E)E.selectionStart=F,E.selectionEnd=Math.min(Y,E.value.length);else{var J=E.ownerDocument||document,q=J&&J.defaultView||window;if(q.getSelection){var G=q.getSelection(),me=E.textContent.length,xe=Math.min(N.start,me),lt=N.end===void 0?xe:Math.min(N.end,me);!G.extend&&xe>lt&&(_=lt,lt=xe,xe=_);var P=R_(E,xe),V=R_(E,lt);if(P&&V&&(G.rangeCount!==1||G.anchorNode!==P.node||G.anchorOffset!==P.offset||G.focusNode!==V.node||G.focusOffset!==V.offset)){var B=J.createRange();B.setStart(P.node,P.offset),G.removeAllRanges(),xe>lt?(G.addRange(B),G.extend(V.node,V.offset)):(B.setEnd(V.node,V.offset),G.addRange(B))}}}}for(J=[],G=E;G=G.parentNode;)G.nodeType===1&&J.push({element:G,left:G.scrollLeft,top:G.scrollTop});for(typeof E.focus=="function"&&E.focus(),E=0;E<J.length;E++){var $=J[E];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}cf=!!Ng,Dg=Ng=null}finally{We=f,W.p=u,L.T=o}}n.current=s,Bt=2}}function G0(){if(Bt===2){Bt=0;var n=rs,s=Oo,o=(s.flags&8772)!==0;if((s.subtreeFlags&8772)!==0||o){o=L.T,L.T=null;var u=W.p;W.p=2;var f=We;We|=4;try{v0(n,s.alternate,s)}finally{We=f,W.p=u,L.T=o}}Bt=3}}function K0(){if(Bt===4||Bt===3){Bt=0,Bc();var n=rs,s=Oo,o=_r,u=O0;(s.subtreeFlags&10256)!==0||(s.flags&10256)!==0?Bt=5:(Bt=0,Oo=rs=null,Y0(n,n.pendingLanes));var f=n.pendingLanes;if(f===0&&(is=null),tr(o),s=s.stateNode,Wt&&typeof Wt.onCommitFiberRoot=="function")try{Wt.onCommitFiberRoot(ri,s,void 0,(s.current.flags&128)===128)}catch{}if(u!==null){s=L.T,f=W.p,W.p=2,L.T=null;try{for(var m=n.onRecoverableError,_=0;_<u.length;_++){var E=u[_];m(E.value,{componentStack:E.stack})}}finally{L.T=s,W.p=f}}(_r&3)!==0&&Wh(),Gi(n),f=n.pendingLanes,(o&261930)!==0&&(f&42)!==0?n===yg?xu++:(xu=0,yg=n):xu=0,Ru(0)}}function Y0(n,s){(n.pooledCacheLanes&=s)===0&&(s=n.pooledCache,s!=null&&(n.pooledCache=null,lu(s)))}function Wh(){return H0(),G0(),K0(),Q0()}function Q0(){if(Bt!==5)return!1;var n=rs,s=gg;gg=0;var o=tr(_r),u=L.T,f=W.p;try{W.p=32>o?32:o,L.T=null,o=pg,pg=null;var m=rs,_=_r;if(Bt=0,Oo=rs=null,_r=0,(We&6)!==0)throw Error(i(331));var E=We;if(We|=4,C0(m.current),I0(m,m.current,_,o),We=E,Ru(0,!1),Wt&&typeof Wt.onPostCommitFiberRoot=="function")try{Wt.onPostCommitFiberRoot(ri,m)}catch{}return!0}finally{W.p=f,L.T=u,Y0(n,s)}}function $0(n,s,o){s=Yn(o,s),s=$m(n.stateNode,s,2),n=Wr(n,s,2),n!==null&&(qs(n,2),Gi(n))}function tt(n,s,o){if(n.tag===3)$0(n,n,o);else for(;s!==null;){if(s.tag===3){$0(s,n,o);break}else if(s.tag===1){var u=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(is===null||!is.has(u))){n=Yn(o,n),o=Xv(2),u=Wr(s,o,2),u!==null&&(Wv(o,u,s,n),qs(u,2),Gi(u));break}}s=s.return}}function bg(n,s,o){var u=n.pingCache;if(u===null){u=n.pingCache=new rx;var f=new Set;u.set(s,f)}else f=u.get(s),f===void 0&&(f=new Set,u.set(s,f));f.has(o)||(fg=!0,f.add(o),n=ux.bind(null,n,s,o),s.then(n,n))}function ux(n,s,o){var u=n.pingCache;u!==null&&u.delete(s),n.pingedLanes|=n.suspendedLanes&o,n.warmLanes&=~o,ht===n&&(Fe&o)===o&&(Tt===4||Tt===3&&(Fe&62914560)===Fe&&300>cn()-Gh?(We&2)===0&&Vo(n,0):dg|=o,Do===Fe&&(Do=0)),Gi(n)}function X0(n,s){s===0&&(s=Yc()),n=ia(n,s),n!==null&&(qs(n,s),Gi(n))}function cx(n){var s=n.memoizedState,o=0;s!==null&&(o=s.retryLane),X0(n,o)}function hx(n,s){var o=0;switch(n.tag){case 31:case 13:var u=n.stateNode,f=n.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=n.stateNode;break;case 22:u=n.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(s),X0(n,o)}function fx(n,s){return zt(n,s)}var Jh=null,ko=null,Tg=!1,Zh=!1,Eg=!1,as=0;function Gi(n){n!==ko&&n.next===null&&(ko===null?Jh=ko=n:ko=ko.next=n),Zh=!0,Tg||(Tg=!0,mx())}function Ru(n,s){if(!Eg&&Zh){Eg=!0;do for(var o=!1,u=Jh;u!==null;){if(n!==0){var f=u.pendingLanes;if(f===0)var m=0;else{var _=u.suspendedLanes,E=u.pingedLanes;m=(1<<31-wt(42|n)+1)-1,m&=f&~(_&~E),m=m&201326741?m&201326741|1:m?m|2:0}m!==0&&(o=!0,eb(u,m))}else m=Fe,m=xi(u,u===ht?m:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(m&3)===0||si(u,m)||(o=!0,eb(u,m));u=u.next}while(o);Eg=!1}}function dx(){W0()}function W0(){Zh=Tg=!1;var n=0;as!==0&&Sx()&&(n=as);for(var s=cn(),o=null,u=Jh;u!==null;){var f=u.next,m=J0(u,s);m===0?(u.next=null,o===null?Jh=f:o.next=f,f===null&&(ko=o)):(o=u,(n!==0||(m&3)!==0)&&(Zh=!0)),u=f}Bt!==0&&Bt!==5||Ru(n),as!==0&&(as=0)}function J0(n,s){for(var o=n.suspendedLanes,u=n.pingedLanes,f=n.expirationTimes,m=n.pendingLanes&-62914561;0<m;){var _=31-wt(m),E=1<<_,N=f[_];N===-1?((E&o)===0||(E&u)!==0)&&(f[_]=Wd(E,s)):N<=s&&(n.expiredLanes|=E),m&=~E}if(s=ht,o=Fe,o=xi(n,n===s?o:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u=n.callbackNode,o===0||n===s&&(et===2||et===9)||n.cancelPendingCommit!==null)return u!==null&&u!==null&&Mr(u),n.callbackNode=null,n.callbackPriority=0;if((o&3)===0||si(n,o)){if(s=o&-o,s===n.callbackPriority)return s;switch(u!==null&&Mr(u),tr(o)){case 2:case 8:o=Ul;break;case 32:o=kr;break;case 268435456:o=Fc;break;default:o=kr}return u=Z0.bind(null,n),o=zt(o,u),n.callbackPriority=s,n.callbackNode=o,s}return u!==null&&u!==null&&Mr(u),n.callbackPriority=2,n.callbackNode=null,2}function Z0(n,s){if(Bt!==0&&Bt!==5)return n.callbackNode=null,n.callbackPriority=0,null;var o=n.callbackNode;if(Wh()&&n.callbackNode!==o)return null;var u=Fe;return u=xi(n,n===ht?u:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),u===0?null:(M0(n,u,s),J0(n,cn()),n.callbackNode!=null&&n.callbackNode===o?Z0.bind(null,n):null)}function eb(n,s){if(Wh())return null;M0(n,s,!0)}function mx(){Ix(function(){(We&6)!==0?zt(Ll,dx):W0()})}function wg(){if(as===0){var n=bo;n===0&&(n=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),as=n}return as}function tb(n){return n==null||typeof n=="symbol"||typeof n=="boolean"?null:typeof n=="function"?n:ro(""+n)}function nb(n,s){var o=s.ownerDocument.createElement("input");return o.name=s.name,o.value=s.value,n.id&&o.setAttribute("form",n.id),s.parentNode.insertBefore(o,s),n=new FormData(n),o.parentNode.removeChild(o),n}function gx(n,s,o,u,f){if(s==="submit"&&o&&o.stateNode===f){var m=tb((f[Kt]||null).action),_=u.submitter;_&&(s=(s=_[Kt]||null)?tb(s.formAction):_.getAttribute("formAction"),s!==null&&(m=s,_=null));var E=new Ui("action","action",null,u,f);n.push({event:E,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(as!==0){var N=_?nb(f,_):new FormData(f);qm(o,{pending:!0,data:N,method:f.method,action:m},null,N)}}else typeof m=="function"&&(E.preventDefault(),N=_?nb(f,_):new FormData(f),qm(o,{pending:!0,data:N,method:f.method,action:m},m,N))},currentTarget:f}]})}}for(var Sg=0;Sg<am.length;Sg++){var Ag=am[Sg],px=Ag.toLowerCase(),yx=Ag[0].toUpperCase()+Ag.slice(1);di(px,"on"+yx)}di(V_,"onAnimationEnd"),di(M_,"onAnimationIteration"),di(k_,"onAnimationStart"),di("dblclick","onDoubleClick"),di("focusin","onFocus"),di("focusout","onBlur"),di(VI,"onTransitionRun"),di(MI,"onTransitionStart"),di(kI,"onTransitionCancel"),di(P_,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Vi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Vi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Vi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Vi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Vi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Cu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_x=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Cu));function ib(n,s){s=(s&4)!==0;for(var o=0;o<n.length;o++){var u=n[o],f=u.event;u=u.listeners;e:{var m=void 0;if(s)for(var _=u.length-1;0<=_;_--){var E=u[_],N=E.instance,F=E.currentTarget;if(E=E.listener,N!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=F;try{m(f)}catch(Y){mh(Y)}f.currentTarget=null,m=N}else for(_=0;_<u.length;_++){if(E=u[_],N=E.instance,F=E.currentTarget,E=E.listener,N!==m&&f.isPropagationStopped())break e;m=E,f.currentTarget=F;try{m(f)}catch(Y){mh(Y)}f.currentTarget=null,m=N}}}}function Be(n,s){var o=s[Za];o===void 0&&(o=s[Za]=new Set);var u=n+"__bubble";o.has(u)||(rb(s,n,2,!1),o.add(u))}function Ig(n,s,o){var u=0;s&&(u|=4),rb(o,n,u,s)}var ef="_reactListening"+Math.random().toString(36).slice(2);function xg(n){if(!n[ef]){n[ef]=!0,Bl.forEach(function(o){o!=="selectionchange"&&(_x.has(o)||Ig(o,!1,n),Ig(o,!0,n))});var s=n.nodeType===9?n:n.ownerDocument;s===null||s[ef]||(s[ef]=!0,Ig("selectionchange",!1,s))}}function rb(n,s,o,u){switch(Vb(s)){case 2:var f=Kx;break;case 8:f=Yx;break;default:f=Fg}o=f.bind(null,s,o,n),f=void 0,!$s||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(f=!0),u?f!==void 0?n.addEventListener(s,o,{capture:!0,passive:f}):n.addEventListener(s,o,!0):f!==void 0?n.addEventListener(s,o,{passive:f}):n.addEventListener(s,o,!1)}function Rg(n,s,o,u,f){var m=u;if((s&1)===0&&(s&2)===0&&u!==null)e:for(;;){if(u===null)return;var _=u.tag;if(_===3||_===4){var E=u.stateNode.containerInfo;if(E===f)break;if(_===4)for(_=u.return;_!==null;){var N=_.tag;if((N===3||N===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;E!==null;){if(_=Di(E),_===null)return;if(N=_.tag,N===5||N===6||N===26||N===27){u=m=_;continue e}E=E.parentNode}}u=u.return}Br(function(){var F=m,Y=qn(o),J=[];e:{var q=L_.get(n);if(q!==void 0){var G=Ui,me=n;switch(n){case"keypress":if(Ws(o)===0)break e;case"keydown":case"keyup":G=hh;break;case"focusin":me="focus",G=Zs;break;case"focusout":me="blur",G=Zs;break;case"beforeblur":case"afterblur":G=Zs;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":G=eu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":G=nh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":G=y;break;case V_:case M_:case k_:G=rh;break;case P_:G=S;break;case"scroll":case"scrollend":G=Zl;break;case"wheel":G=H;break;case"copy":case"cut":case"paste":G=sh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":G=rr;break;case"toggle":case"beforetoggle":G=ke}var xe=(s&4)!==0,lt=!xe&&(n==="scroll"||n==="scrollend"),P=xe?q!==null?q+"Capture":null:q;xe=[];for(var V=F,B;V!==null;){var $=V;if(B=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||B===null||P===null||($=ui(V,P),$!=null&&xe.push(Nu(V,$,B))),lt)break;V=V.return}0<xe.length&&(q=new G(q,me,null,o,Y),J.push({event:q,listeners:xe}))}}if((s&7)===0){e:{if(q=n==="mouseover"||n==="pointerover",G=n==="mouseout"||n==="pointerout",q&&o!==Xl&&(me=o.relatedTarget||o.fromElement)&&(Di(me)||me[Ci]))break e;if((G||q)&&(q=Y.window===Y?Y:(q=Y.ownerDocument)?q.defaultView||q.parentWindow:window,G?(me=o.relatedTarget||o.toElement,G=F,me=me?Di(me):null,me!==null&&(lt=l(me),xe=me.tag,me!==lt||xe!==5&&xe!==27&&xe!==6)&&(me=null)):(G=null,me=F),G!==me)){if(xe=eu,$="onMouseLeave",P="onMouseEnter",V="mouse",(n==="pointerout"||n==="pointerover")&&(xe=rr,$="onPointerLeave",P="onPointerEnter",V="pointer"),lt=G==null?q:Sn(G),B=me==null?q:Sn(me),q=new xe($,V+"leave",G,o,Y),q.target=lt,q.relatedTarget=B,$=null,Di(Y)===F&&(xe=new xe(P,V+"enter",me,o,Y),xe.target=B,xe.relatedTarget=lt,$=xe),lt=$,G&&me)t:{for(xe=vx,P=G,V=me,B=0,$=P;$;$=xe($))B++;$=0;for(var Ee=V;Ee;Ee=xe(Ee))$++;for(;0<B-$;)P=xe(P),B--;for(;0<$-B;)V=xe(V),$--;for(;B--;){if(P===V||V!==null&&P===V.alternate){xe=P;break t}P=xe(P),V=xe(V)}xe=null}else xe=null;G!==null&&sb(J,q,G,xe,!1),me!==null&&lt!==null&&sb(J,lt,me,xe,!0)}}e:{if(q=F?Sn(F):window,G=q.nodeName&&q.nodeName.toLowerCase(),G==="select"||G==="input"&&q.type==="file")var Qe=E_;else if(b_(q))if(w_)Qe=NI;else{Qe=RI;var _e=xI}else G=q.nodeName,!G||G.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?F&&io(F.elementType)&&(Qe=E_):Qe=CI;if(Qe&&(Qe=Qe(n,F))){T_(J,Qe,o,Y);break e}_e&&_e(n,q,F),n==="focusout"&&F&&q.type==="number"&&F.memoizedProps.value!=null&&Yl(q,"number",q.value)}switch(_e=F?Sn(F):window,n){case"focusin":(b_(_e)||_e.contentEditable==="true")&&(ho=_e,im=F,su=null);break;case"focusout":su=im=ho=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,D_(J,o,Y);break;case"selectionchange":if(OI)break;case"keydown":case"keyup":D_(J,o,Y)}var Le;if(Xe)e:{switch(n){case"compositionstart":var qe="onCompositionStart";break e;case"compositionend":qe="onCompositionEnd";break e;case"compositionupdate":qe="onCompositionUpdate";break e}qe=void 0}else co?ea(n,o)&&(qe="onCompositionEnd"):n==="keydown"&&o.keyCode===229&&(qe="onCompositionStart");qe&&(Bi&&o.locale!=="ko"&&(co||qe!=="onCompositionStart"?qe==="onCompositionEnd"&&co&&(Le=Jl()):(Li=Y,Wl="value"in Li?Li.value:Li.textContent,co=!0)),_e=tf(F,qe),0<_e.length&&(qe=new zi(qe,n,null,o,Y),J.push({event:qe,listeners:_e}),Le?qe.data=Le:(Le=uo(o),Le!==null&&(qe.data=Le)))),(Le=Gn?wI(n,o):SI(n,o))&&(qe=tf(F,"onBeforeInput"),0<qe.length&&(_e=new zi("onBeforeInput","beforeinput",null,o,Y),J.push({event:_e,listeners:qe}),_e.data=Le)),gx(J,n,F,o,Y)}ib(J,s)})}function Nu(n,s,o){return{instance:n,listener:s,currentTarget:o}}function tf(n,s){for(var o=s+"Capture",u=[];n!==null;){var f=n,m=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||m===null||(f=ui(n,o),f!=null&&u.unshift(Nu(n,f,m)),f=ui(n,s),f!=null&&u.push(Nu(n,f,m))),n.tag===3)return u;n=n.return}return[]}function vx(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5&&n.tag!==27);return n||null}function sb(n,s,o,u,f){for(var m=s._reactName,_=[];o!==null&&o!==u;){var E=o,N=E.alternate,F=E.stateNode;if(E=E.tag,N!==null&&N===u)break;E!==5&&E!==26&&E!==27||F===null||(N=F,f?(F=ui(o,m),F!=null&&_.unshift(Nu(o,F,N))):f||(F=ui(o,m),F!=null&&_.push(Nu(o,F,N)))),o=o.return}_.length!==0&&n.push({event:s,listeners:_})}var bx=/\r\n?/g,Tx=/\u0000|\uFFFD/g;function ab(n){return(typeof n=="string"?n:""+n).replace(bx,`
`).replace(Tx,"")}function ob(n,s){return s=ab(s),ab(n)===s}function ot(n,s,o,u,f,m){switch(o){case"children":typeof u=="string"?s==="body"||s==="textarea"&&u===""||pn(n,u):(typeof u=="number"||typeof u=="bigint")&&s!=="body"&&pn(n,""+u);break;case"className":An(n,"class",u);break;case"tabIndex":An(n,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":An(n,o,u);break;case"style":$l(n,u,m);break;case"data":if(s!=="object"){An(n,"data",u);break}case"src":case"href":if(u===""&&(s!=="a"||o!=="href")){n.removeAttribute(o);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=ro(""+u),n.setAttribute(o,u);break;case"action":case"formAction":if(typeof u=="function"){n.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof m=="function"&&(o==="formAction"?(s!=="input"&&ot(n,s,"name",f.name,f,null),ot(n,s,"formEncType",f.formEncType,f,null),ot(n,s,"formMethod",f.formMethod,f,null),ot(n,s,"formTarget",f.formTarget,f,null)):(ot(n,s,"encType",f.encType,f,null),ot(n,s,"method",f.method,f,null),ot(n,s,"target",f.target,f,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){n.removeAttribute(o);break}u=ro(""+u),n.setAttribute(o,u);break;case"onClick":u!=null&&(n.onclick=li);break;case"onScroll":u!=null&&Be("scroll",n);break;case"onScrollEnd":u!=null&&Be("scrollend",n);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"multiple":n.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":n.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){n.removeAttribute("xlink:href");break}o=ro(""+u),n.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""+u):n.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,""):n.removeAttribute(o);break;case"capture":case"download":u===!0?n.setAttribute(o,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?n.setAttribute(o,u):n.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?n.setAttribute(o,u):n.removeAttribute(o);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?n.removeAttribute(o):n.setAttribute(o,u);break;case"popover":Be("beforetoggle",n),Be("toggle",n),to(n,"popover",u);break;case"xlinkActuate":Vt(n,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":Vt(n,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":Vt(n,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":Vt(n,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":Vt(n,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":Vt(n,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":Vt(n,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":Vt(n,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":Vt(n,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":to(n,"is",u);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=th.get(o)||o,to(n,o,u))}}function Cg(n,s,o,u,f,m){switch(o){case"style":$l(n,u,m);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(o=u.__html,o!=null){if(f.children!=null)throw Error(i(60));n.innerHTML=o}}break;case"children":typeof u=="string"?pn(n,u):(typeof u=="number"||typeof u=="bigint")&&pn(n,""+u);break;case"onScroll":u!=null&&Be("scroll",n);break;case"onScrollEnd":u!=null&&Be("scrollend",n);break;case"onClick":u!=null&&(n.onclick=li);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fl.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(f=o.endsWith("Capture"),s=o.slice(2,f?o.length-7:void 0),m=n[Kt]||null,m=m!=null?m[o]:null,typeof m=="function"&&n.removeEventListener(s,m,f),typeof u=="function")){typeof m!="function"&&m!==null&&(o in n?n[o]=null:n.hasAttribute(o)&&n.removeAttribute(o)),n.addEventListener(s,u,f);break e}o in n?n[o]=u:u===!0?n.setAttribute(o,""):to(n,o,u)}}}function nn(n,s,o){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Be("error",n),Be("load",n);var u=!1,f=!1,m;for(m in o)if(o.hasOwnProperty(m)){var _=o[m];if(_!=null)switch(m){case"src":u=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ot(n,s,m,_,o,null)}}f&&ot(n,s,"srcSet",o.srcSet,o,null),u&&ot(n,s,"src",o.src,o,null);return;case"input":Be("invalid",n);var E=m=_=f=null,N=null,F=null;for(u in o)if(o.hasOwnProperty(u)){var Y=o[u];if(Y!=null)switch(u){case"name":f=Y;break;case"type":_=Y;break;case"checked":N=Y;break;case"defaultChecked":F=Y;break;case"value":m=Y;break;case"defaultValue":E=Y;break;case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,s));break;default:ot(n,s,u,Y,o,null)}}Jc(n,m,E,N,F,_,f,!1);return;case"select":Be("invalid",n),u=_=m=null;for(f in o)if(o.hasOwnProperty(f)&&(E=o[f],E!=null))switch(f){case"value":m=E;break;case"defaultValue":_=E;break;case"multiple":u=E;default:ot(n,s,f,E,o,null)}s=m,o=_,n.multiple=!!u,s!=null?Lr(n,!!u,s,!1):o!=null&&Lr(n,!!u,o,!0);return;case"textarea":Be("invalid",n),m=f=u=null;for(_ in o)if(o.hasOwnProperty(_)&&(E=o[_],E!=null))switch(_){case"value":u=E;break;case"defaultValue":f=E;break;case"children":m=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(i(91));break;default:ot(n,s,_,E,o,null)}Ur(n,u,f,m);return;case"option":for(N in o)if(o.hasOwnProperty(N)&&(u=o[N],u!=null))switch(N){case"selected":n.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ot(n,s,N,u,o,null)}return;case"dialog":Be("beforetoggle",n),Be("toggle",n),Be("cancel",n),Be("close",n);break;case"iframe":case"object":Be("load",n);break;case"video":case"audio":for(u=0;u<Cu.length;u++)Be(Cu[u],n);break;case"image":Be("error",n),Be("load",n);break;case"details":Be("toggle",n);break;case"embed":case"source":case"link":Be("error",n),Be("load",n);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(F in o)if(o.hasOwnProperty(F)&&(u=o[F],u!=null))switch(F){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,s));default:ot(n,s,F,u,o,null)}return;default:if(io(s)){for(Y in o)o.hasOwnProperty(Y)&&(u=o[Y],u!==void 0&&Cg(n,s,Y,u,o,void 0));return}}for(E in o)o.hasOwnProperty(E)&&(u=o[E],u!=null&&ot(n,s,E,u,o,null))}function Ex(n,s,o,u){switch(s){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,m=null,_=null,E=null,N=null,F=null,Y=null;for(G in o){var J=o[G];if(o.hasOwnProperty(G)&&J!=null)switch(G){case"checked":break;case"value":break;case"defaultValue":N=J;default:u.hasOwnProperty(G)||ot(n,s,G,null,u,J)}}for(var q in u){var G=u[q];if(J=o[q],u.hasOwnProperty(q)&&(G!=null||J!=null))switch(q){case"type":m=G;break;case"name":f=G;break;case"checked":F=G;break;case"defaultChecked":Y=G;break;case"value":_=G;break;case"defaultValue":E=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(i(137,s));break;default:G!==J&&ot(n,s,q,G,u,J)}}no(n,_,E,N,F,Y,m,f);return;case"select":G=_=E=q=null;for(m in o)if(N=o[m],o.hasOwnProperty(m)&&N!=null)switch(m){case"value":break;case"multiple":G=N;default:u.hasOwnProperty(m)||ot(n,s,m,null,u,N)}for(f in u)if(m=u[f],N=o[f],u.hasOwnProperty(f)&&(m!=null||N!=null))switch(f){case"value":q=m;break;case"defaultValue":E=m;break;case"multiple":_=m;default:m!==N&&ot(n,s,f,m,u,N)}s=E,o=_,u=G,q!=null?Lr(n,!!o,q,!1):!!u!=!!o&&(s!=null?Lr(n,!!o,s,!0):Lr(n,!!o,o?[]:"",!1));return;case"textarea":G=q=null;for(E in o)if(f=o[E],o.hasOwnProperty(E)&&f!=null&&!u.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:ot(n,s,E,null,u,f)}for(_ in u)if(f=u[_],m=o[_],u.hasOwnProperty(_)&&(f!=null||m!=null))switch(_){case"value":q=f;break;case"defaultValue":G=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(i(91));break;default:f!==m&&ot(n,s,_,f,u,m)}Zc(n,q,G);return;case"option":for(var me in o)if(q=o[me],o.hasOwnProperty(me)&&q!=null&&!u.hasOwnProperty(me))switch(me){case"selected":n.selected=!1;break;default:ot(n,s,me,null,u,q)}for(N in u)if(q=u[N],G=o[N],u.hasOwnProperty(N)&&q!==G&&(q!=null||G!=null))switch(N){case"selected":n.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:ot(n,s,N,q,u,G)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xe in o)q=o[xe],o.hasOwnProperty(xe)&&q!=null&&!u.hasOwnProperty(xe)&&ot(n,s,xe,null,u,q);for(F in u)if(q=u[F],G=o[F],u.hasOwnProperty(F)&&q!==G&&(q!=null||G!=null))switch(F){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(i(137,s));break;default:ot(n,s,F,q,u,G)}return;default:if(io(s)){for(var lt in o)q=o[lt],o.hasOwnProperty(lt)&&q!==void 0&&!u.hasOwnProperty(lt)&&Cg(n,s,lt,void 0,u,q);for(Y in u)q=u[Y],G=o[Y],!u.hasOwnProperty(Y)||q===G||q===void 0&&G===void 0||Cg(n,s,Y,q,u,G);return}}for(var P in o)q=o[P],o.hasOwnProperty(P)&&q!=null&&!u.hasOwnProperty(P)&&ot(n,s,P,null,u,q);for(J in u)q=u[J],G=o[J],!u.hasOwnProperty(J)||q===G||q==null&&G==null||ot(n,s,J,q,u,G)}function lb(n){switch(n){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wx(){if(typeof performance.getEntriesByType=="function"){for(var n=0,s=0,o=performance.getEntriesByType("resource"),u=0;u<o.length;u++){var f=o[u],m=f.transferSize,_=f.initiatorType,E=f.duration;if(m&&E&&lb(_)){for(_=0,E=f.responseEnd,u+=1;u<o.length;u++){var N=o[u],F=N.startTime;if(F>E)break;var Y=N.transferSize,J=N.initiatorType;Y&&lb(J)&&(N=N.responseEnd,_+=Y*(N<E?1:(E-F)/(N-F)))}if(--u,s+=8*(m+_)/(f.duration/1e3),n++,10<n)break}}if(0<n)return s/n/1e6}return navigator.connection&&(n=navigator.connection.downlink,typeof n=="number")?n:5}var Ng=null,Dg=null;function nf(n){return n.nodeType===9?n:n.ownerDocument}function ub(n){switch(n){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function cb(n,s){if(n===0)switch(s){case"svg":return 1;case"math":return 2;default:return 0}return n===1&&s==="foreignObject"?0:n}function Og(n,s){return n==="textarea"||n==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.children=="bigint"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var Vg=null;function Sx(){var n=window.event;return n&&n.type==="popstate"?n===Vg?!1:(Vg=n,!0):(Vg=null,!1)}var hb=typeof setTimeout=="function"?setTimeout:void 0,Ax=typeof clearTimeout=="function"?clearTimeout:void 0,fb=typeof Promise=="function"?Promise:void 0,Ix=typeof queueMicrotask=="function"?queueMicrotask:typeof fb<"u"?function(n){return fb.resolve(null).then(n).catch(xx)}:hb;function xx(n){setTimeout(function(){throw n})}function os(n){return n==="head"}function db(n,s){var o=s,u=0;do{var f=o.nextSibling;if(n.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"||o==="/&"){if(u===0){n.removeChild(f),jo(s);return}u--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")u++;else if(o==="html")Du(n.ownerDocument.documentElement);else if(o==="head"){o=n.ownerDocument.head,Du(o);for(var m=o.firstChild;m;){var _=m.nextSibling,E=m.nodeName;m[Ni]||E==="SCRIPT"||E==="STYLE"||E==="LINK"&&m.rel.toLowerCase()==="stylesheet"||o.removeChild(m),m=_}}else o==="body"&&Du(n.ownerDocument.body);o=f}while(o);jo(s)}function mb(n,s){var o=n;n=0;do{var u=o.nextSibling;if(o.nodeType===1?s?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(s?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),u&&u.nodeType===8)if(o=u.data,o==="/$"){if(n===0)break;n--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||n++;o=u}while(o)}function Mg(n){var s=n.firstChild;for(s&&s.nodeType===10&&(s=s.nextSibling);s;){var o=s;switch(s=s.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Mg(o),eo(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}n.removeChild(o)}}function Rx(n,s,o,u){for(;n.nodeType===1;){var f=o;if(n.nodeName.toLowerCase()!==s.toLowerCase()){if(!u&&(n.nodeName!=="INPUT"||n.type!=="hidden"))break}else if(u){if(!n[Ni])switch(s){case"meta":if(!n.hasAttribute("itemprop"))break;return n;case"link":if(m=n.getAttribute("rel"),m==="stylesheet"&&n.hasAttribute("data-precedence"))break;if(m!==f.rel||n.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||n.getAttribute("title")!==(f.title==null?null:f.title))break;return n;case"style":if(n.hasAttribute("data-precedence"))break;return n;case"script":if(m=n.getAttribute("src"),(m!==(f.src==null?null:f.src)||n.getAttribute("type")!==(f.type==null?null:f.type)||n.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&m&&n.hasAttribute("async")&&!n.hasAttribute("itemprop"))break;return n;default:return n}}else if(s==="input"&&n.type==="hidden"){var m=f.name==null?null:""+f.name;if(f.type==="hidden"&&n.getAttribute("name")===m)return n}else return n;if(n=Jn(n.nextSibling),n===null)break}return null}function Cx(n,s,o){if(s==="")return null;for(;n.nodeType!==3;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!o||(n=Jn(n.nextSibling),n===null))return null;return n}function gb(n,s){for(;n.nodeType!==8;)if((n.nodeType!==1||n.nodeName!=="INPUT"||n.type!=="hidden")&&!s||(n=Jn(n.nextSibling),n===null))return null;return n}function kg(n){return n.data==="$?"||n.data==="$~"}function Pg(n){return n.data==="$!"||n.data==="$?"&&n.ownerDocument.readyState!=="loading"}function Nx(n,s){var o=n.ownerDocument;if(n.data==="$~")n._reactRetry=s;else if(n.data!=="$?"||o.readyState!=="loading")s();else{var u=function(){s(),o.removeEventListener("DOMContentLoaded",u)};o.addEventListener("DOMContentLoaded",u),n._reactRetry=u}}function Jn(n){for(;n!=null;n=n.nextSibling){var s=n.nodeType;if(s===1||s===3)break;if(s===8){if(s=n.data,s==="$"||s==="$!"||s==="$?"||s==="$~"||s==="&"||s==="F!"||s==="F")break;if(s==="/$"||s==="/&")return null}}return n}var Lg=null;function pb(n){n=n.nextSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="/$"||o==="/&"){if(s===0)return Jn(n.nextSibling);s--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||s++}n=n.nextSibling}return null}function yb(n){n=n.previousSibling;for(var s=0;n;){if(n.nodeType===8){var o=n.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(s===0)return n;s--}else o!=="/$"&&o!=="/&"||s++}n=n.previousSibling}return null}function _b(n,s,o){switch(s=nf(o),n){case"html":if(n=s.documentElement,!n)throw Error(i(452));return n;case"head":if(n=s.head,!n)throw Error(i(453));return n;case"body":if(n=s.body,!n)throw Error(i(454));return n;default:throw Error(i(451))}}function Du(n){for(var s=n.attributes;s.length;)n.removeAttributeNode(s[0]);eo(n)}var Zn=new Map,vb=new Set;function rf(n){return typeof n.getRootNode=="function"?n.getRootNode():n.nodeType===9?n:n.ownerDocument}var vr=W.d;W.d={f:Dx,r:Ox,D:Vx,C:Mx,L:kx,m:Px,X:Ux,S:Lx,M:jx};function Dx(){var n=vr.f(),s=Qh();return n||s}function Ox(n){var s=Fn(n);s!==null&&s.tag===5&&s.type==="form"?Pv(s):vr.r(n)}var Po=typeof document>"u"?null:document;function bb(n,s,o){var u=Po;if(u&&typeof s=="string"&&s){var f=gn(s);f='link[rel="'+n+'"][href="'+f+'"]',typeof o=="string"&&(f+='[crossorigin="'+o+'"]'),vb.has(f)||(vb.add(f),n={rel:n,crossOrigin:o,href:s},u.querySelector(f)===null&&(s=u.createElement("link"),nn(s,"link",n),Ot(s),u.head.appendChild(s)))}}function Vx(n){vr.D(n),bb("dns-prefetch",n,null)}function Mx(n,s){vr.C(n,s),bb("preconnect",n,s)}function kx(n,s,o){vr.L(n,s,o);var u=Po;if(u&&n&&s){var f='link[rel="preload"][as="'+gn(s)+'"]';s==="image"&&o&&o.imageSrcSet?(f+='[imagesrcset="'+gn(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(f+='[imagesizes="'+gn(o.imageSizes)+'"]')):f+='[href="'+gn(n)+'"]';var m=f;switch(s){case"style":m=Lo(n);break;case"script":m=Uo(n)}Zn.has(m)||(n=T({rel:"preload",href:s==="image"&&o&&o.imageSrcSet?void 0:n,as:s},o),Zn.set(m,n),u.querySelector(f)!==null||s==="style"&&u.querySelector(Ou(m))||s==="script"&&u.querySelector(Vu(m))||(s=u.createElement("link"),nn(s,"link",n),Ot(s),u.head.appendChild(s)))}}function Px(n,s){vr.m(n,s);var o=Po;if(o&&n){var u=s&&typeof s.as=="string"?s.as:"script",f='link[rel="modulepreload"][as="'+gn(u)+'"][href="'+gn(n)+'"]',m=f;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":m=Uo(n)}if(!Zn.has(m)&&(n=T({rel:"modulepreload",href:n},s),Zn.set(m,n),o.querySelector(f)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(Vu(m)))return}u=o.createElement("link"),nn(u,"link",n),Ot(u),o.head.appendChild(u)}}}function Lx(n,s,o){vr.S(n,s,o);var u=Po;if(u&&n){var f=Oi(u).hoistableStyles,m=Lo(n);s=s||"default";var _=f.get(m);if(!_){var E={loading:0,preload:null};if(_=u.querySelector(Ou(m)))E.loading=5;else{n=T({rel:"stylesheet",href:n,"data-precedence":s},o),(o=Zn.get(m))&&Ug(n,o);var N=_=u.createElement("link");Ot(N),nn(N,"link",n),N._p=new Promise(function(F,Y){N.onload=F,N.onerror=Y}),N.addEventListener("load",function(){E.loading|=1}),N.addEventListener("error",function(){E.loading|=2}),E.loading|=4,sf(_,s,u)}_={type:"stylesheet",instance:_,count:1,state:E},f.set(m,_)}}}function Ux(n,s){vr.X(n,s);var o=Po;if(o&&n){var u=Oi(o).hoistableScripts,f=Uo(n),m=u.get(f);m||(m=o.querySelector(Vu(f)),m||(n=T({src:n,async:!0},s),(s=Zn.get(f))&&jg(n,s),m=o.createElement("script"),Ot(m),nn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function jx(n,s){vr.M(n,s);var o=Po;if(o&&n){var u=Oi(o).hoistableScripts,f=Uo(n),m=u.get(f);m||(m=o.querySelector(Vu(f)),m||(n=T({src:n,async:!0,type:"module"},s),(s=Zn.get(f))&&jg(n,s),m=o.createElement("script"),Ot(m),nn(m,"link",n),o.head.appendChild(m)),m={type:"script",instance:m,count:1,state:null},u.set(f,m))}}function Tb(n,s,o,u){var f=(f=De.current)?rf(f):null;if(!f)throw Error(i(446));switch(n){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(s=Lo(o.href),o=Oi(f).hoistableStyles,u=o.get(s),u||(u={type:"style",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){n=Lo(o.href);var m=Oi(f).hoistableStyles,_=m.get(n);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},m.set(n,_),(m=f.querySelector(Ou(n)))&&!m._p&&(_.instance=m,_.state.loading=5),Zn.has(n)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Zn.set(n,o),m||zx(f,n,o,_.state))),s&&u===null)throw Error(i(528,""));return _}if(s&&u!==null)throw Error(i(529,""));return null;case"script":return s=o.async,o=o.src,typeof o=="string"&&s&&typeof s!="function"&&typeof s!="symbol"?(s=Uo(o),o=Oi(f).hoistableScripts,u=o.get(s),u||(u={type:"script",instance:null,count:0,state:null},o.set(s,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,n))}}function Lo(n){return'href="'+gn(n)+'"'}function Ou(n){return'link[rel="stylesheet"]['+n+"]"}function Eb(n){return T({},n,{"data-precedence":n.precedence,precedence:null})}function zx(n,s,o,u){n.querySelector('link[rel="preload"][as="style"]['+s+"]")?u.loading=1:(s=n.createElement("link"),u.preload=s,s.addEventListener("load",function(){return u.loading|=1}),s.addEventListener("error",function(){return u.loading|=2}),nn(s,"link",o),Ot(s),n.head.appendChild(s))}function Uo(n){return'[src="'+gn(n)+'"]'}function Vu(n){return"script[async]"+n}function wb(n,s,o){if(s.count++,s.instance===null)switch(s.type){case"style":var u=n.querySelector('style[data-href~="'+gn(o.href)+'"]');if(u)return s.instance=u,Ot(u),u;var f=T({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return u=(n.ownerDocument||n).createElement("style"),Ot(u),nn(u,"style",f),sf(u,o.precedence,n),s.instance=u;case"stylesheet":f=Lo(o.href);var m=n.querySelector(Ou(f));if(m)return s.state.loading|=4,s.instance=m,Ot(m),m;u=Eb(o),(f=Zn.get(f))&&Ug(u,f),m=(n.ownerDocument||n).createElement("link"),Ot(m);var _=m;return _._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),nn(m,"link",u),s.state.loading|=4,sf(m,o.precedence,n),s.instance=m;case"script":return m=Uo(o.src),(f=n.querySelector(Vu(m)))?(s.instance=f,Ot(f),f):(u=o,(f=Zn.get(m))&&(u=T({},o),jg(u,f)),n=n.ownerDocument||n,f=n.createElement("script"),Ot(f),nn(f,"link",u),n.head.appendChild(f),s.instance=f);case"void":return null;default:throw Error(i(443,s.type))}else s.type==="stylesheet"&&(s.state.loading&4)===0&&(u=s.instance,s.state.loading|=4,sf(u,o.precedence,n));return s.instance}function sf(n,s,o){for(var u=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=u.length?u[u.length-1]:null,m=f,_=0;_<u.length;_++){var E=u[_];if(E.dataset.precedence===s)m=E;else if(m!==f)break}m?m.parentNode.insertBefore(n,m.nextSibling):(s=o.nodeType===9?o.head:o,s.insertBefore(n,s.firstChild))}function Ug(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.title==null&&(n.title=s.title)}function jg(n,s){n.crossOrigin==null&&(n.crossOrigin=s.crossOrigin),n.referrerPolicy==null&&(n.referrerPolicy=s.referrerPolicy),n.integrity==null&&(n.integrity=s.integrity)}var af=null;function Sb(n,s,o){if(af===null){var u=new Map,f=af=new Map;f.set(o,u)}else f=af,u=f.get(o),u||(u=new Map,f.set(o,u));if(u.has(n))return u;for(u.set(n,null),o=o.getElementsByTagName(n),f=0;f<o.length;f++){var m=o[f];if(!(m[Ni]||m[Dt]||n==="link"&&m.getAttribute("rel")==="stylesheet")&&m.namespaceURI!=="http://www.w3.org/2000/svg"){var _=m.getAttribute(s)||"";_=n+_;var E=u.get(_);E?E.push(m):u.set(_,[m])}}return u}function Ab(n,s,o){n=n.ownerDocument||n,n.head.insertBefore(o,s==="title"?n.querySelector("head > title"):null)}function Bx(n,s,o){if(o===1||s.itemProp!=null)return!1;switch(n){case"meta":case"title":return!0;case"style":if(typeof s.precedence!="string"||typeof s.href!="string"||s.href==="")break;return!0;case"link":if(typeof s.rel!="string"||typeof s.href!="string"||s.href===""||s.onLoad||s.onError)break;switch(s.rel){case"stylesheet":return n=s.disabled,typeof s.precedence=="string"&&n==null;default:return!0}case"script":if(s.async&&typeof s.async!="function"&&typeof s.async!="symbol"&&!s.onLoad&&!s.onError&&s.src&&typeof s.src=="string")return!0}return!1}function Ib(n){return!(n.type==="stylesheet"&&(n.state.loading&3)===0)}function Fx(n,s,o,u){if(o.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var f=Lo(u.href),m=s.querySelector(Ou(f));if(m){s=m._p,s!==null&&typeof s=="object"&&typeof s.then=="function"&&(n.count++,n=of.bind(n),s.then(n,n)),o.state.loading|=4,o.instance=m,Ot(m);return}m=s.ownerDocument||s,u=Eb(u),(f=Zn.get(f))&&Ug(u,f),m=m.createElement("link"),Ot(m);var _=m;_._p=new Promise(function(E,N){_.onload=E,_.onerror=N}),nn(m,"link",u),o.instance=m}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(o,s),(s=o.state.preload)&&(o.state.loading&3)===0&&(n.count++,o=of.bind(n),s.addEventListener("load",o),s.addEventListener("error",o))}}var zg=0;function qx(n,s){return n.stylesheets&&n.count===0&&uf(n,n.stylesheets),0<n.count||0<n.imgCount?function(o){var u=setTimeout(function(){if(n.stylesheets&&uf(n,n.stylesheets),n.unsuspend){var m=n.unsuspend;n.unsuspend=null,m()}},6e4+s);0<n.imgBytes&&zg===0&&(zg=62500*wx());var f=setTimeout(function(){if(n.waitingForImages=!1,n.count===0&&(n.stylesheets&&uf(n,n.stylesheets),n.unsuspend)){var m=n.unsuspend;n.unsuspend=null,m()}},(n.imgBytes>zg?50:800)+s);return n.unsuspend=o,function(){n.unsuspend=null,clearTimeout(u),clearTimeout(f)}}:null}function of(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)uf(this,this.stylesheets);else if(this.unsuspend){var n=this.unsuspend;this.unsuspend=null,n()}}}var lf=null;function uf(n,s){n.stylesheets=null,n.unsuspend!==null&&(n.count++,lf=new Map,s.forEach(Hx,n),lf=null,of.call(n))}function Hx(n,s){if(!(s.state.loading&4)){var o=lf.get(n);if(o)var u=o.get(null);else{o=new Map,lf.set(n,o);for(var f=n.querySelectorAll("link[data-precedence],style[data-precedence]"),m=0;m<f.length;m++){var _=f[m];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(o.set(_.dataset.precedence,_),u=_)}u&&o.set(null,u)}f=s.instance,_=f.getAttribute("data-precedence"),m=o.get(_)||u,m===u&&o.set(null,f),o.set(_,f),this.count++,u=of.bind(this),f.addEventListener("load",u),f.addEventListener("error",u),m?m.parentNode.insertBefore(f,m.nextSibling):(n=n.nodeType===9?n.head:n,n.insertBefore(f,n.firstChild)),s.state.loading|=4}}var Mu={$$typeof:ae,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function Gx(n,s,o,u,f,m,_,E,N){this.tag=1,this.containerInfo=n,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ri(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ri(0),this.hiddenUpdates=Ri(null),this.identifierPrefix=u,this.onUncaughtError=f,this.onCaughtError=m,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function xb(n,s,o,u,f,m,_,E,N,F,Y,J){return n=new Gx(n,s,o,_,N,F,Y,J,E),s=1,m===!0&&(s|=24),m=xn(3,null,null,s),n.current=m,m.stateNode=n,s=vm(),s.refCount++,n.pooledCache=s,s.refCount++,m.memoizedState={element:u,isDehydrated:o,cache:s},wm(m),n}function Rb(n){return n?(n=go,n):go}function Cb(n,s,o,u,f,m){f=Rb(f),u.context===null?u.context=f:u.pendingContext=f,u=Xr(s),u.payload={element:o},m=m===void 0?null:m,m!==null&&(u.callback=m),o=Wr(n,u,s),o!==null&&(Tn(o,n,s),fu(o,n,s))}function Nb(n,s){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var o=n.retryLane;n.retryLane=o!==0&&o<s?o:s}}function Bg(n,s){Nb(n,s),(n=n.alternate)&&Nb(n,s)}function Db(n){if(n.tag===13||n.tag===31){var s=ia(n,67108864);s!==null&&Tn(s,n,67108864),Bg(n,67108864)}}function Ob(n){if(n.tag===13||n.tag===31){var s=On();s=Gs(s);var o=ia(n,s);o!==null&&Tn(o,n,s),Bg(n,s)}}var cf=!0;function Kx(n,s,o,u){var f=L.T;L.T=null;var m=W.p;try{W.p=2,Fg(n,s,o,u)}finally{W.p=m,L.T=f}}function Yx(n,s,o,u){var f=L.T;L.T=null;var m=W.p;try{W.p=8,Fg(n,s,o,u)}finally{W.p=m,L.T=f}}function Fg(n,s,o,u){if(cf){var f=qg(u);if(f===null)Rg(n,s,u,hf,o),Mb(n,u);else if($x(f,n,s,o,u))u.stopPropagation();else if(Mb(n,u),s&4&&-1<Qx.indexOf(n)){for(;f!==null;){var m=Fn(f);if(m!==null)switch(m.tag){case 3:if(m=m.stateNode,m.current.memoizedState.isDehydrated){var _=Ii(m.pendingLanes);if(_!==0){var E=m;for(E.pendingLanes|=2,E.entangledLanes|=2;_;){var N=1<<31-wt(_);E.entanglements[1]|=N,_&=~N}Gi(m),(We&6)===0&&(Kh=cn()+500,Ru(0))}}break;case 31:case 13:E=ia(m,2),E!==null&&Tn(E,m,2),Qh(),Bg(m,2)}if(m=qg(u),m===null&&Rg(n,s,u,hf,o),m===f)break;f=m}f!==null&&u.stopPropagation()}else Rg(n,s,u,null,o)}}function qg(n){return n=qn(n),Hg(n)}var hf=null;function Hg(n){if(hf=null,n=Di(n),n!==null){var s=l(n);if(s===null)n=null;else{var o=s.tag;if(o===13){if(n=c(s),n!==null)return n;n=null}else if(o===31){if(n=d(s),n!==null)return n;n=null}else if(o===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;n=null}else s!==n&&(n=null)}}return hf=n,null}function Vb(n){switch(n){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Bs()){case Ll:return 2;case Ul:return 8;case kr:case Xd:return 32;case Fc:return 268435456;default:return 32}default:return 32}}var Gg=!1,ls=null,us=null,cs=null,ku=new Map,Pu=new Map,hs=[],Qx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Mb(n,s){switch(n){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":ku.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pu.delete(s.pointerId)}}function Lu(n,s,o,u,f,m){return n===null||n.nativeEvent!==m?(n={blockedOn:s,domEventName:o,eventSystemFlags:u,nativeEvent:m,targetContainers:[f]},s!==null&&(s=Fn(s),s!==null&&Db(s)),n):(n.eventSystemFlags|=u,s=n.targetContainers,f!==null&&s.indexOf(f)===-1&&s.push(f),n)}function $x(n,s,o,u,f){switch(s){case"focusin":return ls=Lu(ls,n,s,o,u,f),!0;case"dragenter":return us=Lu(us,n,s,o,u,f),!0;case"mouseover":return cs=Lu(cs,n,s,o,u,f),!0;case"pointerover":var m=f.pointerId;return ku.set(m,Lu(ku.get(m)||null,n,s,o,u,f)),!0;case"gotpointercapture":return m=f.pointerId,Pu.set(m,Lu(Pu.get(m)||null,n,s,o,u,f)),!0}return!1}function kb(n){var s=Di(n.target);if(s!==null){var o=l(s);if(o!==null){if(s=o.tag,s===13){if(s=c(o),s!==null){n.blockedOn=s,ai(n.priority,function(){Ob(o)});return}}else if(s===31){if(s=d(o),s!==null){n.blockedOn=s,ai(n.priority,function(){Ob(o)});return}}else if(s===3&&o.stateNode.current.memoizedState.isDehydrated){n.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}n.blockedOn=null}function ff(n){if(n.blockedOn!==null)return!1;for(var s=n.targetContainers;0<s.length;){var o=qg(n.nativeEvent);if(o===null){o=n.nativeEvent;var u=new o.constructor(o.type,o);Xl=u,o.target.dispatchEvent(u),Xl=null}else return s=Fn(o),s!==null&&Db(s),n.blockedOn=o,!1;s.shift()}return!0}function Pb(n,s,o){ff(n)&&o.delete(s)}function Xx(){Gg=!1,ls!==null&&ff(ls)&&(ls=null),us!==null&&ff(us)&&(us=null),cs!==null&&ff(cs)&&(cs=null),ku.forEach(Pb),Pu.forEach(Pb)}function df(n,s){n.blockedOn===s&&(n.blockedOn=null,Gg||(Gg=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,Xx)))}var mf=null;function Lb(n){mf!==n&&(mf=n,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){mf===n&&(mf=null);for(var s=0;s<n.length;s+=3){var o=n[s],u=n[s+1],f=n[s+2];if(typeof u!="function"){if(Hg(u||o)===null)continue;break}var m=Fn(o);m!==null&&(n.splice(s,3),s-=3,qm(m,{pending:!0,data:f,method:o.method,action:u},u,f))}}))}function jo(n){function s(N){return df(N,n)}ls!==null&&df(ls,n),us!==null&&df(us,n),cs!==null&&df(cs,n),ku.forEach(s),Pu.forEach(s);for(var o=0;o<hs.length;o++){var u=hs[o];u.blockedOn===n&&(u.blockedOn=null)}for(;0<hs.length&&(o=hs[0],o.blockedOn===null);)kb(o),o.blockedOn===null&&hs.shift();if(o=(n.ownerDocument||n).$$reactFormReplay,o!=null)for(u=0;u<o.length;u+=3){var f=o[u],m=o[u+1],_=f[Kt]||null;if(typeof m=="function")_||Lb(o);else if(_){var E=null;if(m&&m.hasAttribute("formAction")){if(f=m,_=m[Kt]||null)E=_.formAction;else if(Hg(f)!==null)continue}else E=_.action;typeof E=="function"?o[u+1]=E:(o.splice(u,3),u-=3),Lb(o)}}}function Ub(){function n(m){m.canIntercept&&m.info==="react-transition"&&m.intercept({handler:function(){return new Promise(function(_){return f=_})},focusReset:"manual",scroll:"manual"})}function s(){f!==null&&(f(),f=null),u||setTimeout(o,20)}function o(){if(!u&&!navigation.transition){var m=navigation.currentEntry;m&&m.url!=null&&navigation.navigate(m.url,{state:m.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,f=null;return navigation.addEventListener("navigate",n),navigation.addEventListener("navigatesuccess",s),navigation.addEventListener("navigateerror",s),setTimeout(o,100),function(){u=!0,navigation.removeEventListener("navigate",n),navigation.removeEventListener("navigatesuccess",s),navigation.removeEventListener("navigateerror",s),f!==null&&(f(),f=null)}}}function Kg(n){this._internalRoot=n}gf.prototype.render=Kg.prototype.render=function(n){var s=this._internalRoot;if(s===null)throw Error(i(409));var o=s.current,u=On();Cb(o,u,n,s,null,null)},gf.prototype.unmount=Kg.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var s=n.containerInfo;Cb(n.current,2,null,n,null,null),Qh(),s[Ci]=null}};function gf(n){this._internalRoot=n}gf.prototype.unstable_scheduleHydration=function(n){if(n){var s=Qc();n={blockedOn:null,target:n,priority:s};for(var o=0;o<hs.length&&s!==0&&s<hs[o].priority;o++);hs.splice(o,0,n),o===0&&kb(n)}};var jb=e.version;if(jb!=="19.2.3")throw Error(i(527,jb,"19.2.3"));W.findDOMNode=function(n){var s=n._reactInternals;if(s===void 0)throw typeof n.render=="function"?Error(i(188)):(n=Object.keys(n).join(","),Error(i(268,n)));return n=p(s),n=n!==null?b(n):null,n=n===null?null:n.stateNode,n};var Wx={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:L,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var pf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pf.isDisabled&&pf.supportsFiber)try{ri=pf.inject(Wx),Wt=pf}catch{}}return ju.createRoot=function(n,s){if(!a(n))throw Error(i(299));var o=!1,u="",f=Kv,m=Yv,_=Qv;return s!=null&&(s.unstable_strictMode===!0&&(o=!0),s.identifierPrefix!==void 0&&(u=s.identifierPrefix),s.onUncaughtError!==void 0&&(f=s.onUncaughtError),s.onCaughtError!==void 0&&(m=s.onCaughtError),s.onRecoverableError!==void 0&&(_=s.onRecoverableError)),s=xb(n,1,!1,null,null,o,u,null,f,m,_,Ub),n[Ci]=s.current,xg(n),new Kg(s)},ju.hydrateRoot=function(n,s,o){if(!a(n))throw Error(i(299));var u=!1,f="",m=Kv,_=Yv,E=Qv,N=null;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(f=o.identifierPrefix),o.onUncaughtError!==void 0&&(m=o.onUncaughtError),o.onCaughtError!==void 0&&(_=o.onCaughtError),o.onRecoverableError!==void 0&&(E=o.onRecoverableError),o.formState!==void 0&&(N=o.formState)),s=xb(n,1,!0,s,o??null,u,f,N,m,_,E,Ub),s.context=Rb(null),o=s.current,u=On(),u=Gs(u),f=Xr(u),f.callback=null,Wr(o,f,u),o=u,s.current.lanes=o,qs(s,o),Gi(s),n[Ci]=s.current,xg(n),new gf(s)},ju.version="19.2.3",ju}var $b;function oR(){if($b)return $g.exports;$b=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),$g.exports=aR(),$g.exports}var lR=oR();const uR="modulepreload",cR=function(r){return"/"+r},Xb={},hR=function(e,t,i){let a=Promise.resolve();if(t&&t.length>0){let g=function(p){return Promise.all(p.map(b=>Promise.resolve(b).then(T=>({status:"fulfilled",value:T}),T=>({status:"rejected",reason:T}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),d=c?.nonce||c?.getAttribute("nonce");a=g(t.map(p=>{if(p=cR(p),p in Xb)return;Xb[p]=!0;const b=p.endsWith(".css"),T=b?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${T}`))return;const I=document.createElement("link");if(I.rel=b?"stylesheet":uR,b||(I.as="script"),I.crossOrigin="",I.href=p,d&&I.setAttribute("nonce",d),document.head.appendChild(I),b)return new Promise((j,Q)=>{I.addEventListener("load",j),I.addEventListener("error",()=>Q(new Error(`Unable to preload CSS for ${p}`)))})}))}function l(c){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=c,window.dispatchEvent(d),!d.defaultPrevented)throw c}return a.then(c=>{for(const d of c||[])d.status==="rejected"&&l(d.reason);return e().catch(l)})},fR=()=>{};var Wb={};const dw=function(r){const e=[];let t=0;for(let i=0;i<r.length;i++){let a=r.charCodeAt(i);a<128?e[t++]=a:a<2048?(e[t++]=a>>6|192,e[t++]=a&63|128):(a&64512)===55296&&i+1<r.length&&(r.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(r.charCodeAt(++i)&1023),e[t++]=a>>18|240,e[t++]=a>>12&63|128,e[t++]=a>>6&63|128,e[t++]=a&63|128):(e[t++]=a>>12|224,e[t++]=a>>6&63|128,e[t++]=a&63|128)}return e},dR=function(r){const e=[];let t=0,i=0;for(;t<r.length;){const a=r[t++];if(a<128)e[i++]=String.fromCharCode(a);else if(a>191&&a<224){const l=r[t++];e[i++]=String.fromCharCode((a&31)<<6|l&63)}else if(a>239&&a<365){const l=r[t++],c=r[t++],d=r[t++],g=((a&7)<<18|(l&63)<<12|(c&63)<<6|d&63)-65536;e[i++]=String.fromCharCode(55296+(g>>10)),e[i++]=String.fromCharCode(56320+(g&1023))}else{const l=r[t++],c=r[t++];e[i++]=String.fromCharCode((a&15)<<12|(l&63)<<6|c&63)}}return e.join("")},mw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<r.length;a+=3){const l=r[a],c=a+1<r.length,d=c?r[a+1]:0,g=a+2<r.length,p=g?r[a+2]:0,b=l>>2,T=(l&3)<<4|d>>4;let I=(d&15)<<2|p>>6,j=p&63;g||(j=64,c||(I=64)),i.push(t[b],t[T],t[I],t[j])}return i.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(dw(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):dR(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<r.length;){const l=t[r.charAt(a++)],d=a<r.length?t[r.charAt(a)]:0;++a;const p=a<r.length?t[r.charAt(a)]:64;++a;const T=a<r.length?t[r.charAt(a)]:64;if(++a,l==null||d==null||p==null||T==null)throw new mR;const I=l<<2|d>>4;if(i.push(I),p!==64){const j=d<<4&240|p>>2;if(i.push(j),T!==64){const Q=p<<6&192|T;i.push(Q)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class mR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gR=function(r){const e=dw(r);return mw.encodeByteArray(e,!0)},Hf=function(r){return gR(r).replace(/\./g,"")},gw=function(r){try{return mw.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const pR=()=>pw().__FIREBASE_DEFAULTS__,yR=()=>{if(typeof process>"u"||typeof Wb>"u")return;const r=Wb.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},_R=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&gw(r[1]);return e&&JSON.parse(e)},Ed=()=>{try{return fR()||pR()||yR()||_R()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},yw=r=>Ed()?.emulatorHosts?.[r],vR=r=>{const e=yw(r);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const i=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),i]:[e.substring(0,t),i]},_w=()=>Ed()?.config,vw=r=>Ed()?.[`_${r}`];class bR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,i)=>{t?this.reject(t):this.resolve(i),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,i))}}}function Sl(r){try{return(r.startsWith("http://")||r.startsWith("https://")?new URL(r).hostname:r).endsWith(".cloudworkstations.dev")}catch{return!1}}async function bw(r){return(await fetch(r,{credentials:"include"})).ok}function TR(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},i=e||"demo-project",a=r.iat||0,l=r.sub||r.user_id;if(!l)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:l,user_id:l,firebase:{sign_in_provider:"custom",identities:{}},...r};return[Hf(JSON.stringify(t)),Hf(JSON.stringify(c)),""].join(".")}const tc={};function ER(){const r={prod:[],emulator:[]};for(const e of Object.keys(tc))tc[e]?r.emulator.push(e):r.prod.push(e);return r}function wR(r){let e=document.getElementById(r),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),t=!0),{created:t,element:e}}let Jb=!1;function Tw(r,e){if(typeof window>"u"||typeof document>"u"||!Sl(window.location.host)||tc[r]===e||tc[r]||Jb)return;tc[r]=e;function t(I){return`__firebase__banner__${I}`}const i="__firebase__banner",l=ER().prod.length>0;function c(){const I=document.getElementById(i);I&&I.remove()}function d(I){I.style.display="flex",I.style.background="#7faaf0",I.style.position="fixed",I.style.bottom="5px",I.style.left="5px",I.style.padding=".5em",I.style.borderRadius="5px",I.style.alignItems="center"}function g(I,j){I.setAttribute("width","24"),I.setAttribute("id",j),I.setAttribute("height","24"),I.setAttribute("viewBox","0 0 24 24"),I.setAttribute("fill","none"),I.style.marginLeft="-6px"}function p(){const I=document.createElement("span");return I.style.cursor="pointer",I.style.marginLeft="16px",I.style.fontSize="24px",I.innerHTML=" &times;",I.onclick=()=>{Jb=!0,c()},I}function b(I,j){I.setAttribute("id",j),I.innerText="Learn more",I.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",I.setAttribute("target","__blank"),I.style.paddingLeft="5px",I.style.textDecoration="underline"}function T(){const I=wR(i),j=t("text"),Q=document.getElementById(j)||document.createElement("span"),ee=t("learnmore"),te=document.getElementById(ee)||document.createElement("a"),ce=t("preprendIcon"),fe=document.getElementById(ce)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(I.created){const ae=I.element;d(ae),b(te,ee);const Se=p();g(fe,ce),ae.append(fe,Q,te,Se),document.body.appendChild(ae)}l?(Q.innerText="Preview backend disconnected.",fe.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(fe.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,Q.innerText="Preview backend running in this workspace."),Q.setAttribute("id",j)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",T):T()}function Ht(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ht())}function Ew(){const r=Ed()?.forceEnvironment;if(r==="node")return!0;if(r==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AR(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ww(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function IR(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function xR(){const r=Ht();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Sw(){return!Ew()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Aw(){return!Ew()&&!!navigator.userAgent&&(navigator.userAgent.includes("Safari")||navigator.userAgent.includes("WebKit"))&&!navigator.userAgent.includes("Chrome")}function ly(){try{return typeof indexedDB=="object"}catch{return!1}}function Iw(){return new Promise((r,e)=>{try{let t=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),t||self.indexedDB.deleteDatabase(i),r(!0)},a.onupgradeneeded=()=>{t=!1},a.onerror=()=>{e(a.error?.message||"")}}catch(t){e(t)}})}function RR(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const CR="FirebaseError";class Ei extends Error{constructor(e,t,i){super(t),this.code=e,this.customData=i,this.name=CR,Object.setPrototypeOf(this,Ei.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ya.prototype.create)}}class Ya{constructor(e,t,i){this.service=e,this.serviceName=t,this.errors=i}create(e,...t){const i=t[0]||{},a=`${this.service}/${e}`,l=this.errors[e],c=l?NR(l,i):"Error",d=`${this.serviceName}: ${c} (${a}).`;return new Ei(a,d,i)}}function NR(r,e){return r.replace(DR,(t,i)=>{const a=e[i];return a!=null?String(a):`<${i}?>`})}const DR=/\{\$([^}]+)}/g;function OR(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ds(r,e){if(r===e)return!0;const t=Object.keys(r),i=Object.keys(e);for(const a of t){if(!i.includes(a))return!1;const l=r[a],c=e[a];if(Zb(l)&&Zb(c)){if(!Ds(l,c))return!1}else if(l!==c)return!1}for(const a of i)if(!t.includes(a))return!1;return!0}function Zb(r){return r!==null&&typeof r=="object"}function Cc(r){const e=[];for(const[t,i]of Object.entries(r))Array.isArray(i)?i.forEach(a=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(a))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(i));return e.length?"&"+e.join("&"):""}function VR(r,e){const t=new MR(r,e);return t.subscribe.bind(t)}class MR{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(i=>{this.error(i)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,i){let a;if(e===void 0&&t===void 0&&i===void 0)throw new Error("Missing Observer.");kR(e,["next","error","complete"])?a=e:a={next:e,error:t,complete:i},a.next===void 0&&(a.next=Zg),a.error===void 0&&(a.error=Zg),a.complete===void 0&&(a.complete=Zg);const l=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),l}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function kR(r,e){if(typeof r!="object"||r===null)return!1;for(const t of e)if(t in r&&typeof r[t]=="function")return!0;return!1}function Zg(){}const PR=1e3,LR=2,UR=14400*1e3,jR=.5;function eT(r,e=PR,t=LR){const i=e*Math.pow(t,r),a=Math.round(jR*i*(Math.random()-.5)*2);return Math.min(UR,i+a)}function un(r){return r&&r._delegate?r._delegate:r}class Ti{constructor(e,t,i){this.name=e,this.instanceFactory=t,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const _a="[DEFAULT]";class zR{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const i=new bR;if(this.instancesDeferred.set(t,i),this.isInitialized(t)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:t});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e?.identifier),i=e?.optional??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(FR(e))try{this.getOrInitializeService({instanceIdentifier:_a})}catch{}for(const[t,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(t);try{const l=this.getOrInitializeService({instanceIdentifier:a});i.resolve(l)}catch{}}}}clearInstance(e=_a){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=_a){return this.instances.has(e)}getOptions(e=_a){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,i=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:t});for(const[l,c]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(l);i===d&&c.resolve(a)}return a}onInit(e,t){const i=this.normalizeInstanceIdentifier(t),a=this.onInitCallbacks.get(i)??new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const i=this.onInitCallbacks.get(t);if(i)for(const a of i)try{a(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let i=this.instances.get(e);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:BR(e),options:t}),this.instances.set(e,i),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(i,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,i)}catch{}return i||null}normalizeInstanceIdentifier(e=_a){return this.component?this.component.multipleInstances?e:_a:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function BR(r){return r===_a?void 0:r}function FR(r){return r.instantiationMode==="EAGER"}class qR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new zR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}var He;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(He||(He={}));const HR={debug:He.DEBUG,verbose:He.VERBOSE,info:He.INFO,warn:He.WARN,error:He.ERROR,silent:He.SILENT},GR=He.INFO,KR={[He.DEBUG]:"log",[He.VERBOSE]:"log",[He.INFO]:"info",[He.WARN]:"warn",[He.ERROR]:"error"},YR=(r,e,...t)=>{if(e<r.logLevel)return;const i=new Date().toISOString(),a=KR[e];if(a)console[a](`[${i}]  ${r.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class wd{constructor(e){this.name=e,this._logLevel=GR,this._logHandler=YR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in He))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?HR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,He.DEBUG,...e),this._logHandler(this,He.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,He.VERBOSE,...e),this._logHandler(this,He.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,He.INFO,...e),this._logHandler(this,He.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,He.WARN,...e),this._logHandler(this,He.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,He.ERROR,...e),this._logHandler(this,He.ERROR,...e)}}const QR=(r,e)=>e.some(t=>r instanceof t);let tT,nT;function $R(){return tT||(tT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function XR(){return nT||(nT=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const xw=new WeakMap,Ep=new WeakMap,Rw=new WeakMap,ep=new WeakMap,uy=new WeakMap;function WR(r){const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("success",l),r.removeEventListener("error",c)},l=()=>{t(Is(r.result)),a()},c=()=>{i(r.error),a()};r.addEventListener("success",l),r.addEventListener("error",c)});return e.then(t=>{t instanceof IDBCursor&&xw.set(t,r)}).catch(()=>{}),uy.set(e,r),e}function JR(r){if(Ep.has(r))return;const e=new Promise((t,i)=>{const a=()=>{r.removeEventListener("complete",l),r.removeEventListener("error",c),r.removeEventListener("abort",c)},l=()=>{t(),a()},c=()=>{i(r.error||new DOMException("AbortError","AbortError")),a()};r.addEventListener("complete",l),r.addEventListener("error",c),r.addEventListener("abort",c)});Ep.set(r,e)}let wp={get(r,e,t){if(r instanceof IDBTransaction){if(e==="done")return Ep.get(r);if(e==="objectStoreNames")return r.objectStoreNames||Rw.get(r);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Is(r[e])},set(r,e,t){return r[e]=t,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function ZR(r){wp=r(wp)}function e2(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const i=r.call(tp(this),e,...t);return Rw.set(i,e.sort?e.sort():[e]),Is(i)}:XR().includes(r)?function(...e){return r.apply(tp(this),e),Is(xw.get(this))}:function(...e){return Is(r.apply(tp(this),e))}}function t2(r){return typeof r=="function"?e2(r):(r instanceof IDBTransaction&&JR(r),QR(r,$R())?new Proxy(r,wp):r)}function Is(r){if(r instanceof IDBRequest)return WR(r);if(ep.has(r))return ep.get(r);const e=t2(r);return e!==r&&(ep.set(r,e),uy.set(e,r)),e}const tp=r=>uy.get(r);function Cw(r,e,{blocked:t,upgrade:i,blocking:a,terminated:l}={}){const c=indexedDB.open(r,e),d=Is(c);return i&&c.addEventListener("upgradeneeded",g=>{i(Is(c.result),g.oldVersion,g.newVersion,Is(c.transaction),g)}),t&&c.addEventListener("blocked",g=>t(g.oldVersion,g.newVersion,g)),d.then(g=>{l&&g.addEventListener("close",()=>l()),a&&g.addEventListener("versionchange",p=>a(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const n2=["get","getKey","getAll","getAllKeys","count"],i2=["put","add","delete","clear"],np=new Map;function iT(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(np.get(e))return np.get(e);const t=e.replace(/FromIndex$/,""),i=e!==t,a=i2.includes(t);if(!(t in(i?IDBIndex:IDBObjectStore).prototype)||!(a||n2.includes(t)))return;const l=async function(c,...d){const g=this.transaction(c,a?"readwrite":"readonly");let p=g.store;return i&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),a&&g.done]))[0]};return np.set(e,l),l}ZR(r=>({...r,get:(e,t,i)=>iT(e,t)||r.get(e,t,i),has:(e,t)=>!!iT(e,t)||r.has(e,t)}));class r2{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(s2(t)){const i=t.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(t=>t).join(" ")}}function s2(r){return r.getComponent()?.type==="VERSION"}const Sp="@firebase/app",rT="0.14.8";const Rr=new wd("@firebase/app"),a2="@firebase/app-compat",o2="@firebase/analytics-compat",l2="@firebase/analytics",u2="@firebase/app-check-compat",c2="@firebase/app-check",h2="@firebase/auth",f2="@firebase/auth-compat",d2="@firebase/database",m2="@firebase/data-connect",g2="@firebase/database-compat",p2="@firebase/functions",y2="@firebase/functions-compat",_2="@firebase/installations",v2="@firebase/installations-compat",b2="@firebase/messaging",T2="@firebase/messaging-compat",E2="@firebase/performance",w2="@firebase/performance-compat",S2="@firebase/remote-config",A2="@firebase/remote-config-compat",I2="@firebase/storage",x2="@firebase/storage-compat",R2="@firebase/firestore",C2="@firebase/ai",N2="@firebase/firestore-compat",D2="firebase",O2="12.9.0";const Ap="[DEFAULT]",V2={[Sp]:"fire-core",[a2]:"fire-core-compat",[l2]:"fire-analytics",[o2]:"fire-analytics-compat",[c2]:"fire-app-check",[u2]:"fire-app-check-compat",[h2]:"fire-auth",[f2]:"fire-auth-compat",[d2]:"fire-rtdb",[m2]:"fire-data-connect",[g2]:"fire-rtdb-compat",[p2]:"fire-fn",[y2]:"fire-fn-compat",[_2]:"fire-iid",[v2]:"fire-iid-compat",[b2]:"fire-fcm",[T2]:"fire-fcm-compat",[E2]:"fire-perf",[w2]:"fire-perf-compat",[S2]:"fire-rc",[A2]:"fire-rc-compat",[I2]:"fire-gcs",[x2]:"fire-gcs-compat",[R2]:"fire-fst",[N2]:"fire-fst-compat",[C2]:"fire-vertex","fire-js":"fire-js",[D2]:"fire-js-all"};const Gf=new Map,M2=new Map,Ip=new Map;function sT(r,e){try{r.container.addComponent(e)}catch(t){Rr.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,t)}}function Ji(r){const e=r.name;if(Ip.has(e))return Rr.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,r);for(const t of Gf.values())sT(t,r);for(const t of M2.values())sT(t,r);return!0}function Qa(r,e){const t=r.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),r.container.getProvider(e)}function yi(r){return r==null?!1:r.settings!==void 0}const k2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xs=new Ya("app","Firebase",k2);class P2{constructor(e,t,i){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Ti("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xs.create("app-deleted",{appName:this._name})}}const Al=O2;function Nw(r,e={}){let t=r;typeof e!="object"&&(e={name:e});const i={name:Ap,automaticDataCollectionEnabled:!0,...e},a=i.name;if(typeof a!="string"||!a)throw xs.create("bad-app-name",{appName:String(a)});if(t||(t=_w()),!t)throw xs.create("no-options");const l=Gf.get(a);if(l){if(Ds(t,l.options)&&Ds(i,l.config))return l;throw xs.create("duplicate-app",{appName:a})}const c=new qR(a);for(const g of Ip.values())c.addComponent(g);const d=new P2(t,i,c);return Gf.set(a,d),d}function cy(r=Ap){const e=Gf.get(r);if(!e&&r===Ap&&_w())return Nw();if(!e)throw xs.create("no-app",{appName:r});return e}function ni(r,e,t){let i=V2[r]??r;t&&(i+=`-${t}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${i}" with version "${e}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Rr.warn(c.join(" "));return}Ji(new Ti(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const L2="firebase-heartbeat-database",U2=1,fc="firebase-heartbeat-store";let ip=null;function Dw(){return ip||(ip=Cw(L2,U2,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(fc)}catch(t){console.warn(t)}}}}).catch(r=>{throw xs.create("idb-open",{originalErrorMessage:r.message})})),ip}async function j2(r){try{const t=(await Dw()).transaction(fc),i=await t.objectStore(fc).get(Ow(r));return await t.done,i}catch(e){if(e instanceof Ei)Rr.warn(e.message);else{const t=xs.create("idb-get",{originalErrorMessage:e?.message});Rr.warn(t.message)}}}async function aT(r,e){try{const i=(await Dw()).transaction(fc,"readwrite");await i.objectStore(fc).put(e,Ow(r)),await i.done}catch(t){if(t instanceof Ei)Rr.warn(t.message);else{const i=xs.create("idb-set",{originalErrorMessage:t?.message});Rr.warn(i.message)}}}function Ow(r){return`${r.name}!${r.options.appId}`}const z2=1024,B2=30;class F2{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new H2(t),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const t=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=oT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:t}),this._heartbeatsCache.heartbeats.length>B2){const a=G2(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Rr.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=oT(),{heartbeatsToSend:t,unsentEntries:i}=q2(this._heartbeatsCache.heartbeats),a=Hf(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(e){return Rr.warn(e),""}}}function oT(){return new Date().toISOString().substring(0,10)}function q2(r,e=z2){const t=[];let i=r.slice();for(const a of r){const l=t.find(c=>c.agent===a.agent);if(l){if(l.dates.push(a.date),lT(t)>e){l.dates.pop();break}}else if(t.push({agent:a.agent,dates:[a.date]}),lT(t)>e){t.pop();break}i=i.slice(1)}return{heartbeatsToSend:t,unsentEntries:i}}class H2{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ly()?Iw().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await j2(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return aT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const i=await this.read();return aT(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function lT(r){return Hf(JSON.stringify({version:2,heartbeats:r})).length}function G2(r){if(r.length===0)return-1;let e=0,t=r[0].date;for(let i=1;i<r.length;i++)r[i].date<t&&(t=r[i].date,e=i);return e}function K2(r){Ji(new Ti("platform-logger",e=>new r2(e),"PRIVATE")),Ji(new Ti("heartbeat",e=>new F2(e),"PRIVATE")),ni(Sp,rT,r),ni(Sp,rT,"esm2020"),ni("fire-js","")}K2("");var Y2="firebase",Q2="12.9.0";ni(Y2,Q2,"app");const Vw="@firebase/installations",hy="0.6.19";const Mw=1e4,kw=`w:${hy}`,Pw="FIS_v2",$2="https://firebaseinstallations.googleapis.com/v1",X2=3600*1e3,W2="installations",J2="Installations";const Z2={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Pa=new Ya(W2,J2,Z2);function Lw(r){return r instanceof Ei&&r.code.includes("request-failed")}function Uw({projectId:r}){return`${$2}/projects/${r}/installations`}function jw(r){return{token:r.token,requestStatus:2,expiresIn:tC(r.expiresIn),creationTime:Date.now()}}async function zw(r,e){const i=(await e.json()).error;return Pa.create("request-failed",{requestName:r,serverCode:i.code,serverMessage:i.message,serverStatus:i.status})}function Bw({apiKey:r}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":r})}function eC(r,{refreshToken:e}){const t=Bw(r);return t.append("Authorization",nC(e)),t}async function Fw(r){const e=await r();return e.status>=500&&e.status<600?r():e}function tC(r){return Number(r.replace("s","000"))}function nC(r){return`${Pw} ${r}`}async function iC({appConfig:r,heartbeatServiceProvider:e},{fid:t}){const i=Uw(r),a=Bw(r),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={fid:t,authVersion:Pw,appId:r.appId,sdkVersion:kw},d={method:"POST",headers:a,body:JSON.stringify(c)},g=await Fw(()=>fetch(i,d));if(g.ok){const p=await g.json();return{fid:p.fid||t,registrationStatus:2,refreshToken:p.refreshToken,authToken:jw(p.authToken)}}else throw await zw("Create Installation",g)}function qw(r){return new Promise(e=>{setTimeout(e,r)})}function rC(r){return btoa(String.fromCharCode(...r)).replace(/\+/g,"-").replace(/\//g,"_")}const sC=/^[cdef][\w-]{21}$/,xp="";function aC(){try{const r=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(r),r[0]=112+r[0]%16;const t=oC(r);return sC.test(t)?t:xp}catch{return xp}}function oC(r){return rC(r).substr(0,22)}function Sd(r){return`${r.appName}!${r.appId}`}const Hw=new Map;function Gw(r,e){const t=Sd(r);Kw(t,e),lC(t,e)}function Kw(r,e){const t=Hw.get(r);if(t)for(const i of t)i(e)}function lC(r,e){const t=uC();t&&t.postMessage({key:r,fid:e}),cC()}let Ia=null;function uC(){return!Ia&&"BroadcastChannel"in self&&(Ia=new BroadcastChannel("[Firebase] FID Change"),Ia.onmessage=r=>{Kw(r.data.key,r.data.fid)}),Ia}function cC(){Hw.size===0&&Ia&&(Ia.close(),Ia=null)}const hC="firebase-installations-database",fC=1,La="firebase-installations-store";let rp=null;function fy(){return rp||(rp=Cw(hC,fC,{upgrade:(r,e)=>{switch(e){case 0:r.createObjectStore(La)}}})),rp}async function Kf(r,e){const t=Sd(r),a=(await fy()).transaction(La,"readwrite"),l=a.objectStore(La),c=await l.get(t);return await l.put(e,t),await a.done,(!c||c.fid!==e.fid)&&Gw(r,e.fid),e}async function Yw(r){const e=Sd(r),i=(await fy()).transaction(La,"readwrite");await i.objectStore(La).delete(e),await i.done}async function Ad(r,e){const t=Sd(r),a=(await fy()).transaction(La,"readwrite"),l=a.objectStore(La),c=await l.get(t),d=e(c);return d===void 0?await l.delete(t):await l.put(d,t),await a.done,d&&(!c||c.fid!==d.fid)&&Gw(r,d.fid),d}async function dy(r){let e;const t=await Ad(r.appConfig,i=>{const a=dC(i),l=mC(r,a);return e=l.registrationPromise,l.installationEntry});return t.fid===xp?{installationEntry:await e}:{installationEntry:t,registrationPromise:e}}function dC(r){const e=r||{fid:aC(),registrationStatus:0};return Qw(e)}function mC(r,e){if(e.registrationStatus===0){if(!navigator.onLine){const a=Promise.reject(Pa.create("app-offline"));return{installationEntry:e,registrationPromise:a}}const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=gC(r,t);return{installationEntry:t,registrationPromise:i}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:pC(r)}:{installationEntry:e}}async function gC(r,e){try{const t=await iC(r,e);return Kf(r.appConfig,t)}catch(t){throw Lw(t)&&t.customData.serverCode===409?await Yw(r.appConfig):await Kf(r.appConfig,{fid:e.fid,registrationStatus:0}),t}}async function pC(r){let e=await uT(r.appConfig);for(;e.registrationStatus===1;)await qw(100),e=await uT(r.appConfig);if(e.registrationStatus===0){const{installationEntry:t,registrationPromise:i}=await dy(r);return i||t}return e}function uT(r){return Ad(r,e=>{if(!e)throw Pa.create("installation-not-found");return Qw(e)})}function Qw(r){return yC(r)?{fid:r.fid,registrationStatus:0}:r}function yC(r){return r.registrationStatus===1&&r.registrationTime+Mw<Date.now()}async function _C({appConfig:r,heartbeatServiceProvider:e},t){const i=vC(r,t),a=eC(r,t),l=e.getImmediate({optional:!0});if(l){const p=await l.getHeartbeatsHeader();p&&a.append("x-firebase-client",p)}const c={installation:{sdkVersion:kw,appId:r.appId}},d={method:"POST",headers:a,body:JSON.stringify(c)},g=await Fw(()=>fetch(i,d));if(g.ok){const p=await g.json();return jw(p)}else throw await zw("Generate Auth Token",g)}function vC(r,{fid:e}){return`${Uw(r)}/${e}/authTokens:generate`}async function my(r,e=!1){let t;const i=await Ad(r.appConfig,l=>{if(!$w(l))throw Pa.create("not-registered");const c=l.authToken;if(!e&&EC(c))return l;if(c.requestStatus===1)return t=bC(r,e),l;{if(!navigator.onLine)throw Pa.create("app-offline");const d=SC(l);return t=TC(r,d),d}});return t?await t:i.authToken}async function bC(r,e){let t=await cT(r.appConfig);for(;t.authToken.requestStatus===1;)await qw(100),t=await cT(r.appConfig);const i=t.authToken;return i.requestStatus===0?my(r,e):i}function cT(r){return Ad(r,e=>{if(!$w(e))throw Pa.create("not-registered");const t=e.authToken;return AC(t)?{...e,authToken:{requestStatus:0}}:e})}async function TC(r,e){try{const t=await _C(r,e),i={...e,authToken:t};return await Kf(r.appConfig,i),t}catch(t){if(Lw(t)&&(t.customData.serverCode===401||t.customData.serverCode===404))await Yw(r.appConfig);else{const i={...e,authToken:{requestStatus:0}};await Kf(r.appConfig,i)}throw t}}function $w(r){return r!==void 0&&r.registrationStatus===2}function EC(r){return r.requestStatus===2&&!wC(r)}function wC(r){const e=Date.now();return e<r.creationTime||r.creationTime+r.expiresIn<e+X2}function SC(r){const e={requestStatus:1,requestTime:Date.now()};return{...r,authToken:e}}function AC(r){return r.requestStatus===1&&r.requestTime+Mw<Date.now()}async function IC(r){const e=r,{installationEntry:t,registrationPromise:i}=await dy(e);return i?i.catch(console.error):my(e).catch(console.error),t.fid}async function xC(r,e=!1){const t=r;return await RC(t),(await my(t,e)).token}async function RC(r){const{registrationPromise:e}=await dy(r);e&&await e}function CC(r){if(!r||!r.options)throw sp("App Configuration");if(!r.name)throw sp("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!r.options[t])throw sp(t);return{appName:r.name,projectId:r.options.projectId,apiKey:r.options.apiKey,appId:r.options.appId}}function sp(r){return Pa.create("missing-app-config-values",{valueName:r})}const Xw="installations",NC="installations-internal",DC=r=>{const e=r.getProvider("app").getImmediate(),t=CC(e),i=Qa(e,"heartbeat");return{app:e,appConfig:t,heartbeatServiceProvider:i,_delete:()=>Promise.resolve()}},OC=r=>{const e=r.getProvider("app").getImmediate(),t=Qa(e,Xw).getImmediate();return{getId:()=>IC(t),getToken:a=>xC(t,a)}};function VC(){Ji(new Ti(Xw,DC,"PUBLIC")),Ji(new Ti(NC,OC,"PRIVATE"))}VC();ni(Vw,hy);ni(Vw,hy,"esm2020");const Yf="analytics",MC="firebase_id",kC="origin",PC=60*1e3,LC="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",gy="https://www.googletagmanager.com/gtag/js";const dn=new wd("@firebase/analytics");const UC={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Pn=new Ya("analytics","Analytics",UC);function jC(r){if(!r.startsWith(gy)){const e=Pn.create("invalid-gtag-resource",{gtagURL:r});return dn.warn(e.message),""}return r}function Ww(r){return Promise.all(r.map(e=>e.catch(t=>t)))}function zC(r,e){let t;return window.trustedTypes&&(t=window.trustedTypes.createPolicy(r,e)),t}function BC(r,e){const t=zC("firebase-js-sdk-policy",{createScriptURL:jC}),i=document.createElement("script"),a=`${gy}?l=${r}&id=${e}`;i.src=t?t?.createScriptURL(a):a,i.async=!0,document.head.appendChild(i)}function FC(r){let e=[];return Array.isArray(window[r])?e=window[r]:window[r]=e,e}async function qC(r,e,t,i,a,l){const c=i[a];try{if(c)await e[c];else{const g=(await Ww(t)).find(p=>p.measurementId===a);g&&await e[g.appId]}}catch(d){dn.error(d)}r("config",a,l)}async function HC(r,e,t,i,a){try{let l=[];if(a&&a.send_to){let c=a.send_to;Array.isArray(c)||(c=[c]);const d=await Ww(t);for(const g of c){const p=d.find(T=>T.measurementId===g),b=p&&e[p.appId];if(b)l.push(b);else{l=[];break}}}l.length===0&&(l=Object.values(e)),await Promise.all(l),r("event",i,a||{})}catch(l){dn.error(l)}}function GC(r,e,t,i){async function a(l,...c){try{if(l==="event"){const[d,g]=c;await HC(r,e,t,d,g)}else if(l==="config"){const[d,g]=c;await qC(r,e,t,i,d,g)}else if(l==="consent"){const[d,g]=c;r("consent",d,g)}else if(l==="get"){const[d,g,p]=c;r("get",d,g,p)}else if(l==="set"){const[d]=c;r("set",d)}else r(l,...c)}catch(d){dn.error(d)}}return a}function KC(r,e,t,i,a){let l=function(...c){window[i].push(arguments)};return window[a]&&typeof window[a]=="function"&&(l=window[a]),window[a]=GC(l,r,e,t),{gtagCore:l,wrappedGtag:window[a]}}function YC(r){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(gy)&&t.src.includes(r))return t;return null}const QC=30,$C=1e3;class XC{constructor(e={},t=$C){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const Jw=new XC;function WC(r){return new Headers({Accept:"application/json","x-goog-api-key":r})}async function JC(r){const{appId:e,apiKey:t}=r,i={method:"GET",headers:WC(t)},a=LC.replace("{app-id}",e),l=await fetch(a,i);if(l.status!==200&&l.status!==304){let c="";try{const d=await l.json();d.error?.message&&(c=d.error.message)}catch{}throw Pn.create("config-fetch-failed",{httpStatus:l.status,responseMessage:c})}return l.json()}async function ZC(r,e=Jw,t){const{appId:i,apiKey:a,measurementId:l}=r.options;if(!i)throw Pn.create("no-app-id");if(!a){if(l)return{measurementId:l,appId:i};throw Pn.create("no-api-key")}const c=e.getThrottleMetadata(i)||{backoffCount:0,throttleEndTimeMillis:Date.now()},d=new nN;return setTimeout(async()=>{d.abort()},PC),Zw({appId:i,apiKey:a,measurementId:l},c,d,e)}async function Zw(r,{throttleEndTimeMillis:e,backoffCount:t},i,a=Jw){const{appId:l,measurementId:c}=r;try{await eN(i,e)}catch(d){if(c)return dn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${d?.message}]`),{appId:l,measurementId:c};throw d}try{const d=await JC(r);return a.deleteThrottleMetadata(l),d}catch(d){const g=d;if(!tN(g)){if(a.deleteThrottleMetadata(l),c)return dn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${c} provided in the "measurementId" field in the local Firebase config. [${g?.message}]`),{appId:l,measurementId:c};throw d}const p=Number(g?.customData?.httpStatus)===503?eT(t,a.intervalMillis,QC):eT(t,a.intervalMillis),b={throttleEndTimeMillis:Date.now()+p,backoffCount:t+1};return a.setThrottleMetadata(l,b),dn.debug(`Calling attemptFetch again in ${p} millis`),Zw(r,b,i,a)}}function eN(r,e){return new Promise((t,i)=>{const a=Math.max(e-Date.now(),0),l=setTimeout(t,a);r.addEventListener(()=>{clearTimeout(l),i(Pn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tN(r){if(!(r instanceof Ei)||!r.customData)return!1;const e=Number(r.customData.httpStatus);return e===429||e===500||e===503||e===504}class nN{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function iN(r,e,t,i,a){if(a&&a.global){r("event",t,i);return}else{const l=await e,c={...i,send_to:l};r("event",t,c)}}async function rN(r,e,t,i){if(i&&i.global){const a={};for(const l of Object.keys(t))a[`user_properties.${l}`]=t[l];return r("set",a),Promise.resolve()}else{const a=await e;r("config",a,{update:!0,user_properties:t})}}async function sN(){if(ly())try{await Iw()}catch(r){return dn.warn(Pn.create("indexeddb-unavailable",{errorInfo:r?.toString()}).message),!1}else return dn.warn(Pn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function aN(r,e,t,i,a,l,c){const d=ZC(r);d.then(I=>{t[I.measurementId]=I.appId,r.options.measurementId&&I.measurementId!==r.options.measurementId&&dn.warn(`The measurement ID in the local Firebase config (${r.options.measurementId}) does not match the measurement ID fetched from the server (${I.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(I=>dn.error(I)),e.push(d);const g=sN().then(I=>{if(I)return i.getId()}),[p,b]=await Promise.all([d,g]);YC(l)||BC(l,p.measurementId),a("js",new Date);const T=c?.config??{};return T[kC]="firebase",T.update=!0,b!=null&&(T[MC]=b),a("config",p.measurementId,T),p.measurementId}class oN{constructor(e){this.app=e}_delete(){return delete Zo[this.app.options.appId],Promise.resolve()}}let Zo={},hT=[];const fT={};let ap="dataLayer",lN="gtag",dT,py,mT=!1;function uN(){const r=[];if(ww()&&r.push("This is a browser extension environment."),RR()||r.push("Cookies are not available."),r.length>0){const e=r.map((i,a)=>`(${a+1}) ${i}`).join(" "),t=Pn.create("invalid-analytics-context",{errorInfo:e});dn.warn(t.message)}}function cN(r,e,t){uN();const i=r.options.appId;if(!i)throw Pn.create("no-app-id");if(!r.options.apiKey)if(r.options.measurementId)dn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${r.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Pn.create("no-api-key");if(Zo[i]!=null)throw Pn.create("already-exists",{id:i});if(!mT){FC(ap);const{wrappedGtag:l,gtagCore:c}=KC(Zo,hT,fT,ap,lN);py=l,dT=c,mT=!0}return Zo[i]=aN(r,hT,fT,e,dT,ap,t),new oN(r)}function hN(r=cy()){r=un(r);const e=Qa(r,Yf);return e.isInitialized()?e.getImmediate():fN(r)}function fN(r,e={}){const t=Qa(r,Yf);if(t.isInitialized()){const a=t.getImmediate();if(Ds(e,t.getOptions()))return a;throw Pn.create("already-initialized")}return t.initialize({options:e})}function dN(r,e,t){r=un(r),rN(py,Zo[r.app.options.appId],e,t).catch(i=>dn.error(i))}function mN(r,e,t,i){r=un(r),iN(py,Zo[r.app.options.appId],e,t,i).catch(a=>dn.error(a))}const gT="@firebase/analytics",pT="0.10.19";function gN(){Ji(new Ti(Yf,(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("installations-internal").getImmediate();return cN(i,a,t)},"PUBLIC")),Ji(new Ti("analytics-internal",r,"PRIVATE")),ni(gT,pT),ni(gT,pT,"esm2020");function r(e){try{const t=e.getProvider(Yf).getImmediate();return{logEvent:(i,a,l)=>mN(t,i,a,l),setUserProperties:(i,a)=>dN(t,i,a)}}catch(t){throw Pn.create("interop-component-reg-failed",{reason:t})}}}gN();function eS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const pN=eS,tS=new Ya("auth","Firebase",eS());const Qf=new wd("@firebase/auth");function yN(r,...e){Qf.logLevel<=He.WARN&&Qf.warn(`Auth (${Al}): ${r}`,...e)}function Rf(r,...e){Qf.logLevel<=He.ERROR&&Qf.error(`Auth (${Al}): ${r}`,...e)}function Zi(r,...e){throw _y(r,...e)}function vi(r,...e){return _y(r,...e)}function yy(r,e,t){const i={...pN(),[e]:t};return new Ya("auth","Firebase",i).create(e,{appName:r.name})}function Ca(r){return yy(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function _N(r,e,t){const i=t;if(!(e instanceof i))throw i.name!==e.constructor.name&&Zi(r,"argument-error"),yy(r,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function _y(r,...e){if(typeof r!="string"){const t=e[0],i=[...e.slice(1)];return i[0]&&(i[0].appName=r.name),r._errorFactory.create(t,...i)}return tS.create(r,...e)}function Ce(r,e,...t){if(!r)throw _y(e,...t)}function Sr(r){const e="INTERNAL ASSERTION FAILED: "+r;throw Rf(e),new Error(e)}function Cr(r,e){r||Sr(e)}function Rp(){return typeof self<"u"&&self.location?.href||""}function vN(){return yT()==="http:"||yT()==="https:"}function yT(){return typeof self<"u"&&self.location?.protocol||null}function bN(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(vN()||ww()||"connection"in navigator)?navigator.onLine:!0}function TN(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}class Nc{constructor(e,t){this.shortDelay=e,this.longDelay=t,Cr(t>e,"Short delay should be less than long delay!"),this.isMobile=SR()||IR()}get(){return bN()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function vy(r,e){Cr(r.emulator,"Emulator should always be set here");const{url:t}=r.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class nS{static initialize(e,t,i){this.fetchImpl=e,t&&(this.headersImpl=t),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Sr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Sr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Sr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const EN={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const wN=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],SN=new Nc(3e4,6e4);function by(r,e){return r.tenantId&&!e.tenantId?{...e,tenantId:r.tenantId}:e}async function Il(r,e,t,i,a={}){return iS(r,a,async()=>{let l={},c={};i&&(e==="GET"?c=i:l={body:JSON.stringify(i)});const d=Cc({key:r.config.apiKey,...c}).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const p={method:e,headers:g,...l};return AR()||(p.referrerPolicy="no-referrer"),r.emulatorConfig&&Sl(r.emulatorConfig.host)&&(p.credentials="include"),nS.fetch()(await rS(r,r.config.apiHost,t,d),p)})}async function iS(r,e,t){r._canInitEmulator=!1;const i={...EN,...e};try{const a=new IN(r),l=await Promise.race([t(),a.promise]);a.clearNetworkTimeout();const c=await l.json();if("needConfirmation"in c)throw yf(r,"account-exists-with-different-credential",c);if(l.ok&&!("errorMessage"in c))return c;{const d=l.ok?c.errorMessage:c.error.message,[g,p]=d.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw yf(r,"credential-already-in-use",c);if(g==="EMAIL_EXISTS")throw yf(r,"email-already-in-use",c);if(g==="USER_DISABLED")throw yf(r,"user-disabled",c);const b=i[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw yy(r,b,p);Zi(r,b)}}catch(a){if(a instanceof Ei)throw a;Zi(r,"network-request-failed",{message:String(a)})}}async function AN(r,e,t,i,a={}){const l=await Il(r,e,t,i,a);return"mfaPendingCredential"in l&&Zi(r,"multi-factor-auth-required",{_serverResponse:l}),l}async function rS(r,e,t,i){const a=`${e}${t}?${i}`,l=r,c=l.config.emulator?vy(r.config,a):`${r.config.apiScheme}://${a}`;return wN.includes(t)&&(await l._persistenceManagerAvailable,l._getPersistenceType()==="COOKIE")?l._getPersistence()._getFinalTarget(c).toString():c}class IN{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,i)=>{this.timer=setTimeout(()=>i(vi(this.auth,"network-request-failed")),SN.get())})}}function yf(r,e,t){const i={appName:r.name};t.email&&(i.email=t.email),t.phoneNumber&&(i.phoneNumber=t.phoneNumber);const a=vi(r,e,i);return a.customData._tokenResponse=t,a}async function xN(r,e){return Il(r,"POST","/v1/accounts:delete",e)}async function $f(r,e){return Il(r,"POST","/v1/accounts:lookup",e)}function nc(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function RN(r,e=!1){const t=un(r),i=await t.getIdToken(e),a=Ty(i);Ce(a&&a.exp&&a.auth_time&&a.iat,t.auth,"internal-error");const l=typeof a.firebase=="object"?a.firebase:void 0,c=l?.sign_in_provider;return{claims:a,token:i,authTime:nc(op(a.auth_time)),issuedAtTime:nc(op(a.iat)),expirationTime:nc(op(a.exp)),signInProvider:c||null,signInSecondFactor:l?.sign_in_second_factor||null}}function op(r){return Number(r)*1e3}function Ty(r){const[e,t,i]=r.split(".");if(e===void 0||t===void 0||i===void 0)return Rf("JWT malformed, contained fewer than 3 sections"),null;try{const a=gw(t);return a?JSON.parse(a):(Rf("Failed to decode base64 JWT payload"),null)}catch(a){return Rf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function _T(r){const e=Ty(r);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function dc(r,e,t=!1){if(t)return e;try{return await e}catch(i){throw i instanceof Ei&&CN(i)&&r.auth.currentUser===r&&await r.auth.signOut(),i}}function CN({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}class NN{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Cp{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=nc(this.lastLoginAt),this.creationTime=nc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Xf(r){const e=r.auth,t=await r.getIdToken(),i=await dc(r,$f(e,{idToken:t}));Ce(i?.users.length,e,"internal-error");const a=i.users[0];r._notifyReloadListener(a);const l=a.providerUserInfo?.length?sS(a.providerUserInfo):[],c=ON(r.providerData,l),d=r.isAnonymous,g=!(r.email&&a.passwordHash)&&!c?.length,p=d?g:!1,b={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new Cp(a.createdAt,a.lastLoginAt),isAnonymous:p};Object.assign(r,b)}async function DN(r){const e=un(r);await Xf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function ON(r,e){return[...r.filter(i=>!e.some(a=>a.providerId===i.providerId)),...e]}function sS(r){return r.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}async function VN(r,e){const t=await iS(r,{},async()=>{const i=Cc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:a,apiKey:l}=r.config,c=await rS(r,a,"/v1/token",`key=${l}`),d=await r._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:d,body:i};return r.emulatorConfig&&Sl(r.emulatorConfig.host)&&(g.credentials="include"),nS.fetch()(c,g)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function MN(r,e){return Il(r,"POST","/v2/accounts:revokeToken",by(r,e))}class el{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):_T(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(e.length!==0,"internal-error");const t=_T(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Ce(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:i,refreshToken:a,expiresIn:l}=await VN(e,t);this.updateTokensAndExpiration(i,a,Number(l))}updateTokensAndExpiration(e,t,i){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(e,t){const{refreshToken:i,accessToken:a,expirationTime:l}=t,c=new el;return i&&(Ce(typeof i=="string","internal-error",{appName:e}),c.refreshToken=i),a&&(Ce(typeof a=="string","internal-error",{appName:e}),c.accessToken=a),l&&(Ce(typeof l=="number","internal-error",{appName:e}),c.expirationTime=l),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new el,this.toJSON())}_performRefresh(){return Sr("not implemented")}}function ds(r,e){Ce(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class _i{constructor({uid:e,auth:t,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new NN(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Cp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const t=await dc(this,this.stsTokenManager.getToken(this.auth,e));return Ce(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return RN(this,e)}reload(){return DN(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new _i({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let i=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),i=!0),t&&await Xf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(yi(this.auth.app))return Promise.reject(Ca(this.auth));const e=await this.getIdToken();return await dc(this,xN(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const i=t.displayName??void 0,a=t.email??void 0,l=t.phoneNumber??void 0,c=t.photoURL??void 0,d=t.tenantId??void 0,g=t._redirectEventId??void 0,p=t.createdAt??void 0,b=t.lastLoginAt??void 0,{uid:T,emailVerified:I,isAnonymous:j,providerData:Q,stsTokenManager:ee}=t;Ce(T&&ee,e,"internal-error");const te=el.fromJSON(this.name,ee);Ce(typeof T=="string",e,"internal-error"),ds(i,e.name),ds(a,e.name),Ce(typeof I=="boolean",e,"internal-error"),Ce(typeof j=="boolean",e,"internal-error"),ds(l,e.name),ds(c,e.name),ds(d,e.name),ds(g,e.name),ds(p,e.name),ds(b,e.name);const ce=new _i({uid:T,auth:e,email:a,emailVerified:I,displayName:i,isAnonymous:j,photoURL:c,phoneNumber:l,tenantId:d,stsTokenManager:te,createdAt:p,lastLoginAt:b});return Q&&Array.isArray(Q)&&(ce.providerData=Q.map(fe=>({...fe}))),g&&(ce._redirectEventId=g),ce}static async _fromIdTokenResponse(e,t,i=!1){const a=new el;a.updateFromServerResponse(t);const l=new _i({uid:t.localId,auth:e,stsTokenManager:a,isAnonymous:i});return await Xf(l),l}static async _fromGetAccountInfoResponse(e,t,i){const a=t.users[0];Ce(a.localId!==void 0,"internal-error");const l=a.providerUserInfo!==void 0?sS(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!l?.length,d=new el;d.updateFromIdToken(i);const g=new _i({uid:a.localId,auth:e,stsTokenManager:d,isAnonymous:c}),p={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:l,metadata:new Cp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!l?.length};return Object.assign(g,p),g}}const vT=new Map;function Ar(r){Cr(r instanceof Function,"Expected a class definition");let e=vT.get(r);return e?(Cr(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,vT.set(r,e),e)}class aS{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}aS.type="NONE";const bT=aS;function Cf(r,e,t){return`firebase:${r}:${e}:${t}`}class tl{constructor(e,t,i){this.persistence=e,this.auth=t,this.userKey=i;const{config:a,name:l}=this.auth;this.fullUserKey=Cf(this.userKey,a.apiKey,l),this.fullPersistenceKey=Cf("persistence",a.apiKey,l),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await $f(this.auth,{idToken:e}).catch(()=>{});return t?_i._fromGetAccountInfoResponse(this.auth,t,e):null}return _i._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,i="authUser"){if(!t.length)return new tl(Ar(bT),e,i);const a=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let l=a[0]||Ar(bT);const c=Cf(i,e.config.apiKey,e.name);let d=null;for(const p of t)try{const b=await p._get(c);if(b){let T;if(typeof b=="string"){const I=await $f(e,{idToken:b}).catch(()=>{});if(!I)break;T=await _i._fromGetAccountInfoResponse(e,I,b)}else T=_i._fromJSON(e,b);p!==l&&(d=T),l=p;break}}catch{}const g=a.filter(p=>p._shouldAllowMigration);return!l._shouldAllowMigration||!g.length?new tl(l,e,i):(l=g[0],d&&await l._set(c,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==l)try{await p._remove(c)}catch{}})),new tl(l,e,i))}}function TT(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(fS(e))return"Blackberry";if(dS(e))return"Webos";if(lS(e))return"Safari";if((e.includes("chrome/")||uS(e))&&!e.includes("edge/"))return"Chrome";if(hS(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=r.match(t);if(i?.length===2)return i[1]}return"Other"}function oS(r=Ht()){return/firefox\//i.test(r)}function lS(r=Ht()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uS(r=Ht()){return/crios\//i.test(r)}function cS(r=Ht()){return/iemobile/i.test(r)}function hS(r=Ht()){return/android/i.test(r)}function fS(r=Ht()){return/blackberry/i.test(r)}function dS(r=Ht()){return/webos/i.test(r)}function Ey(r=Ht()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function kN(r=Ht()){return Ey(r)&&!!window.navigator?.standalone}function PN(){return xR()&&document.documentMode===10}function mS(r=Ht()){return Ey(r)||hS(r)||dS(r)||fS(r)||/windows phone/i.test(r)||cS(r)}function gS(r,e=[]){let t;switch(r){case"Browser":t=TT(Ht());break;case"Worker":t=`${TT(Ht())}-${r}`;break;default:t=r}const i=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Al}/${i}`}class LN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const i=l=>new Promise((c,d)=>{try{const g=e(l);c(g)}catch(g){d(g)}});i.onAbort=t,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const i of this.queue)await i(e),i.onAbort&&t.push(i.onAbort)}catch(i){t.reverse();for(const a of t)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function UN(r,e={}){return Il(r,"GET","/v2/passwordPolicy",by(r,e))}const jN=6;class zN{constructor(e){const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??jN,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(t.meetsMinPasswordLength=e.length>=i),a&&(t.meetsMaxPasswordLength=e.length<=a)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let i;for(let a=0;a<e.length;a++)i=e.charAt(a),this.updatePasswordCharacterOptionsStatuses(t,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(e,t,i,a,l){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=l))}}class BN{constructor(e,t,i,a){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ET(this),this.idTokenSubscription=new ET(this),this.beforeStateQueue=new LN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(l=>this._resolvePersistenceManagerAvailable=l)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ar(t)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await tl.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await $f(this,{idToken:e}),i=await _i._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(i)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(yi(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let i=t,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=this.redirectUser?._redirectEventId,c=i?._redirectEventId,d=await this.tryRedirectSignIn(e);(!l||l===c)&&d?.user&&(i=d.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ce(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Xf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=TN()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(yi(this.app))return Promise.reject(Ca(this));const t=e?un(e):null;return t&&Ce(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&Ce(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return yi(this.app)?Promise.reject(Ca(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return yi(this.app)?Promise.reject(Ca(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ar(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await UN(this),t=new zN(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Ya("auth","Firebase",e())}onAuthStateChanged(e,t,i){return this.registerStateListener(this.authStateSubscription,e,t,i)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,i){return this.registerStateListener(this.idTokenSubscription,e,t,i)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const i=this.onAuthStateChanged(()=>{i(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(i.tenantId=this.tenantId),await MN(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,t){const i=await this.getOrInitRedirectPersistenceManager(t);return e===null?i.removeCurrentUser():i.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Ar(e)||this._popupRedirectResolver;Ce(t,this,"argument-error"),this.redirectPersistenceManager=await tl.create(this,[Ar(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,i,a){if(this._deleted)return()=>{};const l=typeof t=="function"?t:t.next.bind(t);let c=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(d,this,"internal-error"),d.then(()=>{c||l(this.currentUser)}),typeof t=="function"){const g=e.addObserver(t,i,a);return()=>{c=!0,g()}}else{const g=e.addObserver(t);return()=>{c=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();t&&(e["X-Firebase-Client"]=t);const i=await this._getAppCheckToken();return i&&(e["X-Firebase-AppCheck"]=i),e}async _getAppCheckToken(){if(yi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&yN(`Error while retrieving App Check token: ${e.error}`),e?.token}}function Id(r){return un(r)}class ET{constructor(e){this.auth=e,this.observer=null,this.addObserver=VR(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let wy={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function FN(r){wy=r}function qN(r){return wy.loadJS(r)}function HN(){return wy.gapiScript}function GN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}function KN(r,e){const t=Qa(r,"auth");if(t.isInitialized()){const a=t.getImmediate(),l=t.getOptions();if(Ds(l,e??{}))return a;Zi(a,"already-initialized")}return t.initialize({options:e})}function YN(r,e){const t=e?.persistence||[],i=(Array.isArray(t)?t:[t]).map(Ar);e?.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(i,e?.popupRedirectResolver)}function QN(r,e,t){const i=Id(r);Ce(/^https?:\/\//.test(e),i,"invalid-emulator-scheme");const a=!1,l=pS(e),{host:c,port:d}=$N(e),g=d===null?"":`:${d}`,p={url:`${l}//${c}${g}/`},b=Object.freeze({host:c,port:d,protocol:l.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){Ce(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ce(Ds(p,i.config.emulator)&&Ds(b,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=p,i.emulatorConfig=b,i.settings.appVerificationDisabledForTesting=!0,Sl(c)?(bw(`${l}//${c}${g}`),Tw("Auth",!0)):XN()}function pS(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function $N(r){const e=pS(r),t=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!t)return{host:"",port:null};const i=t[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const l=a[1];return{host:l,port:wT(i.substr(l.length+1))}}else{const[l,c]=i.split(":");return{host:l,port:wT(c)}}}function wT(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function XN(){function r(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}class yS{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Sr("not implemented")}_getIdTokenResponse(e){return Sr("not implemented")}_linkToIdToken(e,t){return Sr("not implemented")}_getReauthenticationResolver(e){return Sr("not implemented")}}async function nl(r,e){return AN(r,"POST","/v1/accounts:signInWithIdp",by(r,e))}const WN="http://localhost";class Ua extends yS{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Ua(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Zi("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:i,signInMethod:a,...l}=t;if(!i||!a)return null;const c=new Ua(i,a);return c.idToken=l.idToken||void 0,c.accessToken=l.accessToken||void 0,c.secret=l.secret,c.nonce=l.nonce,c.pendingToken=l.pendingToken||null,c}_getIdTokenResponse(e){const t=this.buildRequest();return nl(e,t)}_linkToIdToken(e,t){const i=this.buildRequest();return i.idToken=t,nl(e,i)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,nl(e,t)}buildRequest(){const e={requestUri:WN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Cc(t)}return e}}class Sy{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Dc extends Sy{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Ts extends Dc{constructor(){super("facebook.com")}static credential(e){return Ua._fromParams({providerId:Ts.PROVIDER_ID,signInMethod:Ts.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ts.credentialFromTaggedObject(e)}static credentialFromError(e){return Ts.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ts.credential(e.oauthAccessToken)}catch{return null}}}Ts.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ts.PROVIDER_ID="facebook.com";class wr extends Dc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Ua._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return wr.credentialFromTaggedObject(e)}static credentialFromError(e){return wr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:i}=e;if(!t&&!i)return null;try{return wr.credential(t,i)}catch{return null}}}wr.GOOGLE_SIGN_IN_METHOD="google.com";wr.PROVIDER_ID="google.com";class Es extends Dc{constructor(){super("github.com")}static credential(e){return Ua._fromParams({providerId:Es.PROVIDER_ID,signInMethod:Es.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Es.credentialFromTaggedObject(e)}static credentialFromError(e){return Es.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Es.credential(e.oauthAccessToken)}catch{return null}}}Es.GITHUB_SIGN_IN_METHOD="github.com";Es.PROVIDER_ID="github.com";class ws extends Dc{constructor(){super("twitter.com")}static credential(e,t){return Ua._fromParams({providerId:ws.PROVIDER_ID,signInMethod:ws.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return ws.credentialFromTaggedObject(e)}static credentialFromError(e){return ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:i}=e;if(!t||!i)return null;try{return ws.credential(t,i)}catch{return null}}}ws.TWITTER_SIGN_IN_METHOD="twitter.com";ws.PROVIDER_ID="twitter.com";class al{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,i,a=!1){const l=await _i._fromIdTokenResponse(e,i,a),c=ST(i);return new al({user:l,providerId:c,_tokenResponse:i,operationType:t})}static async _forOperation(e,t,i){await e._updateTokensIfNecessary(i,!0);const a=ST(i);return new al({user:e,providerId:a,_tokenResponse:i,operationType:t})}}function ST(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}class Wf extends Ei{constructor(e,t,i,a){super(t.code,t.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,Wf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(e,t,i,a){return new Wf(e,t,i,a)}}function _S(r,e,t,i){return(e==="reauthenticate"?t._getReauthenticationResolver(r):t._getIdTokenResponse(r)).catch(l=>{throw l.code==="auth/multi-factor-auth-required"?Wf._fromErrorAndOperation(r,l,e,i):l})}async function JN(r,e,t=!1){const i=await dc(r,e._linkToIdToken(r.auth,await r.getIdToken()),t);return al._forOperation(r,"link",i)}async function ZN(r,e,t=!1){const{auth:i}=r;if(yi(i.app))return Promise.reject(Ca(i));const a="reauthenticate";try{const l=await dc(r,_S(i,a,e,r),t);Ce(l.idToken,i,"internal-error");const c=Ty(l.idToken);Ce(c,i,"internal-error");const{sub:d}=c;return Ce(r.uid===d,i,"user-mismatch"),al._forOperation(r,a,l)}catch(l){throw l?.code==="auth/user-not-found"&&Zi(i,"user-mismatch"),l}}async function eD(r,e,t=!1){if(yi(r.app))return Promise.reject(Ca(r));const i="signIn",a=await _S(r,i,e),l=await al._fromIdTokenResponse(r,i,a);return t||await r._updateCurrentUser(l.user),l}function tD(r,e,t,i){return un(r).onIdTokenChanged(e,t,i)}function nD(r,e,t){return un(r).beforeAuthStateChanged(e,t)}function iD(r,e,t,i){return un(r).onAuthStateChanged(e,t,i)}function rD(r){return un(r).signOut()}const Jf="__sak";class vS{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Jf,"1"),this.storage.removeItem(Jf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const sD=1e3,aD=10;class bS extends vS{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=mS(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const i=this.storage.getItem(t),a=this.localCache[t];i!==a&&e(t,a,i)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((c,d,g)=>{this.notifyListeners(c,g)});return}const i=e.key;t?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!t&&this.localCache[i]===c||this.notifyListeners(i,c)},l=this.storage.getItem(i);PN()&&l!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,aD):a()}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:i}),!0)})},sD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}bS.type="LOCAL";const oD=bS;class TS extends vS{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}TS.type="SESSION";const ES=TS;function lD(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}class xd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(a=>a.isListeningto(e));if(t)return t;const i=new xd(e);return this.receivers.push(i),i}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:i,eventType:a,data:l}=t.data,c=this.handlersMap[a];if(!c?.size)return;t.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const d=Array.from(c).map(async p=>p(t.origin,l)),g=await lD(d);t.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:g})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}xd.receivers=[];function Ay(r="",e=10){let t="";for(let i=0;i<e;i++)t+=Math.floor(Math.random()*10);return r+t}class uD{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let l,c;return new Promise((d,g)=>{const p=Ay("",20);a.port1.start();const b=setTimeout(()=>{g(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(T){const I=T;if(I.data.eventId===p)switch(I.data.status){case"ack":clearTimeout(b),l=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(l),d(I.data.response);break;default:clearTimeout(b),clearTimeout(l),g(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Xi(){return window}function cD(r){Xi().location.href=r}function wS(){return typeof Xi().WorkerGlobalScope<"u"&&typeof Xi().importScripts=="function"}async function hD(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fD(){return navigator?.serviceWorker?.controller||null}function dD(){return wS()?self:null}const SS="firebaseLocalStorageDb",mD=1,Zf="firebaseLocalStorage",AS="fbase_key";class Oc{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Rd(r,e){return r.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function gD(){const r=indexedDB.deleteDatabase(SS);return new Oc(r).toPromise()}function Np(){const r=indexedDB.open(SS,mD);return new Promise((e,t)=>{r.addEventListener("error",()=>{t(r.error)}),r.addEventListener("upgradeneeded",()=>{const i=r.result;try{i.createObjectStore(Zf,{keyPath:AS})}catch(a){t(a)}}),r.addEventListener("success",async()=>{const i=r.result;i.objectStoreNames.contains(Zf)?e(i):(i.close(),await gD(),e(await Np()))})})}async function AT(r,e,t){const i=Rd(r,!0).put({[AS]:e,value:t});return new Oc(i).toPromise()}async function pD(r,e){const t=Rd(r,!1).get(e),i=await new Oc(t).toPromise();return i===void 0?null:i.value}function IT(r,e){const t=Rd(r,!0).delete(e);return new Oc(t).toPromise()}const yD=800,_D=3;class IS{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Np(),this.db)}async _withRetries(e){let t=0;for(;;)try{const i=await this._openDb();return await e(i)}catch(i){if(t++>_D)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return wS()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=xd._getInstance(dD()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await hD(),!this.activeServiceWorker)return;this.sender=new uD(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fD()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Np();return await AT(e,Jf,"1"),await IT(e,Jf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(i=>AT(i,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(i=>pD(i,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>IT(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(a=>{const l=Rd(a,!1).getAll();return new Oc(l).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],i=new Set;if(e.length!==0)for(const{fbase_key:a,value:l}of e)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(l)&&(this.notifyListeners(a,l),t.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),t.push(a));return t}notifyListeners(e,t){this.localCache[e]=t;const i=this.listeners[e];if(i)for(const a of Array.from(i))a(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yD)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}IS.type="LOCAL";const vD=IS;new Nc(3e4,6e4);function xS(r,e){return e?Ar(e):(Ce(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}class Iy extends yS{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return nl(e,this._buildIdpRequest())}_linkToIdToken(e,t){return nl(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return nl(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function bD(r){return eD(r.auth,new Iy(r),r.bypassAuthState)}function TD(r){const{auth:e,user:t}=r;return Ce(t,e,"internal-error"),ZN(t,new Iy(r),r.bypassAuthState)}async function ED(r){const{auth:e,user:t}=r;return Ce(t,e,"internal-error"),JN(t,new Iy(r),r.bypassAuthState)}class RS{constructor(e,t,i,a,l=!1){this.auth=e,this.resolver=i,this.user=a,this.bypassAuthState=l,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:i,postBody:a,tenantId:l,error:c,type:d}=e;if(c){this.reject(c);return}const g={auth:this.auth,requestUri:t,sessionId:i,tenantId:l||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(g))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return bD;case"linkViaPopup":case"linkViaRedirect":return ED;case"reauthViaPopup":case"reauthViaRedirect":return TD;default:Zi(this.auth,"internal-error")}}resolve(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const wD=new Nc(2e3,1e4);async function SD(r,e,t){if(yi(r.app))return Promise.reject(vi(r,"operation-not-supported-in-this-environment"));const i=Id(r);_N(r,e,Sy);const a=xS(i,t);return new xa(i,"signInViaPopup",e,a).executeNotNull()}class xa extends RS{constructor(e,t,i,a,l){super(e,t,a,l),this.provider=i,this.authWindow=null,this.pollId=null,xa.currentPopupAction&&xa.currentPopupAction.cancel(),xa.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ce(e,this.auth,"internal-error"),e}async onExecution(){Cr(this.filter.length===1,"Popup operations only handle one event");const e=Ay();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(vi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(vi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,xa.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(vi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,wD.get())};e()}}xa.currentPopupAction=null;const AD="pendingRedirect",Nf=new Map;class ID extends RS{constructor(e,t,i=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,i),this.eventId=null}async execute(){let e=Nf.get(this.auth._key());if(!e){try{const i=await xD(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(i)}catch(t){e=()=>Promise.reject(t)}Nf.set(this.auth._key(),e)}return this.bypassAuthState||Nf.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function xD(r,e){const t=ND(e),i=CD(r);if(!await i._isAvailable())return!1;const a=await i._get(t)==="true";return await i._remove(t),a}function RD(r,e){Nf.set(r._key(),e)}function CD(r){return Ar(r._redirectPersistence)}function ND(r){return Cf(AD,r.config.apiKey,r.name)}async function DD(r,e,t=!1){if(yi(r.app))return Promise.reject(Ca(r));const i=Id(r),a=xS(i,e),c=await new ID(i,a,t).execute();return c&&!t&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,e)),c}const OD=600*1e3;class VD{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(e,i)&&(t=!0,this.sendToConsumer(e,i),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!MD(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){if(e.error&&!CS(e)){const i=e.error.code?.split("auth/")[1]||"internal-error";t.onError(vi(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const i=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&i}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=OD&&this.cachedEventUids.clear(),this.cachedEventUids.has(xT(e))}saveEventToCache(e){this.cachedEventUids.add(xT(e)),this.lastProcessedEventTime=Date.now()}}function xT(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function CS({type:r,error:e}){return r==="unknown"&&e?.code==="auth/no-auth-event"}function MD(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return CS(r);default:return!1}}async function kD(r,e={}){return Il(r,"GET","/v1/projects",e)}const PD=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,LD=/^https?/;async function UD(r){if(r.config.emulator)return;const{authorizedDomains:e}=await kD(r);for(const t of e)try{if(jD(t))return}catch{}Zi(r,"unauthorized-domain")}function jD(r){const e=Rp(),{protocol:t,hostname:i}=new URL(e);if(r.startsWith("chrome-extension://")){const c=new URL(r);return c.hostname===""&&i===""?t==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&c.hostname===i}if(!LD.test(t))return!1;if(PD.test(r))return i===r;const a=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const zD=new Nc(3e4,6e4);function RT(){const r=Xi().___jsl;if(r?.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let t=0;t<r.CP.length;t++)r.CP[t]=null}}function BD(r){return new Promise((e,t)=>{function i(){RT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{RT(),t(vi(r,"network-request-failed"))},timeout:zD.get()})}if(Xi().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(Xi().gapi?.load)i();else{const a=GN("iframefcb");return Xi()[a]=()=>{gapi.load?i():t(vi(r,"network-request-failed"))},qN(`${HN()}?onload=${a}`).catch(l=>t(l))}}).catch(e=>{throw Df=null,e})}let Df=null;function FD(r){return Df=Df||BD(r),Df}const qD=new Nc(5e3,15e3),HD="__/auth/iframe",GD="emulator/auth/iframe",KD={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},YD=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function QD(r){const e=r.config;Ce(e.authDomain,r,"auth-domain-config-required");const t=e.emulator?vy(e,GD):`https://${r.config.authDomain}/${HD}`,i={apiKey:e.apiKey,appName:r.name,v:Al},a=YD.get(r.config.apiHost);a&&(i.eid=a);const l=r._getFrameworks();return l.length&&(i.fw=l.join(",")),`${t}?${Cc(i).slice(1)}`}async function $D(r){const e=await FD(r),t=Xi().gapi;return Ce(t,r,"internal-error"),e.open({where:document.body,url:QD(r),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:KD,dontclear:!0},i=>new Promise(async(a,l)=>{await i.restyle({setHideOnLeave:!1});const c=vi(r,"network-request-failed"),d=Xi().setTimeout(()=>{l(c)},qD.get());function g(){Xi().clearTimeout(d),a(i)}i.ping(g).then(g,()=>{l(c)})}))}const XD={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},WD=500,JD=600,ZD="_blank",eO="http://localhost";class CT{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function tO(r,e,t,i=WD,a=JD){const l=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let d="";const g={...XD,width:i.toString(),height:a.toString(),top:l,left:c},p=Ht().toLowerCase();t&&(d=uS(p)?ZD:t),oS(p)&&(e=e||eO,g.scrollbars="yes");const b=Object.entries(g).reduce((I,[j,Q])=>`${I}${j}=${Q},`,"");if(kN(p)&&d!=="_self")return nO(e||"",d),new CT(null);const T=window.open(e||"",d,b);Ce(T,r,"popup-blocked");try{T.focus()}catch{}return new CT(T)}function nO(r,e){const t=document.createElement("a");t.href=r,t.target=e;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(i)}const iO="__/auth/handler",rO="emulator/auth/handler",sO=encodeURIComponent("fac");async function NT(r,e,t,i,a,l){Ce(r.config.authDomain,r,"auth-domain-config-required"),Ce(r.config.apiKey,r,"invalid-api-key");const c={apiKey:r.config.apiKey,appName:r.name,authType:t,redirectUrl:i,v:Al,eventId:a};if(e instanceof Sy){e.setDefaultLanguage(r.languageCode),c.providerId=e.providerId||"",OR(e.getCustomParameters())||(c.customParameters=JSON.stringify(e.getCustomParameters()));for(const[b,T]of Object.entries({}))c[b]=T}if(e instanceof Dc){const b=e.getScopes().filter(T=>T!=="");b.length>0&&(c.scopes=b.join(","))}r.tenantId&&(c.tid=r.tenantId);const d=c;for(const b of Object.keys(d))d[b]===void 0&&delete d[b];const g=await r._getAppCheckToken(),p=g?`#${sO}=${encodeURIComponent(g)}`:"";return`${aO(r)}?${Cc(d).slice(1)}${p}`}function aO({config:r}){return r.emulator?vy(r,rO):`https://${r.authDomain}/${iO}`}const lp="webStorageSupport";class oO{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ES,this._completeRedirectFn=DD,this._overrideRedirectResult=RD}async _openPopup(e,t,i,a){Cr(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const l=await NT(e,t,i,Rp(),a);return tO(e,l,Ay())}async _openRedirect(e,t,i,a){await this._originValidation(e);const l=await NT(e,t,i,Rp(),a);return cD(l),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:a,promise:l}=this.eventManagers[t];return a?Promise.resolve(a):(Cr(l,"If manager is not set, promise should be"),l)}const i=this.initAndGetManager(e);return this.eventManagers[t]={promise:i},i.catch(()=>{delete this.eventManagers[t]}),i}async initAndGetManager(e){const t=await $D(e),i=new VD(e);return t.register("authEvent",a=>(Ce(a?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:i},this.iframes[e._key()]=t,i}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(lp,{type:lp},a=>{const l=a?.[0]?.[lp];l!==void 0&&t(!!l),Zi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=UD(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return mS()||lS()||Ey()}}const lO=oO;var DT="@firebase/auth",OT="1.12.0";class uO{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(i=>{e(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function cO(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function hO(r){Ji(new Ti("auth",(e,{options:t})=>{const i=e.getProvider("app").getImmediate(),a=e.getProvider("heartbeat"),l=e.getProvider("app-check-internal"),{apiKey:c,authDomain:d}=i.options;Ce(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const g={apiKey:c,authDomain:d,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gS(r)},p=new BN(i,a,l,g);return YN(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,i)=>{e.getProvider("auth-internal").initialize()})),Ji(new Ti("auth-internal",e=>{const t=Id(e.getProvider("auth").getImmediate());return(i=>new uO(i))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ni(DT,OT,cO(r)),ni(DT,OT,"esm2020")}const fO=300,dO=vw("authIdTokenMaxAge")||fO;let VT=null;const mO=r=>async e=>{const t=e&&await e.getIdTokenResult(),i=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(i&&i>dO)return;const a=t?.token;VT!==a&&(VT=a,await fetch(r,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function gO(r=cy()){const e=Qa(r,"auth");if(e.isInitialized())return e.getImmediate();const t=KN(r,{popupRedirectResolver:lO,persistence:[vD,oD,ES]}),i=vw("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const l=new URL(i,location.origin);if(location.origin===l.origin){const c=mO(l.toString());nD(t,c,()=>c(t.currentUser)),tD(t,d=>c(d))}}const a=yw("auth");return a&&QN(t,`http://${a}`),t}function pO(){return document.getElementsByTagName("head")?.[0]??document}FN({loadJS(r){return new Promise((e,t)=>{const i=document.createElement("script");i.setAttribute("src",r),i.onload=e,i.onerror=a=>{const l=vi("internal-error");l.customData=a,t(l)},i.type="text/javascript",i.charset="UTF-8",pO().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});hO("Browser");var MT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Rs,NS;(function(){var r;function e(x,A){function R(){}R.prototype=A.prototype,x.F=A.prototype,x.prototype=new R,x.prototype.constructor=x,x.D=function(M,O,k){for(var C=Array(arguments.length-2),le=2;le<arguments.length;le++)C[le-2]=arguments[le];return A.prototype[O].apply(M,C)}}function t(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(i,t),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(x,A,R){R||(R=0);const M=Array(16);if(typeof A=="string")for(var O=0;O<16;++O)M[O]=A.charCodeAt(R++)|A.charCodeAt(R++)<<8|A.charCodeAt(R++)<<16|A.charCodeAt(R++)<<24;else for(O=0;O<16;++O)M[O]=A[R++]|A[R++]<<8|A[R++]<<16|A[R++]<<24;A=x.g[0],R=x.g[1],O=x.g[2];let k=x.g[3],C;C=A+(k^R&(O^k))+M[0]+3614090360&4294967295,A=R+(C<<7&4294967295|C>>>25),C=k+(O^A&(R^O))+M[1]+3905402710&4294967295,k=A+(C<<12&4294967295|C>>>20),C=O+(R^k&(A^R))+M[2]+606105819&4294967295,O=k+(C<<17&4294967295|C>>>15),C=R+(A^O&(k^A))+M[3]+3250441966&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(k^R&(O^k))+M[4]+4118548399&4294967295,A=R+(C<<7&4294967295|C>>>25),C=k+(O^A&(R^O))+M[5]+1200080426&4294967295,k=A+(C<<12&4294967295|C>>>20),C=O+(R^k&(A^R))+M[6]+2821735955&4294967295,O=k+(C<<17&4294967295|C>>>15),C=R+(A^O&(k^A))+M[7]+4249261313&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(k^R&(O^k))+M[8]+1770035416&4294967295,A=R+(C<<7&4294967295|C>>>25),C=k+(O^A&(R^O))+M[9]+2336552879&4294967295,k=A+(C<<12&4294967295|C>>>20),C=O+(R^k&(A^R))+M[10]+4294925233&4294967295,O=k+(C<<17&4294967295|C>>>15),C=R+(A^O&(k^A))+M[11]+2304563134&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(k^R&(O^k))+M[12]+1804603682&4294967295,A=R+(C<<7&4294967295|C>>>25),C=k+(O^A&(R^O))+M[13]+4254626195&4294967295,k=A+(C<<12&4294967295|C>>>20),C=O+(R^k&(A^R))+M[14]+2792965006&4294967295,O=k+(C<<17&4294967295|C>>>15),C=R+(A^O&(k^A))+M[15]+1236535329&4294967295,R=O+(C<<22&4294967295|C>>>10),C=A+(O^k&(R^O))+M[1]+4129170786&4294967295,A=R+(C<<5&4294967295|C>>>27),C=k+(R^O&(A^R))+M[6]+3225465664&4294967295,k=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(k^A))+M[11]+643717713&4294967295,O=k+(C<<14&4294967295|C>>>18),C=R+(k^A&(O^k))+M[0]+3921069994&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^k&(R^O))+M[5]+3593408605&4294967295,A=R+(C<<5&4294967295|C>>>27),C=k+(R^O&(A^R))+M[10]+38016083&4294967295,k=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(k^A))+M[15]+3634488961&4294967295,O=k+(C<<14&4294967295|C>>>18),C=R+(k^A&(O^k))+M[4]+3889429448&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^k&(R^O))+M[9]+568446438&4294967295,A=R+(C<<5&4294967295|C>>>27),C=k+(R^O&(A^R))+M[14]+3275163606&4294967295,k=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(k^A))+M[3]+4107603335&4294967295,O=k+(C<<14&4294967295|C>>>18),C=R+(k^A&(O^k))+M[8]+1163531501&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(O^k&(R^O))+M[13]+2850285829&4294967295,A=R+(C<<5&4294967295|C>>>27),C=k+(R^O&(A^R))+M[2]+4243563512&4294967295,k=A+(C<<9&4294967295|C>>>23),C=O+(A^R&(k^A))+M[7]+1735328473&4294967295,O=k+(C<<14&4294967295|C>>>18),C=R+(k^A&(O^k))+M[12]+2368359562&4294967295,R=O+(C<<20&4294967295|C>>>12),C=A+(R^O^k)+M[5]+4294588738&4294967295,A=R+(C<<4&4294967295|C>>>28),C=k+(A^R^O)+M[8]+2272392833&4294967295,k=A+(C<<11&4294967295|C>>>21),C=O+(k^A^R)+M[11]+1839030562&4294967295,O=k+(C<<16&4294967295|C>>>16),C=R+(O^k^A)+M[14]+4259657740&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^k)+M[1]+2763975236&4294967295,A=R+(C<<4&4294967295|C>>>28),C=k+(A^R^O)+M[4]+1272893353&4294967295,k=A+(C<<11&4294967295|C>>>21),C=O+(k^A^R)+M[7]+4139469664&4294967295,O=k+(C<<16&4294967295|C>>>16),C=R+(O^k^A)+M[10]+3200236656&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^k)+M[13]+681279174&4294967295,A=R+(C<<4&4294967295|C>>>28),C=k+(A^R^O)+M[0]+3936430074&4294967295,k=A+(C<<11&4294967295|C>>>21),C=O+(k^A^R)+M[3]+3572445317&4294967295,O=k+(C<<16&4294967295|C>>>16),C=R+(O^k^A)+M[6]+76029189&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(R^O^k)+M[9]+3654602809&4294967295,A=R+(C<<4&4294967295|C>>>28),C=k+(A^R^O)+M[12]+3873151461&4294967295,k=A+(C<<11&4294967295|C>>>21),C=O+(k^A^R)+M[15]+530742520&4294967295,O=k+(C<<16&4294967295|C>>>16),C=R+(O^k^A)+M[2]+3299628645&4294967295,R=O+(C<<23&4294967295|C>>>9),C=A+(O^(R|~k))+M[0]+4096336452&4294967295,A=R+(C<<6&4294967295|C>>>26),C=k+(R^(A|~O))+M[7]+1126891415&4294967295,k=A+(C<<10&4294967295|C>>>22),C=O+(A^(k|~R))+M[14]+2878612391&4294967295,O=k+(C<<15&4294967295|C>>>17),C=R+(k^(O|~A))+M[5]+4237533241&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~k))+M[12]+1700485571&4294967295,A=R+(C<<6&4294967295|C>>>26),C=k+(R^(A|~O))+M[3]+2399980690&4294967295,k=A+(C<<10&4294967295|C>>>22),C=O+(A^(k|~R))+M[10]+4293915773&4294967295,O=k+(C<<15&4294967295|C>>>17),C=R+(k^(O|~A))+M[1]+2240044497&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~k))+M[8]+1873313359&4294967295,A=R+(C<<6&4294967295|C>>>26),C=k+(R^(A|~O))+M[15]+4264355552&4294967295,k=A+(C<<10&4294967295|C>>>22),C=O+(A^(k|~R))+M[6]+2734768916&4294967295,O=k+(C<<15&4294967295|C>>>17),C=R+(k^(O|~A))+M[13]+1309151649&4294967295,R=O+(C<<21&4294967295|C>>>11),C=A+(O^(R|~k))+M[4]+4149444226&4294967295,A=R+(C<<6&4294967295|C>>>26),C=k+(R^(A|~O))+M[11]+3174756917&4294967295,k=A+(C<<10&4294967295|C>>>22),C=O+(A^(k|~R))+M[2]+718787259&4294967295,O=k+(C<<15&4294967295|C>>>17),C=R+(k^(O|~A))+M[9]+3951481745&4294967295,x.g[0]=x.g[0]+A&4294967295,x.g[1]=x.g[1]+(O+(C<<21&4294967295|C>>>11))&4294967295,x.g[2]=x.g[2]+O&4294967295,x.g[3]=x.g[3]+k&4294967295}i.prototype.v=function(x,A){A===void 0&&(A=x.length);const R=A-this.blockSize,M=this.C;let O=this.h,k=0;for(;k<A;){if(O==0)for(;k<=R;)a(this,x,k),k+=this.blockSize;if(typeof x=="string"){for(;k<A;)if(M[O++]=x.charCodeAt(k++),O==this.blockSize){a(this,M),O=0;break}}else for(;k<A;)if(M[O++]=x[k++],O==this.blockSize){a(this,M),O=0;break}}this.h=O,this.o+=A},i.prototype.A=function(){var x=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);x[0]=128;for(var A=1;A<x.length-8;++A)x[A]=0;A=this.o*8;for(var R=x.length-8;R<x.length;++R)x[R]=A&255,A/=256;for(this.v(x),x=Array(16),A=0,R=0;R<4;++R)for(let M=0;M<32;M+=8)x[A++]=this.g[R]>>>M&255;return x};function l(x,A){var R=d;return Object.prototype.hasOwnProperty.call(R,x)?R[x]:R[x]=A(x)}function c(x,A){this.h=A;const R=[];let M=!0;for(let O=x.length-1;O>=0;O--){const k=x[O]|0;M&&k==A||(R[O]=k,M=!1)}this.g=R}var d={};function g(x){return-128<=x&&x<128?l(x,function(A){return new c([A|0],A<0?-1:0)}):new c([x|0],x<0?-1:0)}function p(x){if(isNaN(x)||!isFinite(x))return T;if(x<0)return te(p(-x));const A=[];let R=1;for(let M=0;x>=R;M++)A[M]=x/R|0,R*=4294967296;return new c(A,0)}function b(x,A){if(x.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(x.charAt(0)=="-")return te(b(x.substring(1),A));if(x.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=p(Math.pow(A,8));let M=T;for(let k=0;k<x.length;k+=8){var O=Math.min(8,x.length-k);const C=parseInt(x.substring(k,k+O),A);O<8?(O=p(Math.pow(A,O)),M=M.j(O).add(p(C))):(M=M.j(R),M=M.add(p(C)))}return M}var T=g(0),I=g(1),j=g(16777216);r=c.prototype,r.m=function(){if(ee(this))return-te(this).m();let x=0,A=1;for(let R=0;R<this.g.length;R++){const M=this.i(R);x+=(M>=0?M:4294967296+M)*A,A*=4294967296}return x},r.toString=function(x){if(x=x||10,x<2||36<x)throw Error("radix out of range: "+x);if(Q(this))return"0";if(ee(this))return"-"+te(this).toString(x);const A=p(Math.pow(x,6));var R=this;let M="";for(;;){const O=Se(R,A).g;R=ce(R,O.j(A));let k=((R.g.length>0?R.g[0]:R.h)>>>0).toString(x);if(R=O,Q(R))return k+M;for(;k.length<6;)k="0"+k;M=k+M}},r.i=function(x){return x<0?0:x<this.g.length?this.g[x]:this.h};function Q(x){if(x.h!=0)return!1;for(let A=0;A<x.g.length;A++)if(x.g[A]!=0)return!1;return!0}function ee(x){return x.h==-1}r.l=function(x){return x=ce(this,x),ee(x)?-1:Q(x)?0:1};function te(x){const A=x.g.length,R=[];for(let M=0;M<A;M++)R[M]=~x.g[M];return new c(R,~x.h).add(I)}r.abs=function(){return ee(this)?te(this):this},r.add=function(x){const A=Math.max(this.g.length,x.g.length),R=[];let M=0;for(let O=0;O<=A;O++){let k=M+(this.i(O)&65535)+(x.i(O)&65535),C=(k>>>16)+(this.i(O)>>>16)+(x.i(O)>>>16);M=C>>>16,k&=65535,C&=65535,R[O]=C<<16|k}return new c(R,R[R.length-1]&-2147483648?-1:0)};function ce(x,A){return x.add(te(A))}r.j=function(x){if(Q(this)||Q(x))return T;if(ee(this))return ee(x)?te(this).j(te(x)):te(te(this).j(x));if(ee(x))return te(this.j(te(x)));if(this.l(j)<0&&x.l(j)<0)return p(this.m()*x.m());const A=this.g.length+x.g.length,R=[];for(var M=0;M<2*A;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(let O=0;O<x.g.length;O++){const k=this.i(M)>>>16,C=this.i(M)&65535,le=x.i(O)>>>16,ie=x.i(O)&65535;R[2*M+2*O]+=C*ie,fe(R,2*M+2*O),R[2*M+2*O+1]+=k*ie,fe(R,2*M+2*O+1),R[2*M+2*O+1]+=C*le,fe(R,2*M+2*O+1),R[2*M+2*O+2]+=k*le,fe(R,2*M+2*O+2)}for(x=0;x<A;x++)R[x]=R[2*x+1]<<16|R[2*x];for(x=A;x<2*A;x++)R[x]=0;return new c(R,0)};function fe(x,A){for(;(x[A]&65535)!=x[A];)x[A+1]+=x[A]>>>16,x[A]&=65535,A++}function ae(x,A){this.g=x,this.h=A}function Se(x,A){if(Q(A))throw Error("division by zero");if(Q(x))return new ae(T,T);if(ee(x))return A=Se(te(x),A),new ae(te(A.g),te(A.h));if(ee(A))return A=Se(x,te(A)),new ae(te(A.g),A.h);if(x.g.length>30){if(ee(x)||ee(A))throw Error("slowDivide_ only works with positive integers.");for(var R=I,M=A;M.l(x)<=0;)R=Te(R),M=Te(M);var O=ve(R,1),k=ve(M,1);for(M=ve(M,2),R=ve(R,2);!Q(M);){var C=k.add(M);C.l(x)<=0&&(O=O.add(R),k=C),M=ve(M,1),R=ve(R,1)}return A=ce(x,O.j(A)),new ae(O,A)}for(O=T;x.l(A)>=0;){for(R=Math.max(1,Math.floor(x.m()/A.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=M<=48?1:Math.pow(2,M-48),k=p(R),C=k.j(A);ee(C)||C.l(x)>0;)R-=M,k=p(R),C=k.j(A);Q(k)&&(k=I),O=O.add(k),x=ce(x,C)}return new ae(O,x)}r.B=function(x){return Se(this,x).h},r.and=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)&x.i(M);return new c(R,this.h&x.h)},r.or=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)|x.i(M);return new c(R,this.h|x.h)},r.xor=function(x){const A=Math.max(this.g.length,x.g.length),R=[];for(let M=0;M<A;M++)R[M]=this.i(M)^x.i(M);return new c(R,this.h^x.h)};function Te(x){const A=x.g.length+1,R=[];for(let M=0;M<A;M++)R[M]=x.i(M)<<1|x.i(M-1)>>>31;return new c(R,x.h)}function ve(x,A){const R=A>>5;A%=32;const M=x.g.length-R,O=[];for(let k=0;k<M;k++)O[k]=A>0?x.i(k+R)>>>A|x.i(k+R+1)<<32-A:x.i(k+R);return new c(O,x.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,NS=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=p,c.fromString=b,Rs=c}).apply(typeof MT<"u"?MT:typeof self<"u"?self:typeof window<"u"?window:{});var _f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var DS,Xu,OS,Of,Dp,VS,MS,kS;(function(){var r,e=Object.defineProperty;function t(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof _f=="object"&&_f];for(var y=0;y<h.length;++y){var v=h[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var i=t(this);function a(h,y){if(y)e:{var v=i;h=h.split(".");for(var S=0;S<h.length-1;S++){var z=h[S];if(!(z in v))break e;v=v[z]}h=h[h.length-1],S=v[h],y=y(S),y!=S&&y!=null&&e(v,h,{configurable:!0,writable:!0,value:y})}}a("Symbol.dispose",function(h){return h||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(h){return h||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(h){return h||function(y){var v=[],S;for(S in y)Object.prototype.hasOwnProperty.call(y,S)&&v.push([S,y[S]]);return v}});var l=l||{},c=this||self;function d(h){var y=typeof h;return y=="object"&&h!=null||y=="function"}function g(h,y,v){return h.call.apply(h.bind,arguments)}function p(h,y,v){return p=g,p.apply(null,arguments)}function b(h,y){var v=Array.prototype.slice.call(arguments,1);return function(){var S=v.slice();return S.push.apply(S,arguments),h.apply(this,S)}}function T(h,y){function v(){}v.prototype=y.prototype,h.Z=y.prototype,h.prototype=new v,h.prototype.constructor=h,h.Ob=function(S,z,H){for(var se=Array(arguments.length-2),ke=2;ke<arguments.length;ke++)se[ke-2]=arguments[ke];return y.prototype[z].apply(S,se)}}var I=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?h=>h&&AsyncContext.Snapshot.wrap(h):h=>h;function j(h){const y=h.length;if(y>0){const v=Array(y);for(let S=0;S<y;S++)v[S]=h[S];return v}return[]}function Q(h,y){for(let S=1;S<arguments.length;S++){const z=arguments[S];var v=typeof z;if(v=v!="object"?v:z?Array.isArray(z)?"array":v:"null",v=="array"||v=="object"&&typeof z.length=="number"){v=h.length||0;const H=z.length||0;h.length=v+H;for(let se=0;se<H;se++)h[v+se]=z[se]}else h.push(z)}}class ee{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function te(h){c.setTimeout(()=>{throw h},0)}function ce(){var h=x;let y=null;return h.g&&(y=h.g,h.g=h.g.next,h.g||(h.h=null),y.next=null),y}class fe{constructor(){this.h=this.g=null}add(y,v){const S=ae.get();S.set(y,v),this.h?this.h.next=S:this.g=S,this.h=S}}var ae=new ee(()=>new Se,h=>h.reset());class Se{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let Te,ve=!1,x=new fe,A=()=>{const h=Promise.resolve(void 0);Te=()=>{h.then(R)}};function R(){for(var h;h=ce();){try{h.h.call(h.g)}catch(v){te(v)}var y=ae;y.j(h),y.h<100&&(y.h++,h.next=y.g,y.g=h)}ve=!1}function M(){this.u=this.u,this.C=this.C}M.prototype.u=!1,M.prototype.dispose=function(){this.u||(this.u=!0,this.N())},M.prototype[Symbol.dispose]=function(){this.dispose()},M.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(h,y){this.type=h,this.g=this.target=y,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var k=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var h=!1,y=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const v=()=>{};c.addEventListener("test",v,y),c.removeEventListener("test",v,y)}catch{}return h})();function C(h){return/^[\s\xa0]*$/.test(h)}function le(h,y){O.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h&&this.init(h,y)}T(le,O),le.prototype.init=function(h,y){const v=this.type=h.type,S=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;this.target=h.target||h.srcElement,this.g=y,y=h.relatedTarget,y||(v=="mouseover"?y=h.fromElement:v=="mouseout"&&(y=h.toElement)),this.relatedTarget=y,S?(this.clientX=S.clientX!==void 0?S.clientX:S.pageX,this.clientY=S.clientY!==void 0?S.clientY:S.pageY,this.screenX=S.screenX||0,this.screenY=S.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=h.pointerType,this.state=h.state,this.i=h,h.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var ie="closure_listenable_"+(Math.random()*1e6|0),L=0;function W(h,y,v,S,z){this.listener=h,this.proxy=null,this.src=y,this.type=v,this.capture=!!S,this.ha=z,this.key=++L,this.da=this.fa=!1}function K(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Re(h,y,v){for(const S in h)y.call(v,h[S],S,h)}function Ve(h,y){for(const v in h)y.call(void 0,h[v],v,h)}function D(h){const y={};for(const v in h)y[v]=h[v];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function re(h,y){let v,S;for(let z=1;z<arguments.length;z++){S=arguments[z];for(v in S)h[v]=S[v];for(let H=0;H<X.length;H++)v=X[H],Object.prototype.hasOwnProperty.call(S,v)&&(h[v]=S[v])}}function oe(h){this.src=h,this.g={},this.h=0}oe.prototype.add=function(h,y,v,S,z){const H=h.toString();h=this.g[H],h||(h=this.g[H]=[],this.h++);const se=De(h,y,S,z);return se>-1?(y=h[se],v||(y.fa=!1)):(y=new W(y,this.src,H,!!S,z),y.fa=v,h.push(y)),y};function Ie(h,y){const v=y.type;if(v in h.g){var S=h.g[v],z=Array.prototype.indexOf.call(S,y,void 0),H;(H=z>=0)&&Array.prototype.splice.call(S,z,1),H&&(K(y),h.g[v].length==0&&(delete h.g[v],h.h--))}}function De(h,y,v,S){for(let z=0;z<h.length;++z){const H=h[z];if(!H.da&&H.listener==y&&H.capture==!!v&&H.ha==S)return z}return-1}var Ae="closure_lm_"+(Math.random()*1e6|0),vt={};function Je(h,y,v,S,z){if(Array.isArray(y)){for(let H=0;H<y.length;H++)Je(h,y[H],v,S,z);return null}return v=Pl(v),h&&h[ie]?h.J(y,v,d(S)?!!S.capture:!1,z):zn(h,y,v,!1,S,z)}function zn(h,y,v,S,z,H){if(!y)throw Error("Invalid event type");const se=d(z)?!!z.capture:!!z;let ke=zs(h);if(ke||(h[Ae]=ke=new oe(h)),v=ke.add(y,v,S,se,H),v.proxy)return v;if(S=wi(),v.proxy=S,S.src=h,S.listener=v,h.addEventListener)k||(z=se),z===void 0&&(z=!1),h.addEventListener(y.toString(),S,z);else if(h.attachEvent)h.attachEvent(Si(y.toString()),S);else if(h.addListener&&h.removeListener)h.addListener(S);else throw Error("addEventListener and attachEvent are unavailable.");return v}function wi(){function h(v){return y.call(h.src,h.listener,v)}const y=Ml;return h}function ii(h,y,v,S,z){if(Array.isArray(y))for(var H=0;H<y.length;H++)ii(h,y[H],v,S,z);else S=d(S)?!!S.capture:!!S,v=Pl(v),h&&h[ie]?(h=h.i,H=String(y).toString(),H in h.g&&(y=h.g[H],v=De(y,v,S,z),v>-1&&(K(y[v]),Array.prototype.splice.call(y,v,1),y.length==0&&(delete h.g[H],h.h--)))):h&&(h=zs(h))&&(y=h.g[y.toString()],h=-1,y&&(h=De(y,v,S,z)),(v=h>-1?y[h]:null)&&Wa(v))}function Wa(h){if(typeof h!="number"&&h&&!h.da){var y=h.src;if(y&&y[ie])Ie(y.i,h);else{var v=h.type,S=h.proxy;y.removeEventListener?y.removeEventListener(v,S,h.capture):y.detachEvent?y.detachEvent(Si(v),S):y.addListener&&y.removeListener&&y.removeListener(S),(v=zs(y))?(Ie(v,h),v.h==0&&(v.src=null,y[Ae]=null)):K(h)}}}function Si(h){return h in vt?vt[h]:vt[h]="on"+h}function Ml(h,y){if(h.da)h=!0;else{y=new le(y,this);const v=h.listener,S=h.ha||h.src;h.fa&&Wa(h),h=v.call(S,y)}return h}function zs(h){return h=h[Ae],h instanceof oe?h:null}var kl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Pl(h){return typeof h=="function"?h:(h[kl]||(h[kl]=function(y){return h.handleEvent(y)}),h[kl])}function Ct(){M.call(this),this.i=new oe(this),this.M=this,this.G=null}T(Ct,M),Ct.prototype[ie]=!0,Ct.prototype.removeEventListener=function(h,y,v,S){ii(this,h,y,v,S)};function zt(h,y){var v,S=h.G;if(S)for(v=[];S;S=S.G)v.push(S);if(h=h.M,S=y.type||y,typeof y=="string")y=new O(y,h);else if(y instanceof O)y.target=y.target||h;else{var z=y;y=new O(S,h),re(y,z)}z=!0;let H,se;if(v)for(se=v.length-1;se>=0;se--)H=y.g=v[se],z=Mr(H,S,!0,y)&&z;if(H=y.g=h,z=Mr(H,S,!0,y)&&z,z=Mr(H,S,!1,y)&&z,v)for(se=0;se<v.length;se++)H=y.g=v[se],z=Mr(H,S,!1,y)&&z}Ct.prototype.N=function(){if(Ct.Z.N.call(this),this.i){var h=this.i;for(const y in h.g){const v=h.g[y];for(let S=0;S<v.length;S++)K(v[S]);delete h.g[y],h.h--}}this.G=null},Ct.prototype.J=function(h,y,v,S){return this.i.add(String(h),y,!1,v,S)},Ct.prototype.K=function(h,y,v,S){return this.i.add(String(h),y,!0,v,S)};function Mr(h,y,v,S){if(y=h.i.g[String(y)],!y)return!0;y=y.concat();let z=!0;for(let H=0;H<y.length;++H){const se=y[H];if(se&&!se.da&&se.capture==v){const ke=se.listener,St=se.ha||se.src;se.fa&&Ie(h.i,se),z=ke.call(St,S)!==!1&&z}}return z&&!S.defaultPrevented}function $d(h,y){if(typeof h!="function")if(h&&typeof h.handleEvent=="function")h=p(h.handleEvent,h);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:c.setTimeout(h,y||0)}function Bc(h){h.g=$d(()=>{h.g=null,h.i&&(h.i=!1,Bc(h))},h.l);const y=h.h;h.h=null,h.m.apply(null,y)}class cn extends M{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Bc(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bs(h){M.call(this),this.h=h,this.g={}}T(Bs,M);var Ll=[];function Ul(h){Re(h.g,function(y,v){this.g.hasOwnProperty(v)&&Wa(y)},h),h.g={}}Bs.prototype.N=function(){Bs.Z.N.call(this),Ul(this)},Bs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var kr=c.JSON.stringify,Xd=c.JSON.parse,Fc=class{stringify(h){return c.JSON.stringify(h,void 0)}parse(h){return c.JSON.parse(h,void 0)}};function qc(){}function Hc(){}var ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Wt(){O.call(this,"d")}T(Wt,O);function Bn(){O.call(this,"c")}T(Bn,O);var wt={},Gc=null;function Ja(){return Gc=Gc||new Ct}wt.Ia="serverreachability";function Kc(h){O.call(this,wt.Ia,h)}T(Kc,O);function Ai(h){const y=Ja();zt(y,new Kc(y))}wt.STAT_EVENT="statevent";function Fs(h,y){O.call(this,wt.STAT_EVENT,h),this.stat=y}T(Fs,O);function Nt(h){const y=Ja();zt(y,new Fs(y,h))}wt.Ja="timingevent";function Ii(h,y){O.call(this,wt.Ja,h),this.size=y}T(Ii,O);function xi(h,y){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){h()},y)}function si(){this.g=!0}si.prototype.ua=function(){this.g=!1};function Wd(h,y,v,S,z,H){h.info(function(){if(h.g)if(H){var se="",ke=H.split("&");for(let Xe=0;Xe<ke.length;Xe++){var St=ke[Xe].split("=");if(St.length>1){const gt=St[0];St=St[1];const Gn=gt.split("_");se=Gn.length>=2&&Gn[1]=="type"?se+(gt+"="+St+"&"):se+(gt+"=redacted&")}}}else se=null;else se=H;return"XMLHTTP REQ ("+S+") [attempt "+z+"]: "+y+`
`+v+`
`+se})}function Yc(h,y,v,S,z,H,se){h.info(function(){return"XMLHTTP RESP ("+S+") [ attempt "+z+"]: "+y+`
`+v+`
`+H+" "+se})}function Ri(h,y,v,S){h.info(function(){return"XMLHTTP TEXT ("+y+"): "+Jd(h,v)+(S?" "+S:"")})}function qs(h,y){h.info(function(){return"TIMEOUT: "+y})}si.prototype.info=function(){};function Jd(h,y){if(!h.g)return y;if(!y)return null;try{const H=JSON.parse(y);if(H){for(h=0;h<H.length;h++)if(Array.isArray(H[h])){var v=H[h];if(!(v.length<2)){var S=v[1];if(Array.isArray(S)&&!(S.length<1)){var z=S[0];if(z!="noop"&&z!="stop"&&z!="close")for(let se=1;se<S.length;se++)S[se]=""}}}}return kr(H)}catch{return y}}var Hs={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},jl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zl;function Gs(){}T(Gs,qc),Gs.prototype.g=function(){return new XMLHttpRequest},zl=new Gs;function tr(h){return encodeURIComponent(String(h))}function Qc(h){var y=1;h=h.split(":");const v=[];for(;y>0&&h.length;)v.push(h.shift()),y--;return h.length&&v.push(h.join(":")),v}function ai(h,y,v,S){this.j=h,this.i=y,this.l=v,this.S=S||1,this.V=new Bs(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var Dt={},Kt={};function Ci(h,y,v){h.M=1,h.A=Ks(Vt(y)),h.u=v,h.R=!0,Za(h,null)}function Za(h,y){h.F=Date.now(),Ni(h),h.B=Vt(h.A);var v=h.B,S=h.S;Array.isArray(S)||(S=[String(S)]),io(v.i,"t",S),h.C=0,v=h.j.L,h.h=new oi,h.g=uh(h.j,v?y:null,!h.u),h.P>0&&(h.O=new cn(p(h.Y,h,h.g),h.P)),y=h.V,v=h.g,S=h.ba;var z="readystatechange";Array.isArray(z)||(z&&(Ll[0]=z.toString()),z=Ll);for(let H=0;H<z.length;H++){const se=Je(v,z[H],S||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=h.J?D(h.J):{},h.u?(h.v||(h.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.B,h.v,h.u,y)):(h.v="GET",h.g.ea(h.B,h.v,null,y)),Ai(),Wd(h.i,h.v,h.B,h.l,h.S,h.u)}ai.prototype.ba=function(h){h=h.target;const y=this.O;y&&ci(h)==3?y.j():this.Y(h)},ai.prototype.Y=function(h){try{if(h==this.g)e:{const ke=ci(this.g),St=this.g.ya(),Xe=this.g.ca();if(!(ke<3)&&(ke!=3||this.g&&(this.h.h||this.g.la()||Jt(this.g)))){this.K||ke!=4||St==7||(St==8||Xe<=0?Ai(3):Ai(2)),Di(this);var y=this.g.ca();this.X=y;var v=Zd(this);if(this.o=y==200,Yc(this.i,this.v,this.B,this.l,this.S,ke,y),this.o){if(this.U&&!this.L){t:{if(this.g){var S,z=this.g;if((S=z.g?z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!C(S)){var H=S;break t}}H=null}if(h=H)Ri(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Oi(this,h);else{this.o=!1,this.m=3,Nt(12),Sn(this),Fn(this);break e}}if(this.R){h=!0;let gt;for(;!this.K&&this.C<v.length;)if(gt=Xc(this,v),gt==Kt){ke==4&&(this.m=4,Nt(14),h=!1),Ri(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==Dt){this.m=4,Nt(15),Ri(this.i,this.l,v,"[Invalid Chunk]"),h=!1;break}else Ri(this.i,this.l,gt,null),Oi(this,gt);if($c(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ke!=4||v.length!=0||this.h.h||(this.m=1,Nt(16),h=!1),this.o=this.o&&h,!h)Ri(this.i,this.l,v,"[Invalid Chunked Response]"),Sn(this),Fn(this);else if(v.length>0&&!this.W){this.W=!0;var se=this.j;se.g==this&&se.aa&&!se.P&&(se.j.info("Great, no buffering proxy detected. Bytes received: "+v.length),tu(se),se.P=!0,Nt(11))}}else Ri(this.i,this.l,v,null),Oi(this,v);ke==4&&Sn(this),this.o&&!this.K&&(ke==4?sh(this.j,this):(this.o=!1,Ni(this)))}else ir(this.g),y==400&&v.indexOf("Unknown SID")>0?(this.m=3,Nt(12)):(this.m=0,Nt(13)),Sn(this),Fn(this)}}}catch{}finally{}};function Zd(h){if(!$c(h))return h.g.la();const y=Jt(h.g);if(y==="")return"";let v="";const S=y.length,z=ci(h.g)==4;if(!h.h.i){if(typeof TextDecoder>"u")return Sn(h),Fn(h),"";h.h.i=new c.TextDecoder}for(let H=0;H<S;H++)h.h.h=!0,v+=h.h.i.decode(y[H],{stream:!(z&&H==S-1)});return y.length=0,h.h.g+=v,h.C=0,h.h.g}function $c(h){return h.g?h.v=="GET"&&h.M!=2&&h.j.Aa:!1}function Xc(h,y){var v=h.C,S=y.indexOf(`
`,v);return S==-1?Kt:(v=Number(y.substring(v,S)),isNaN(v)?Dt:(S+=1,S+v>y.length?Kt:(y=y.slice(S,S+v),h.C=S+v,y)))}ai.prototype.cancel=function(){this.K=!0,Sn(this)};function Ni(h){h.T=Date.now()+h.H,eo(h,h.H)}function eo(h,y){if(h.D!=null)throw Error("WatchDog timer not null");h.D=xi(p(h.aa,h),y)}function Di(h){h.D&&(c.clearTimeout(h.D),h.D=null)}ai.prototype.aa=function(){this.D=null;const h=Date.now();h-this.T>=0?(qs(this.i,this.B),this.M!=2&&(Ai(),Nt(17)),Sn(this),this.m=2,Fn(this)):eo(this,this.T-h)};function Fn(h){h.j.I==0||h.K||sh(h.j,h)}function Sn(h){Di(h);var y=h.O;y&&typeof y.dispose=="function"&&y.dispose(),h.O=null,Ul(h.V),h.g&&(y=h.g,h.g=null,y.abort(),y.dispose())}function Oi(h,y){try{var v=h.j;if(v.I!=0&&(v.g==h||Mi(v.h,h))){if(!h.L&&Mi(v.h,h)&&v.I==3){try{var S=v.Ba.g.parse(y)}catch{S=null}if(Array.isArray(S)&&S.length==3){var z=S;if(z[0]==0){e:if(!v.v){if(v.g)if(v.g.F+3e3<h.F)lo(v),qr(v);else break e;Zs(v),Nt(18)}}else v.xa=z[1],0<v.xa-v.K&&z[2]<37500&&v.F&&v.A==0&&!v.C&&(v.C=xi(p(v.Va,v),6e3));Vi(v.h)<=1&&v.ta&&(v.ta=void 0)}else zi(v,11)}else if((h.L||v.g==h)&&lo(v),!C(y))for(z=v.Ba.g.parse(y),y=0;y<z.length;y++){let Xe=z[y];const gt=Xe[0];if(!(gt<=v.K))if(v.K=gt,Xe=Xe[1],v.I==2)if(Xe[0]=="c"){v.M=Xe[1],v.ba=Xe[2];const Gn=Xe[3];Gn!=null&&(v.ka=Gn,v.j.info("VER="+v.ka));const Bi=Xe[4];Bi!=null&&(v.za=Bi,v.j.info("SVER="+v.za));const hi=Xe[5];hi!=null&&typeof hi=="number"&&hi>0&&(S=1.5*hi,v.O=S,v.j.info("backChannelRequestTimeoutMs_="+S)),S=v;const fi=h.g;if(fi){const ea=fi.g?fi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ea){var H=S.h;H.g||ea.indexOf("spdy")==-1&&ea.indexOf("quic")==-1&&ea.indexOf("h2")==-1||(H.j=H.l,H.g=new Set,H.h&&(ql(H,H.h),H.h=null))}if(S.G){const uo=fi.g?fi.g.getResponseHeader("X-HTTP-Session-Id"):null;uo&&(S.wa=uo,Ze(S.J,S.G,uo))}}v.I=3,v.l&&v.l.ra(),v.aa&&(v.T=Date.now()-h.F,v.j.info("Handshake RTT: "+v.T+"ms")),S=v;var se=h;if(S.na=lh(S,S.L?S.ba:null,S.W),se.L){Hl(S.h,se);var ke=se,St=S.O;St&&(ke.H=St),ke.D&&(Di(ke),Ni(ke)),S.g=se}else ih(S);v.i.length>0&&ji(v)}else Xe[0]!="stop"&&Xe[0]!="close"||zi(v,7);else v.I==3&&(Xe[0]=="stop"||Xe[0]=="close"?Xe[0]=="stop"?zi(v,7):Zl(v):Xe[0]!="noop"&&v.l&&v.l.qa(Xe),v.A=0)}}Ai(4)}catch{}}var Ot=class{constructor(h,y){this.g=h,this.map=y}};function Bl(h){this.l=h||10,c.PerformanceNavigationTiming?(h=c.performance.getEntriesByType("navigation"),h=h.length>0&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fl(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function Vi(h){return h.h?1:h.g?h.g.size:0}function Mi(h,y){return h.h?h.h==y:h.g?h.g.has(y):!1}function ql(h,y){h.g?h.g.add(y):h.h=y}function Hl(h,y){h.h&&h.h==y?h.h=null:h.g&&h.g.has(y)&&h.g.delete(y)}Bl.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Gl(h){if(h.h!=null)return h.i.concat(h.h.G);if(h.g!=null&&h.g.size!==0){let y=h.i;for(const v of h.g.values())y=y.concat(v.G);return y}return j(h.i)}var Wc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function to(h,y){if(h){h=h.split("&");for(let v=0;v<h.length;v++){const S=h[v].indexOf("=");let z,H=null;S>=0?(z=h[v].substring(0,S),H=h[v].substring(S+1)):z=h[v],y(z,H?decodeURIComponent(H.replace(/\+/g," ")):"")}}}function An(h){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;h instanceof An?(this.l=h.l,Yt(this,h.j),this.o=h.o,this.g=h.g,Pr(this,h.u),this.h=h.h,Kl(this,th(h.i)),this.m=h.m):h&&(y=String(h).match(Wc))?(this.l=!1,Yt(this,y[1]||"",!0),this.o=ki(y[2]||""),this.g=ki(y[3]||"",!0),Pr(this,y[4]),this.h=ki(y[5]||"",!0),Kl(this,y[6]||"",!0),this.m=ki(y[7]||"")):(this.l=!1,this.i=new Ur(null,this.l))}An.prototype.toString=function(){const h=[];var y=this.j;y&&h.push(Ys(y,no,!0),":");var v=this.g;return(v||y=="file")&&(h.push("//"),(y=this.o)&&h.push(Ys(y,no,!0),"@"),h.push(tr(v).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.u,v!=null&&h.push(":",String(v))),(v=this.h)&&(this.g&&v.charAt(0)!="/"&&h.push("/"),h.push(Ys(v,v.charAt(0)=="/"?Yl:Jc,!0))),(v=this.i.toString())&&h.push("?",v),(v=this.m)&&h.push("#",Ys(v,Zc)),h.join("")},An.prototype.resolve=function(h){const y=Vt(this);let v=!!h.j;v?Yt(y,h.j):v=!!h.o,v?y.o=h.o:v=!!h.g,v?y.g=h.g:v=h.u!=null;var S=h.h;if(v)Pr(y,h.u);else if(v=!!h.h){if(S.charAt(0)!="/")if(this.g&&!this.h)S="/"+S;else{var z=y.h.lastIndexOf("/");z!=-1&&(S=y.h.slice(0,z+1)+S)}if(z=S,z==".."||z==".")S="";else if(z.indexOf("./")!=-1||z.indexOf("/.")!=-1){S=z.lastIndexOf("/",0)==0,z=z.split("/");const H=[];for(let se=0;se<z.length;){const ke=z[se++];ke=="."?S&&se==z.length&&H.push(""):ke==".."?((H.length>1||H.length==1&&H[0]!="")&&H.pop(),S&&se==z.length&&H.push("")):(H.push(ke),S=!0)}S=H.join("/")}else S=z}return v?y.h=S:v=h.i.toString()!=="",v?Kl(y,th(h.i)):v=!!h.m,v&&(y.m=h.m),y};function Vt(h){return new An(h)}function Yt(h,y,v){h.j=v?ki(y,!0):y,h.j&&(h.j=h.j.replace(/:$/,""))}function Pr(h,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);h.u=y}else h.u=null}function Kl(h,y,v){y instanceof Ur?(h.i=y,ro(h.i,h.l)):(v||(y=Ys(y,Lr)),h.i=new Ur(y,h.l))}function Ze(h,y,v){h.i.set(y,v)}function Ks(h){return Ze(h,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),h}function ki(h,y){return h?y?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Ys(h,y,v){return typeof h=="string"?(h=encodeURI(h).replace(y,gn),v&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function gn(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var no=/[#\/\?@]/g,Jc=/[#\?:]/g,Yl=/[#\?]/g,Lr=/[#\?@]/g,Zc=/#/g;function Ur(h,y){this.h=this.g=null,this.i=h||null,this.j=!!y}function pn(h){h.g||(h.g=new Map,h.h=0,h.i&&to(h.i,function(y,v){h.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}r=Ur.prototype,r.add=function(h,y){pn(this),this.i=null,h=jr(this,h);let v=this.g.get(h);return v||this.g.set(h,v=[]),v.push(y),this.h+=1,this};function eh(h,y){pn(h),y=jr(h,y),h.g.has(y)&&(h.i=null,h.h-=h.g.get(y).length,h.g.delete(y))}function Ql(h,y){return pn(h),y=jr(h,y),h.g.has(y)}r.forEach=function(h,y){pn(this),this.g.forEach(function(v,S){v.forEach(function(z){h.call(y,z,S,this)},this)},this)};function $l(h,y){pn(h);let v=[];if(typeof y=="string")Ql(h,y)&&(v=v.concat(h.g.get(jr(h,y))));else for(h=Array.from(h.g.values()),y=0;y<h.length;y++)v=v.concat(h[y]);return v}r.set=function(h,y){return pn(this),this.i=null,h=jr(this,h),Ql(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[y]),this.h+=1,this},r.get=function(h,y){return h?(h=$l(this,h),h.length>0?String(h[0]):y):y};function io(h,y,v){eh(h,y),v.length>0&&(h.i=null,h.g.set(jr(h,y),j(v)),h.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],y=Array.from(this.g.keys());for(let S=0;S<y.length;S++){var v=y[S];const z=tr(v);v=$l(this,v);for(let H=0;H<v.length;H++){let se=z;v[H]!==""&&(se+="="+tr(v[H])),h.push(se)}}return this.i=h.join("&")};function th(h){const y=new Ur;return y.i=h.i,h.g&&(y.g=new Map(h.g),y.h=h.h),y}function jr(h,y){return y=String(y),h.j&&(y=y.toLowerCase()),y}function ro(h,y){y&&!h.j&&(pn(h),h.i=null,h.g.forEach(function(v,S){const z=S.toLowerCase();S!=z&&(eh(this,S),io(this,z,v))},h)),h.j=y}function li(h,y){const v=new si;if(c.Image){const S=new Image;S.onload=b(qn,v,"TestLoadImage: loaded",!0,y,S),S.onerror=b(qn,v,"TestLoadImage: error",!1,y,S),S.onabort=b(qn,v,"TestLoadImage: abort",!1,y,S),S.ontimeout=b(qn,v,"TestLoadImage: timeout",!1,y,S),c.setTimeout(function(){S.ontimeout&&S.ontimeout()},1e4),S.src=h}else y(!1)}function Xl(h,y){const v=new si,S=new AbortController,z=setTimeout(()=>{S.abort(),qn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(h,{signal:S.signal}).then(H=>{clearTimeout(z),H.ok?qn(v,"TestPingServer: ok",!0,y):qn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(z),qn(v,"TestPingServer: error",!1,y)})}function qn(h,y,v,S,z){try{z&&(z.onload=null,z.onerror=null,z.onabort=null,z.ontimeout=null),S(v)}catch{}}function zr(){this.g=new Fc}function Pi(h){this.i=h.Sb||null,this.h=h.ab||!1}T(Pi,qc),Pi.prototype.g=function(){return new Qs(this.i,this.h)};function Qs(h,y){Ct.call(this),this.H=h,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}T(Qs,Ct),r=Qs.prototype,r.open=function(h,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=h,this.D=y,this.readyState=1,ui(this)},r.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};h&&(y.body=h),(this.H||c).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Br(this)),this.readyState=0},r.Pa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ui(this)),this.g&&(this.readyState=3,ui(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;so(this)}else h.text().then(this.Oa.bind(this),this.ga.bind(this))};function so(h){h.j.read().then(h.Ma.bind(h)).catch(h.ga.bind(h))}r.Ma=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var y=h.value?h.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!h.done}))&&(this.response=this.responseText+=y)}h.done?Br(this):ui(this),this.readyState==3&&so(this)}},r.Oa=function(h){this.g&&(this.response=this.responseText=h,Br(this))},r.Na=function(h){this.g&&(this.response=h,Br(this))},r.ga=function(){this.g&&Br(this)};function Br(h){h.readyState=4,h.l=null,h.j=null,h.B=null,ui(h)}r.setRequestHeader=function(h,y){this.A.append(h,y)},r.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,h.push(v[0]+": "+v[1]),v=y.next();return h.join(`\r
`)};function ui(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Qs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Hn(h){let y="";return Re(h,function(v,S){y+=S,y+=":",y+=v,y+=`\r
`}),y}function $s(h,y,v){e:{for(S in v){var S=!1;break e}S=!0}S||(v=Hn(v),typeof h=="string"?v!=null&&tr(v):Ze(h,y,v))}function st(h){Ct.call(this),this.headers=new Map,this.L=h||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}T(st,Ct);var Li=/^https?$/i,Wl=["POST","PUT"];r=st.prototype,r.Fa=function(h){this.H=h},r.ea=function(h,y,v,S){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);y=y?y.toUpperCase():"GET",this.D=h,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zl.g(),this.g.onreadystatechange=I(p(this.Ca,this));try{this.B=!0,this.g.open(y,String(h),!0),this.B=!1}catch(H){Xs(this,H);return}if(h=v||"",v=new Map(this.headers),S)if(Object.getPrototypeOf(S)===Object.prototype)for(var z in S)v.set(z,S[z]);else if(typeof S.keys=="function"&&typeof S.get=="function")for(const H of S.keys())v.set(H,S.get(H));else throw Error("Unknown input type for opt_headers: "+String(S));S=Array.from(v.keys()).find(H=>H.toLowerCase()=="content-type"),z=c.FormData&&h instanceof c.FormData,!(Array.prototype.indexOf.call(Wl,y,void 0)>=0)||S||z||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[H,se]of v)this.g.setRequestHeader(H,se);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(h),this.v=!1}catch(H){Xs(this,H)}};function Xs(h,y){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=y,h.o=5,Jl(h),nr(h)}function Jl(h){h.A||(h.A=!0,zt(h,"complete"),zt(h,"error"))}r.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=h||7,zt(this,"complete"),zt(this,"abort"),nr(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),nr(this,!0)),st.Z.N.call(this)},r.Ca=function(){this.u||(this.B||this.v||this.j?Ws(this):this.Xa())},r.Xa=function(){Ws(this)};function Ws(h){if(h.h&&typeof l<"u"){if(h.v&&ci(h)==4)setTimeout(h.Ca.bind(h),0);else if(zt(h,"readystatechange"),ci(h)==4){h.h=!1;try{const H=h.ca();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var S;if(S=H===0){let se=String(h.D).match(Wc)[1]||null;!se&&c.self&&c.self.location&&(se=c.self.location.protocol.slice(0,-1)),S=!Li.test(se?se.toLowerCase():"")}v=S}if(v)zt(h,"complete"),zt(h,"success");else{h.o=6;try{var z=ci(h)>2?h.g.statusText:""}catch{z=""}h.l=z+" ["+h.ca()+"]",Jl(h)}}finally{nr(h)}}}}function nr(h,y){if(h.g){h.m&&(clearTimeout(h.m),h.m=null);const v=h.g;h.g=null,y||zt(h,"ready");try{v.onreadystatechange=null}catch{}}}r.isActive=function(){return!!this.g};function ci(h){return h.g?h.g.readyState:0}r.ca=function(){try{return ci(this)>2?this.g.status:-1}catch{return-1}},r.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.La=function(h){if(this.g){var y=this.g.responseText;return h&&y.indexOf(h)==0&&(y=y.substring(h.length)),Xd(y)}};function Jt(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.F){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function ir(h){const y={};h=(h.g&&ci(h)>=2&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let S=0;S<h.length;S++){if(C(h[S]))continue;var v=Qc(h[S]);const z=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const H=y[z]||[];y[z]=H,H.push(v)}Ve(y,function(S){return S.join(", ")})}r.ya=function(){return this.o},r.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ui(h,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[h]||y}function Fr(h){this.za=0,this.i=[],this.j=new si,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ui("failFast",!1,h),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ui("baseRetryDelayMs",5e3,h),this.Za=Ui("retryDelaySeedMs",1e4,h),this.Ta=Ui("forwardChannelMaxRetries",2,h),this.va=Ui("forwardChannelRequestTimeoutMs",2e4,h),this.ma=h&&h.xmlHttpFactory||void 0,this.Ua=h&&h.Rb||void 0,this.Aa=h&&h.useFetchStreams||!1,this.O=void 0,this.L=h&&h.supportsCrossDomainXhr||!1,this.M="",this.h=new Bl(h&&h.concurrentRequestLimit),this.Ba=new zr,this.S=h&&h.fastHandshake||!1,this.R=h&&h.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=h&&h.Pb||!1,h&&h.ua&&this.j.ua(),h&&h.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&h&&h.detectBufferingProxy||!1,this.ia=void 0,h&&h.longPollingTimeout&&h.longPollingTimeout>0&&(this.ia=h.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}r=Fr.prototype,r.ka=8,r.I=1,r.connect=function(h,y,v,S){Nt(0),this.W=h,this.H=y||{},v&&S!==void 0&&(this.H.OSID=v,this.H.OAID=S),this.F=this.X,this.J=lh(this,null,this.W),ji(this)};function Zl(h){if(ao(h),h.I==3){var y=h.V++,v=Vt(h.J);if(Ze(v,"SID",h.M),Ze(v,"RID",y),Ze(v,"TYPE","terminate"),Js(h,v),y=new ai(h,h.j,y),y.M=2,y.A=Ks(Vt(v)),v=!1,c.navigator&&c.navigator.sendBeacon)try{v=c.navigator.sendBeacon(y.A.toString(),"")}catch{}!v&&c.Image&&(new Image().src=y.A,v=!0),v||(y.g=uh(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Ni(y)}oh(h)}function qr(h){h.g&&(tu(h),h.g.cancel(),h.g=null)}function ao(h){qr(h),h.v&&(c.clearTimeout(h.v),h.v=null),lo(h),h.h.cancel(),h.m&&(typeof h.m=="number"&&c.clearTimeout(h.m),h.m=null)}function ji(h){if(!Fl(h.h)&&!h.m){h.m=!0;var y=h.Ea;Te||A(),ve||(Te(),ve=!0),x.add(y,h),h.D=0}}function oo(h,y){return Vi(h.h)>=h.h.j-(h.m?1:0)?!1:h.m?(h.i=y.G.concat(h.i),!0):h.I==1||h.I==2||h.D>=(h.Sa?0:h.Ta)?!1:(h.m=xi(p(h.Ea,h,y),ah(h,h.D)),h.D++,!0)}r.Ea=function(h){if(this.m)if(this.m=null,this.I==1){if(!h){this.V=Math.floor(Math.random()*1e5),h=this.V++;const z=new ai(this,this.j,h);let H=this.o;if(this.U&&(H?(H=D(H),re(H,this.U)):H=this.U),this.u!==null||this.R||(z.J=H,H=null),this.S)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var S=this.i[v];if("__data__"in S.map&&(S=S.map.__data__,typeof S=="string")){S=S.length;break t}S=void 0}if(S===void 0)break;if(y+=S,y>4096){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=nh(this,z,y),v=Vt(this.J),Ze(v,"RID",h),Ze(v,"CVER",22),this.G&&Ze(v,"X-HTTP-Session-Id",this.G),Js(this,v),H&&(this.R?y="headers="+tr(Hn(H))+"&"+y:this.u&&$s(v,this.u,H)),ql(this.h,z),this.Ra&&Ze(v,"TYPE","init"),this.S?(Ze(v,"$req",y),Ze(v,"SID","null"),z.U=!0,Ci(z,v,null)):Ci(z,v,y),this.I=2}}else this.I==3&&(h?eu(this,h):this.i.length==0||Fl(this.h)||eu(this))};function eu(h,y){var v;y?v=y.l:v=h.V++;const S=Vt(h.J);Ze(S,"SID",h.M),Ze(S,"RID",v),Ze(S,"AID",h.K),Js(h,S),h.u&&h.o&&$s(S,h.u,h.o),v=new ai(h,h.j,v,h.D+1),h.u===null&&(v.J=h.o),y&&(h.i=y.G.concat(h.i)),y=nh(h,v,1e3),v.H=Math.round(h.va*.5)+Math.round(h.va*.5*Math.random()),ql(h.h,v),Ci(v,S,y)}function Js(h,y){h.H&&Re(h.H,function(v,S){Ze(y,S,v)}),h.l&&Re({},function(v,S){Ze(y,S,v)})}function nh(h,y,v){v=Math.min(h.i.length,v);const S=h.l?p(h.l.Ka,h.l,h):null;e:{var z=h.i;let ke=-1;for(;;){const St=["count="+v];ke==-1?v>0?(ke=z[0].g,St.push("ofs="+ke)):ke=0:St.push("ofs="+ke);let Xe=!0;for(let gt=0;gt<v;gt++){var H=z[gt].g;const Gn=z[gt].map;if(H-=ke,H<0)ke=Math.max(0,z[gt].g-100),Xe=!1;else try{H="req"+H+"_"||"";try{var se=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Bi,hi]of se){let fi=hi;d(hi)&&(fi=kr(hi)),St.push(H+Bi+"="+encodeURIComponent(fi))}}catch(Bi){throw St.push(H+"type="+encodeURIComponent("_badmap")),Bi}}catch{S&&S(Gn)}}if(Xe){se=St.join("&");break e}}se=void 0}return h=h.i.splice(0,v),y.G=h,se}function ih(h){if(!h.g&&!h.v){h.Y=1;var y=h.Da;Te||A(),ve||(Te(),ve=!0),x.add(y,h),h.A=0}}function Zs(h){return h.g||h.v||h.A>=3?!1:(h.Y++,h.v=xi(p(h.Da,h),ah(h,h.A)),h.A++,!0)}r.Da=function(){if(this.v=null,rh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var h=4*this.T;this.j.info("BP detection timer enabled: "+h),this.B=xi(p(this.Wa,this),h)}},r.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Nt(10),qr(this),rh(this))};function tu(h){h.B!=null&&(c.clearTimeout(h.B),h.B=null)}function rh(h){h.g=new ai(h,h.j,"rpc",h.Y),h.u===null&&(h.g.J=h.o),h.g.P=0;var y=Vt(h.na);Ze(y,"RID","rpc"),Ze(y,"SID",h.M),Ze(y,"AID",h.K),Ze(y,"CI",h.F?"0":"1"),!h.F&&h.ia&&Ze(y,"TO",h.ia),Ze(y,"TYPE","xmlhttp"),Js(h,y),h.u&&h.o&&$s(y,h.u,h.o),h.O&&(h.g.H=h.O);var v=h.g;h=h.ba,v.M=1,v.A=Ks(Vt(y)),v.u=null,v.R=!0,Za(v,h)}r.Va=function(){this.C!=null&&(this.C=null,qr(this),Zs(this),Nt(19))};function lo(h){h.C!=null&&(c.clearTimeout(h.C),h.C=null)}function sh(h,y){var v=null;if(h.g==y){lo(h),tu(h),h.g=null;var S=2}else if(Mi(h.h,y))v=y.G,Hl(h.h,y),S=1;else return;if(h.I!=0){if(y.o)if(S==1){v=y.u?y.u.length:0,y=Date.now()-y.F;var z=h.D;S=Ja(),zt(S,new Ii(S,v)),ji(h)}else ih(h);else if(z=y.m,z==3||z==0&&y.X>0||!(S==1&&oo(h,y)||S==2&&Zs(h)))switch(v&&v.length>0&&(y=h.h,y.i=y.i.concat(v)),z){case 1:zi(h,5);break;case 4:zi(h,10);break;case 3:zi(h,6);break;default:zi(h,2)}}}function ah(h,y){let v=h.Qa+Math.floor(Math.random()*h.Za);return h.isActive()||(v*=2),v*y}function zi(h,y){if(h.j.info("Error code "+y),y==2){var v=p(h.bb,h),S=h.Ua;const z=!S;S=new An(S||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Yt(S,"https"),Ks(S),z?li(S.toString(),v):Xl(S.toString(),v)}else Nt(2);h.I=0,h.l&&h.l.pa(y),oh(h),ao(h)}r.bb=function(h){h?(this.j.info("Successfully pinged google.com"),Nt(2)):(this.j.info("Failed to ping google.com"),Nt(1))};function oh(h){if(h.I=0,h.ja=[],h.l){const y=Gl(h.h);(y.length!=0||h.i.length!=0)&&(Q(h.ja,y),Q(h.ja,h.i),h.h.i.length=0,j(h.i),h.i.length=0),h.l.oa()}}function lh(h,y,v){var S=v instanceof An?Vt(v):new An(v);if(S.g!="")y&&(S.g=y+"."+S.g),Pr(S,S.u);else{var z=c.location;S=z.protocol,y=y?y+"."+z.hostname:z.hostname,z=+z.port;const H=new An(null);S&&Yt(H,S),y&&(H.g=y),z&&Pr(H,z),v&&(H.h=v),S=H}return v=h.G,y=h.wa,v&&y&&Ze(S,v,y),Ze(S,"VER",h.ka),Js(h,S),S}function uh(h,y,v){if(y&&!h.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=h.Aa&&!h.ma?new st(new Pi({ab:v})):new st(h.ma),y.Fa(h.L),y}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function ch(){}r=ch.prototype,r.ra=function(){},r.qa=function(){},r.pa=function(){},r.oa=function(){},r.isActive=function(){return!0},r.Ka=function(){};function Hr(){}Hr.prototype.g=function(h,y){return new hn(h,y)};function hn(h,y){Ct.call(this),this.g=new Fr(y),this.l=h,this.h=y&&y.messageUrlParams||null,h=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(h?h["X-WebChannel-Content-Type"]=y.messageContentType:h={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(h?h["X-WebChannel-Client-Profile"]=y.sa:h={"X-WebChannel-Client-Profile":y.sa}),this.g.U=h,(h=y&&y.Qb)&&!C(h)&&(this.g.u=h),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!C(y)&&(this.g.G=y,h=this.h,h!==null&&y in h&&(h=this.h,y in h&&delete h[y])),this.j=new rr(this)}T(hn,Ct),hn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},hn.prototype.close=function(){Zl(this.g)},hn.prototype.o=function(h){var y=this.g;if(typeof h=="string"){var v={};v.__data__=h,h=v}else this.v&&(v={},v.__data__=kr(h),h=v);y.i.push(new Ot(y.Ya++,h)),y.I==3&&ji(y)},hn.prototype.N=function(){this.g.l=null,delete this.j,Zl(this.g),delete this.g,hn.Z.N.call(this)};function hh(h){Wt.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var y=h.__sm__;if(y){e:{for(const v in y){h=v;break e}h=void 0}(this.i=h)&&(h=this.i,y=y!==null&&h in y?y[h]:void 0),this.data=y}else this.data=h}T(hh,Wt);function fh(){Bn.call(this),this.status=1}T(fh,Bn);function rr(h){this.g=h}T(rr,ch),rr.prototype.ra=function(){zt(this.g,"a")},rr.prototype.qa=function(h){zt(this.g,new hh(h))},rr.prototype.pa=function(h){zt(this.g,new fh)},rr.prototype.oa=function(){zt(this.g,"b")},Hr.prototype.createWebChannel=Hr.prototype.g,hn.prototype.send=hn.prototype.o,hn.prototype.open=hn.prototype.m,hn.prototype.close=hn.prototype.close,kS=function(){return new Hr},MS=function(){return Ja()},VS=wt,Dp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Hs.NO_ERROR=0,Hs.TIMEOUT=8,Hs.HTTP_ERROR=6,Of=Hs,jl.COMPLETE="complete",OS=jl,Hc.EventType=ri,ri.OPEN="a",ri.CLOSE="b",ri.ERROR="c",ri.MESSAGE="d",Ct.prototype.listen=Ct.prototype.J,Xu=Hc,st.prototype.listenOnce=st.prototype.K,st.prototype.getLastError=st.prototype.Ha,st.prototype.getLastErrorCode=st.prototype.ya,st.prototype.getStatus=st.prototype.ca,st.prototype.getResponseJson=st.prototype.La,st.prototype.getResponseText=st.prototype.la,st.prototype.send=st.prototype.ea,st.prototype.setWithCredentials=st.prototype.Fa,DS=st}).apply(typeof _f<"u"?_f:typeof self<"u"?self:typeof window<"u"?window:{});class Xt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xt.UNAUTHENTICATED=new Xt(null),Xt.GOOGLE_CREDENTIALS=new Xt("google-credentials-uid"),Xt.FIRST_PARTY=new Xt("first-party-uid"),Xt.MOCK_USER=new Xt("mock-user");let xl="12.9.0";function yO(r){xl=r}const ja=new wd("@firebase/firestore");function Qo(){return ja.logLevel}function ne(r,...e){if(ja.logLevel<=He.DEBUG){const t=e.map(xy);ja.debug(`Firestore (${xl}): ${r}`,...t)}}function xt(r,...e){if(ja.logLevel<=He.ERROR){const t=e.map(xy);ja.error(`Firestore (${xl}): ${r}`,...t)}}function za(r,...e){if(ja.logLevel<=He.WARN){const t=e.map(xy);ja.warn(`Firestore (${xl}): ${r}`,...t)}}function xy(r){if(typeof r=="string")return r;try{return(function(t){return JSON.stringify(t)})(r)}catch{return r}}function de(r,e,t){let i="Unexpected state";typeof e=="string"?i=e:t=e,PS(r,i,t)}function PS(r,e,t){let i=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(t!==void 0)try{i+=" CONTEXT: "+JSON.stringify(t)}catch{i+=" CONTEXT: "+t}throw xt(i),new Error(i)}function be(r,e,t,i){let a="Unexpected state";typeof t=="string"?a=t:i=t,r||PS(e,a,i)}function ye(r,e){return r}const Z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Ei{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class xr{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class LS{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _O{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Xt.UNAUTHENTICATED)))}shutdown(){}}class vO{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class bO{constructor(e){this.t=e,this.currentUser=Xt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){be(this.o===void 0,42304);let i=this.i;const a=g=>this.i!==i?(i=this.i,t(g)):Promise.resolve();let l=new xr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new xr,e.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const g=l;e.enqueueRetryable((async()=>{await g.promise,await a(this.currentUser)}))},d=g=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((g=>d(g))),setTimeout((()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?d(g):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new xr)}}),0),c()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((i=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(be(typeof i.accessToken=="string",31837,{l:i}),new LS(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string",2055,{h:e}),new Xt(e)}}class TO{constructor(e,t,i){this.P=e,this.T=t,this.I=i,this.type="FirstParty",this.user=Xt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class EO{constructor(e,t,i){this.P=e,this.T=t,this.I=i}getToken(){return Promise.resolve(new TO(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Xt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class kT{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class wO{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,yi(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){be(this.o===void 0,3512);const i=l=>{l.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${l.error.message}`);const c=l.token!==this.m;return this.m=l.token,ne("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(l.token):Promise.resolve()};this.o=l=>{e.enqueueRetryable((()=>i(l)))};const a=l=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=l,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((l=>a(l))),setTimeout((()=>{if(!this.appCheck){const l=this.V.getImmediate({optional:!0});l?a(l):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new kT(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(be(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new kT(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function SO(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let i=0;i<r;i++)t[i]=Math.floor(256*Math.random());return t}class Ry{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=SO(40);for(let l=0;l<a.length;++l)i.length<20&&a[l]<t&&(i+=e.charAt(a[l]%62))}return i}}function Ne(r,e){return r<e?-1:r>e?1:0}function Op(r,e){const t=Math.min(r.length,e.length);for(let i=0;i<t;i++){const a=r.charAt(i),l=e.charAt(i);if(a!==l)return up(a)===up(l)?Ne(a,l):up(a)?1:-1}return Ne(r.length,e.length)}const AO=55296,IO=57343;function up(r){const e=r.charCodeAt(0);return e>=AO&&e<=IO}function ol(r,e,t){return r.length===e.length&&r.every(((i,a)=>t(i,e[a])))}function US(r){return r+"\0"}const PT="__name__";class Ki{constructor(e,t,i){t===void 0?t=0:t>e.length&&de(637,{offset:t,range:e.length}),i===void 0?i=e.length-t:i>e.length-t&&de(1746,{length:i,range:e.length-t}),this.segments=e,this.offset=t,this.len=i}get length(){return this.len}isEqual(e){return Ki.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Ki?e.forEach((i=>{t.push(i)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,i=this.limit();t<i;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const i=Math.min(e.length,t.length);for(let a=0;a<i;a++){const l=Ki.compareSegments(e.get(a),t.get(a));if(l!==0)return l}return Ne(e.length,t.length)}static compareSegments(e,t){const i=Ki.isNumericId(e),a=Ki.isNumericId(t);return i&&!a?-1:!i&&a?1:i&&a?Ki.extractNumericId(e).compare(Ki.extractNumericId(t)):Op(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Rs.fromString(e.substring(4,e.length-2))}}class ut extends Ki{construct(e,t,i){return new ut(e,t,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const i of e){if(i.indexOf("//")>=0)throw new he(Z.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);t.push(...i.split("/").filter((a=>a.length>0)))}return new ut(t)}static emptyPath(){return new ut([])}}const xO=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class _t extends Ki{construct(e,t,i){return new _t(e,t,i)}static isValidIdentifier(e){return xO.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),_t.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===PT}static keyField(){return new _t([PT])}static fromServerFormat(e){const t=[];let i="",a=0;const l=()=>{if(i.length===0)throw new he(Z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(i),i=""};let c=!1;for(;a<e.length;){const d=e[a];if(d==="\\"){if(a+1===e.length)throw new he(Z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(Z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);i+=g,a+=2}else d==="`"?(c=!c,a++):d!=="."||c?(i+=d,a++):(l(),a++)}if(l(),c)throw new he(Z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new _t(t)}static emptyPath(){return new _t([])}}class ue{constructor(e){this.path=e}static fromPath(e){return new ue(ut.fromString(e))}static fromName(e){return new ue(ut.fromString(e).popFirst(5))}static empty(){return new ue(ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ut.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ue(new ut(e.slice()))}}function RO(r,e,t){if(!t)throw new he(Z.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function CO(r,e,t,i){if(e===!0&&i===!0)throw new he(Z.INVALID_ARGUMENT,`${r} and ${t} cannot be used together.`)}function LT(r){if(!ue.isDocumentKey(r))throw new he(Z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function jS(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}function Cy(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=(function(i){return i.constructor?i.constructor.name:null})(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":de(12329,{type:typeof r})}function Cs(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(Z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Cy(r);throw new he(Z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return r}function jt(r,e){const t={typeString:r};return e&&(t.value=e),t}function Vc(r,e){if(!jS(r))throw new he(Z.INVALID_ARGUMENT,"JSON must be an object");let t;for(const i in e)if(e[i]){const a=e[i].typeString,l="value"in e[i]?{value:e[i].value}:void 0;if(!(i in r)){t=`JSON missing required field: '${i}'`;break}const c=r[i];if(a&&typeof c!==a){t=`JSON field '${i}' must be a ${a}.`;break}if(l!==void 0&&c!==l.value){t=`Expected '${i}' field to equal '${l.value}'`;break}}if(t)throw new he(Z.INVALID_ARGUMENT,t);return!0}const UT=-62135596800,jT=1e6;class it{static now(){return it.fromMillis(Date.now())}static fromDate(e){return it.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),i=Math.floor((e-1e3*t)*jT);return new it(t,i)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new he(Z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<UT)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(Z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/jT}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:it._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Vc(e,it._jsonSchema))return new it(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-UT;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}it._jsonSchemaVersion="firestore/timestamp/1.0",it._jsonSchema={type:jt("string",it._jsonSchemaVersion),seconds:jt("number"),nanoseconds:jt("number")};class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new it(0,0))}static max(){return new we(new it(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ll=-1;class ed{constructor(e,t,i,a){this.indexId=e,this.collectionGroup=t,this.fields=i,this.indexState=a}}function Vp(r){return r.fields.find((e=>e.kind===2))}function va(r){return r.fields.filter((e=>e.kind!==2))}ed.UNKNOWN_ID=-1;class Vf{constructor(e,t){this.fieldPath=e,this.kind=t}}class mc{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new mc(0,Un.min())}}function zS(r,e){const t=r.toTimestamp().seconds,i=r.toTimestamp().nanoseconds+1,a=we.fromTimestamp(i===1e9?new it(t+1,0):new it(t,i));return new Un(a,ue.empty(),e)}function BS(r){return new Un(r.readTime,r.key,ll)}class Un{constructor(e,t,i){this.readTime=e,this.documentKey=t,this.largestBatchId=i}static min(){return new Un(we.min(),ue.empty(),ll)}static max(){return new Un(we.max(),ue.empty(),ll)}}function Ny(r,e){let t=r.readTime.compareTo(e.readTime);return t!==0?t:(t=ue.comparator(r.documentKey,e.documentKey),t!==0?t:Ne(r.largestBatchId,e.largestBatchId))}const FS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qS{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ps(r){if(r.code!==Z.FAILED_PRECONDITION||r.message!==FS)throw r;ne("LocalStore","Unexpectedly lost primary lease")}class U{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new U(((i,a)=>{this.nextCallback=l=>{this.wrapSuccess(e,l).next(i,a)},this.catchCallback=l=>{this.wrapFailure(t,l).next(i,a)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof U?t:U.resolve(t)}catch(t){return U.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):U.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):U.reject(t)}static resolve(e){return new U(((t,i)=>{t(e)}))}static reject(e){return new U(((t,i)=>{i(e)}))}static waitFor(e){return new U(((t,i)=>{let a=0,l=0,c=!1;e.forEach((d=>{++a,d.next((()=>{++l,c&&l===a&&t()}),(g=>i(g)))})),c=!0,l===a&&t()}))}static or(e){let t=U.resolve(!1);for(const i of e)t=t.next((a=>a?U.resolve(a):i()));return t}static forEach(e,t){const i=[];return e.forEach(((a,l)=>{i.push(t.call(this,a,l))})),this.waitFor(i)}static mapArray(e,t){return new U(((i,a)=>{const l=e.length,c=new Array(l);let d=0;for(let g=0;g<l;g++){const p=g;t(e[p]).next((b=>{c[p]=b,++d,d===l&&i(c)}),(b=>a(b)))}}))}static doWhile(e,t){return new U(((i,a)=>{const l=()=>{e()===!0?t().next((()=>{l()}),a):i()};l()}))}}const Vn="SimpleDb";class Cd{static open(e,t,i,a){try{return new Cd(t,e.transaction(a,i))}catch(l){throw new ic(t,l)}}constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.S=new xr,this.transaction.oncomplete=()=>{this.S.resolve()},this.transaction.onabort=()=>{t.error?this.S.reject(new ic(e,t.error)):this.S.resolve()},this.transaction.onerror=i=>{const a=Dy(i.target.error);this.S.reject(new ic(e,a))}}get D(){return this.S.promise}abort(e){e&&this.S.reject(e),this.aborted||(ne(Vn,"Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}C(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const t=this.transaction.objectStore(e);return new DO(t)}}class Ns{static delete(e){return ne(Vn,"Removing database:",e),Ea(pw().indexedDB.deleteDatabase(e)).toPromise()}static v(){if(!ly())return!1;if(Ns.F())return!0;const e=Ht(),t=Ns.M(e),i=0<t&&t<10,a=HS(e),l=0<a&&a<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||i||l)}static F(){return typeof process<"u"&&process.__PRIVATE_env?.__PRIVATE_USE_MOCK_PERSISTENCE==="YES"}static O(e,t){return e.store(t)}static M(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),i=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(i)}constructor(e,t,i){this.name=e,this.version=t,this.N=i,this.B=null,Ns.M(Ht())===12.2&&xt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}async L(e){return this.db||(ne(Vn,"Opening database:",this.name),this.db=await new Promise(((t,i)=>{const a=indexedDB.open(this.name,this.version);a.onsuccess=l=>{const c=l.target.result;t(c)},a.onblocked=()=>{i(new ic(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},a.onerror=l=>{const c=l.target.error;c.name==="VersionError"?i(new he(Z.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):c.name==="InvalidStateError"?i(new he(Z.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+c)):i(new ic(e,c))},a.onupgradeneeded=l=>{ne(Vn,'Database "'+this.name+'" requires upgrade from version:',l.oldVersion);const c=l.target.result;this.N.k(c,a.transaction,l.oldVersion,this.version).next((()=>{ne(Vn,"Database upgrade to version "+this.version+" complete")}))}}))),this.K&&(this.db.onversionchange=t=>this.K(t)),this.db}q(e){this.K=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,i,a){const l=t==="readonly";let c=0;for(;;){++c;try{this.db=await this.L(e);const d=Cd.open(this.db,e,l?"readonly":"readwrite",i),g=a(d).next((p=>(d.C(),p))).catch((p=>(d.abort(p),U.reject(p)))).toPromise();return g.catch((()=>{})),await d.D,g}catch(d){const g=d,p=g.name!=="FirebaseError"&&c<3;if(ne(Vn,"Transaction failed with error:",g.message,"Retrying:",p),this.close(),!p)return Promise.reject(g)}}}close(){this.db&&this.db.close(),this.db=void 0}}function HS(r){const e=r.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}class NO{constructor(e){this.U=e,this.$=!1,this.W=null}get isDone(){return this.$}get G(){return this.W}set cursor(e){this.U=e}done(){this.$=!0}j(e){this.W=e}delete(){return Ea(this.U.delete())}}class ic extends he{constructor(e,t){super(Z.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Ls(r){return r.name==="IndexedDbTransactionError"}class DO{constructor(e){this.store=e}put(e,t){let i;return t!==void 0?(ne(Vn,"PUT",this.store.name,e,t),i=this.store.put(t,e)):(ne(Vn,"PUT",this.store.name,"<auto-key>",e),i=this.store.put(e)),Ea(i)}add(e){return ne(Vn,"ADD",this.store.name,e,e),Ea(this.store.add(e))}get(e){return Ea(this.store.get(e)).next((t=>(t===void 0&&(t=null),ne(Vn,"GET",this.store.name,e,t),t)))}delete(e){return ne(Vn,"DELETE",this.store.name,e),Ea(this.store.delete(e))}count(){return ne(Vn,"COUNT",this.store.name),Ea(this.store.count())}H(e,t){const i=this.options(e,t),a=i.index?this.store.index(i.index):this.store;if(typeof a.getAll=="function"){const l=a.getAll(i.range);return new U(((c,d)=>{l.onerror=g=>{d(g.target.error)},l.onsuccess=g=>{c(g.target.result)}}))}{const l=this.cursor(i),c=[];return this.J(l,((d,g)=>{c.push(g)})).next((()=>c))}}Z(e,t){const i=this.store.getAll(e,t===null?void 0:t);return new U(((a,l)=>{i.onerror=c=>{l(c.target.error)},i.onsuccess=c=>{a(c.target.result)}}))}X(e,t){ne(Vn,"DELETE ALL",this.store.name);const i=this.options(e,t);i.Y=!1;const a=this.cursor(i);return this.J(a,((l,c,d)=>d.delete()))}ee(e,t){let i;t?i=e:(i={},t=e);const a=this.cursor(i);return this.J(a,t)}te(e){const t=this.cursor({});return new U(((i,a)=>{t.onerror=l=>{const c=Dy(l.target.error);a(c)},t.onsuccess=l=>{const c=l.target.result;c?e(c.primaryKey,c.value).next((d=>{d?c.continue():i()})):i()}}))}J(e,t){const i=[];return new U(((a,l)=>{e.onerror=c=>{l(c.target.error)},e.onsuccess=c=>{const d=c.target.result;if(!d)return void a();const g=new NO(d),p=t(d.primaryKey,d.value,g);if(p instanceof U){const b=p.catch((T=>(g.done(),U.reject(T))));i.push(b)}g.isDone?a():g.G===null?d.continue():d.continue(g.G)}})).next((()=>U.waitFor(i)))}options(e,t){let i;return e!==void 0&&(typeof e=="string"?i=e:t=e),{index:i,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const i=this.store.index(e.index);return e.Y?i.openKeyCursor(e.range,t):i.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ea(r){return new U(((e,t)=>{r.onsuccess=i=>{const a=i.target.result;e(a)},r.onerror=i=>{const a=Dy(i.target.error);t(a)}}))}let zT=!1;function Dy(r){const e=Ns.M(Ht());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(r.message.indexOf(t)>=0){const i=new he("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return zT||(zT=!0,setTimeout((()=>{throw i}),0)),i}}return r}const rc="IndexBackfiller";class OO{constructor(e,t){this.asyncQueue=e,this.ne=t,this.task=null}start(){this.re(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return this.task!==null}re(e){ne(rc,`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{const t=await this.ne.ie();ne(rc,`Documents written: ${t}`)}catch(t){Ls(t)?ne(rc,"Ignoring IndexedDB error during index backfill: ",t):await Ps(t)}await this.re(6e4)}))}}class VO{constructor(e,t){this.localStore=e,this.persistence=t}async ie(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.se(t,e)))}se(e,t){const i=new Set;let a=t,l=!0;return U.doWhile((()=>l===!0&&a>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((c=>{if(c!==null&&!i.has(c))return ne(rc,`Processing collection: ${c}`),this.oe(e,c,a).next((d=>{a-=d,i.add(c)}));l=!1})))).next((()=>t-a))}oe(e,t,i){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((a=>this.localStore.localDocuments.getNextDocuments(e,t,a,i).next((l=>{const c=l.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next((()=>this._e(a,l))).next((d=>(ne(rc,`Updating offset: ${d}`),this.localStore.indexManager.updateCollectionGroup(e,t,d)))).next((()=>c.size))}))))}_e(e,t){let i=e;return t.changes.forEach(((a,l)=>{const c=BS(l);Ny(c,i)>0&&(i=c)})),new Un(i.readTime,i.documentKey,Math.max(t.batchId,e.largestBatchId))}}class wn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>t.writeSequenceNumber(i))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}wn.ce=-1;const Na=-1;function Nd(r){return r==null}function gc(r){return r===0&&1/r==-1/0}function GS(r){return typeof r=="number"&&Number.isInteger(r)&&!gc(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}const td="";function ln(r){let e="";for(let t=0;t<r.length;t++)e.length>0&&(e=BT(e)),e=MO(r.get(t),e);return BT(e)}function MO(r,e){let t=e;const i=r.length;for(let a=0;a<i;a++){const l=r.charAt(a);switch(l){case"\0":t+="";break;case td:t+="";break;default:t+=l}}return t}function BT(r){return r+td+""}function Qi(r){const e=r.length;if(be(e>=2,64408,{path:r}),e===2)return be(r.charAt(0)===td&&r.charAt(1)==="",56145,{path:r}),ut.emptyPath();const t=e-2,i=[];let a="";for(let l=0;l<e;){const c=r.indexOf(td,l);switch((c<0||c>t)&&de(50515,{path:r}),r.charAt(c+1)){case"":const d=r.substring(l,c);let g;a.length===0?g=d:(a+=d,g=a,a=""),i.push(g);break;case"":a+=r.substring(l,c),a+="\0";break;case"":a+=r.substring(l,c+1);break;default:de(61167,{path:r})}l=c+2}return new ut(i)}const ba="remoteDocuments",Mc="owner",zo="owner",pc="mutationQueues",kO="userId",pi="mutations",FT="batchId",Ra="userMutationsIndex",qT=["userId","batchId"];function Mf(r,e){return[r,ln(e)]}function KS(r,e,t){return[r,ln(e),t]}const PO={},ul="documentMutations",nd="remoteDocumentsV14",LO=["prefixPath","collectionGroup","readTime","documentId"],kf="documentKeyIndex",UO=["prefixPath","collectionGroup","documentId"],YS="collectionGroupIndex",jO=["collectionGroup","readTime","prefixPath","documentId"],yc="remoteDocumentGlobal",Mp="remoteDocumentGlobalKey",cl="targets",QS="queryTargetsIndex",zO=["canonicalId","targetId"],hl="targetDocuments",BO=["targetId","path"],Oy="documentTargetsIndex",FO=["path","targetId"],id="targetGlobalKey",Da="targetGlobal",_c="collectionParents",qO=["collectionId","parent"],fl="clientMetadata",HO="clientId",Dd="bundles",GO="bundleId",Od="namedQueries",KO="name",Vy="indexConfiguration",YO="indexId",kp="collectionGroupIndex",QO="collectionGroup",sc="indexState",$O=["indexId","uid"],$S="sequenceNumberIndex",XO=["uid","sequenceNumber"],ac="indexEntries",WO=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],XS="documentKeyIndex",JO=["indexId","uid","orderedDocumentKey"],Vd="documentOverlays",ZO=["userId","collectionPath","documentId"],Pp="collectionPathOverlayIndex",eV=["userId","collectionPath","largestBatchId"],WS="collectionGroupOverlayIndex",tV=["userId","collectionGroup","largestBatchId"],My="globals",nV="name",JS=[pc,pi,ul,ba,cl,Mc,Da,hl,fl,yc,_c,Dd,Od],iV=[...JS,Vd],ZS=[pc,pi,ul,nd,cl,Mc,Da,hl,fl,yc,_c,Dd,Od,Vd],e1=ZS,ky=[...e1,Vy,sc,ac],rV=ky,t1=[...ky,My],sV=t1;class Lp extends qS{constructor(e,t){super(),this.le=e,this.currentSequenceNumber=t}}function Gt(r,e){const t=ye(r);return Ns.O(t.le,e)}function HT(r){let e=0;for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e++;return e}function $a(r,e){for(const t in r)Object.prototype.hasOwnProperty.call(r,t)&&e(t,r[t])}function n1(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}class ft{constructor(e,t){this.comparator=e,this.root=t||rn.EMPTY}insert(e,t){return new ft(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,rn.BLACK,null,null))}remove(e){return new ft(this.comparator,this.root.remove(e,this.comparator).copy(null,null,rn.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const i=this.comparator(e,t.key);if(i===0)return t.value;i<0?t=t.left:i>0&&(t=t.right)}return null}indexOf(e){let t=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(e,i.key);if(a===0)return t+i.left.size;a<0?i=i.left:(t+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,i)=>(e(t,i),!1)))}toString(){const e=[];return this.inorderTraversal(((t,i)=>(e.push(`${t}:${i}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new vf(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new vf(this.root,e,this.comparator,!1)}getReverseIterator(){return new vf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new vf(this.root,e,this.comparator,!0)}}class vf{constructor(e,t,i,a){this.isReverse=a,this.nodeStack=[];let l=1;for(;!e.isEmpty();)if(l=t?i(e.key,t):1,t&&a&&(l*=-1),l<0)e=this.isReverse?e.left:e.right;else{if(l===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class rn{constructor(e,t,i,a,l){this.key=e,this.value=t,this.color=i??rn.RED,this.left=a??rn.EMPTY,this.right=l??rn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,i,a,l){return new rn(e??this.key,t??this.value,i??this.color,a??this.left,l??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,i){let a=this;const l=i(e,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(e,t,i),null):l===0?a.copy(null,t,null,null,null):a.copy(null,null,null,null,a.right.insert(e,t,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return rn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let i,a=this;if(t(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,t),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),t(e,a.key)===0){if(a.right.isEmpty())return rn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,t))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}rn.EMPTY=null,rn.RED=!0,rn.BLACK=!1;rn.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,t,i,a,l){return this}insert(e,t,i){return new rn(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class rt{constructor(e){this.comparator=e,this.data=new ft(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,i)=>(e(t),!1)))}forEachInRange(e,t){const i=this.data.getIteratorFrom(e[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,e[1])>=0)return;t(a.key)}}forEachWhile(e,t){let i;for(i=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();i.hasNext();)if(!e(i.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new GT(this.data.getIterator())}getIteratorFrom(e){return new GT(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((i=>{t=t.add(i)})),t}isEqual(e){if(!(e instanceof rt)||this.size!==e.size)return!1;const t=this.data.getIterator(),i=e.data.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(this.comparator(a,l)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new rt(this.comparator);return t.data=e,t}}class GT{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Bo(r){return r.hasNext()?r.getNext():void 0}class ti{constructor(e){this.fields=e,e.sort(_t.comparator)}static empty(){return new ti([])}unionWith(e){let t=new rt(_t.comparator);for(const i of this.fields)t=t.add(i);for(const i of e)t=t.add(i);return new ti(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ol(this.fields,e.fields,((t,i)=>t.isEqual(i)))}}class i1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Rt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(a){try{return atob(a)}catch(l){throw typeof DOMException<"u"&&l instanceof DOMException?new i1("Invalid base64 string: "+l):l}})(e);return new Rt(t)}static fromUint8Array(e){const t=(function(a){let l="";for(let c=0;c<a.length;++c)l+=String.fromCharCode(a[c]);return l})(e);return new Rt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Rt.EMPTY_BYTE_STRING=new Rt("");const aV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(r){if(be(!!r,39018),typeof r=="string"){let e=0;const t=aV.exec(r);if(be(!!t,46558,{timestamp:r}),t[1]){let a=t[1];a=(a+"000000000").substr(0,9),e=Number(a)}const i=new Date(r);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Dr(r){return typeof r=="string"?Rt.fromBase64String(r):Rt.fromUint8Array(r)}const r1="server_timestamp",s1="__type__",a1="__previous_value__",o1="__local_write_time__";function Py(r){return(r?.mapValue?.fields||{})[s1]?.stringValue===r1}function Md(r){const e=r.mapValue.fields[a1];return Py(e)?Md(e):e}function vc(r){const e=Nr(r.mapValue.fields[o1].timestampValue);return new it(e.seconds,e.nanos)}class oV{constructor(e,t,i,a,l,c,d,g,p,b,T){this.databaseId=e,this.appId=t,this.persistenceKey=i,this.host=a,this.ssl=l,this.forceLongPolling=c,this.autoDetectLongPolling=d,this.longPollingOptions=g,this.useFetchStreams=p,this.isUsingEmulator=b,this.apiKey=T}}const rd="(default)";class Ba{constructor(e,t){this.projectId=e,this.database=t||rd}static empty(){return new Ba("","")}get isDefaultDatabase(){return this.database===rd}isEqual(e){return e instanceof Ba&&e.projectId===this.projectId&&e.database===this.database}}function lV(r,e){if(!Object.prototype.hasOwnProperty.apply(r.options,["projectId"]))throw new he(Z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ba(r.options.projectId,e)}const Ly="__type__",l1="__max__",As={mapValue:{fields:{__type__:{stringValue:l1}}}},Uy="__vector__",dl="value",Pf={nullValue:"NULL_VALUE"};function Os(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Py(r)?4:u1(r)?9007199254740991:kd(r)?10:11:de(28295,{value:r})}function er(r,e){if(r===e)return!0;const t=Os(r);if(t!==Os(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return vc(r).isEqual(vc(e));case 3:return(function(a,l){if(typeof a.timestampValue=="string"&&typeof l.timestampValue=="string"&&a.timestampValue.length===l.timestampValue.length)return a.timestampValue===l.timestampValue;const c=Nr(a.timestampValue),d=Nr(l.timestampValue);return c.seconds===d.seconds&&c.nanos===d.nanos})(r,e);case 5:return r.stringValue===e.stringValue;case 6:return(function(a,l){return Dr(a.bytesValue).isEqual(Dr(l.bytesValue))})(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return(function(a,l){return yt(a.geoPointValue.latitude)===yt(l.geoPointValue.latitude)&&yt(a.geoPointValue.longitude)===yt(l.geoPointValue.longitude)})(r,e);case 2:return(function(a,l){if("integerValue"in a&&"integerValue"in l)return yt(a.integerValue)===yt(l.integerValue);if("doubleValue"in a&&"doubleValue"in l){const c=yt(a.doubleValue),d=yt(l.doubleValue);return c===d?gc(c)===gc(d):isNaN(c)&&isNaN(d)}return!1})(r,e);case 9:return ol(r.arrayValue.values||[],e.arrayValue.values||[],er);case 10:case 11:return(function(a,l){const c=a.mapValue.fields||{},d=l.mapValue.fields||{};if(HT(c)!==HT(d))return!1;for(const g in c)if(c.hasOwnProperty(g)&&(d[g]===void 0||!er(c[g],d[g])))return!1;return!0})(r,e);default:return de(52216,{left:r})}}function bc(r,e){return(r.values||[]).find((t=>er(t,e)))!==void 0}function Vs(r,e){if(r===e)return 0;const t=Os(r),i=Os(e);if(t!==i)return Ne(t,i);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ne(r.booleanValue,e.booleanValue);case 2:return(function(l,c){const d=yt(l.integerValue||l.doubleValue),g=yt(c.integerValue||c.doubleValue);return d<g?-1:d>g?1:d===g?0:isNaN(d)?isNaN(g)?0:-1:1})(r,e);case 3:return KT(r.timestampValue,e.timestampValue);case 4:return KT(vc(r),vc(e));case 5:return Op(r.stringValue,e.stringValue);case 6:return(function(l,c){const d=Dr(l),g=Dr(c);return d.compareTo(g)})(r.bytesValue,e.bytesValue);case 7:return(function(l,c){const d=l.split("/"),g=c.split("/");for(let p=0;p<d.length&&p<g.length;p++){const b=Ne(d[p],g[p]);if(b!==0)return b}return Ne(d.length,g.length)})(r.referenceValue,e.referenceValue);case 8:return(function(l,c){const d=Ne(yt(l.latitude),yt(c.latitude));return d!==0?d:Ne(yt(l.longitude),yt(c.longitude))})(r.geoPointValue,e.geoPointValue);case 9:return YT(r.arrayValue,e.arrayValue);case 10:return(function(l,c){const d=l.fields||{},g=c.fields||{},p=d[dl]?.arrayValue,b=g[dl]?.arrayValue,T=Ne(p?.values?.length||0,b?.values?.length||0);return T!==0?T:YT(p,b)})(r.mapValue,e.mapValue);case 11:return(function(l,c){if(l===As.mapValue&&c===As.mapValue)return 0;if(l===As.mapValue)return 1;if(c===As.mapValue)return-1;const d=l.fields||{},g=Object.keys(d),p=c.fields||{},b=Object.keys(p);g.sort(),b.sort();for(let T=0;T<g.length&&T<b.length;++T){const I=Op(g[T],b[T]);if(I!==0)return I;const j=Vs(d[g[T]],p[b[T]]);if(j!==0)return j}return Ne(g.length,b.length)})(r.mapValue,e.mapValue);default:throw de(23264,{he:t})}}function KT(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Ne(r,e);const t=Nr(r),i=Nr(e),a=Ne(t.seconds,i.seconds);return a!==0?a:Ne(t.nanos,i.nanos)}function YT(r,e){const t=r.values||[],i=e.values||[];for(let a=0;a<t.length&&a<i.length;++a){const l=Vs(t[a],i[a]);if(l)return l}return Ne(t.length,i.length)}function ml(r){return Up(r)}function Up(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?(function(t){const i=Nr(t);return`time(${i.seconds},${i.nanos})`})(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?(function(t){return Dr(t).toBase64()})(r.bytesValue):"referenceValue"in r?(function(t){return ue.fromName(t).toString()})(r.referenceValue):"geoPointValue"in r?(function(t){return`geo(${t.latitude},${t.longitude})`})(r.geoPointValue):"arrayValue"in r?(function(t){let i="[",a=!0;for(const l of t.values||[])a?a=!1:i+=",",i+=Up(l);return i+"]"})(r.arrayValue):"mapValue"in r?(function(t){const i=Object.keys(t.fields||{}).sort();let a="{",l=!0;for(const c of i)l?l=!1:a+=",",a+=`${c}:${Up(t.fields[c])}`;return a+"}"})(r.mapValue):de(61005,{value:r})}function Lf(r){switch(Os(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Md(r);return e?16+Lf(e):16;case 5:return 2*r.stringValue.length;case 6:return Dr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,l)=>a+Lf(l)),0)})(r.arrayValue);case 10:case 11:return(function(i){let a=0;return $a(i.fields,((l,c)=>{a+=l.length+Lf(c)})),a})(r.mapValue);default:throw de(13486,{value:r})}}function jy(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function jp(r){return!!r&&"integerValue"in r}function Tc(r){return!!r&&"arrayValue"in r}function QT(r){return!!r&&"nullValue"in r}function $T(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uf(r){return!!r&&"mapValue"in r}function kd(r){return(r?.mapValue?.fields||{})[Ly]?.stringValue===Uy}function oc(r){if(r.geoPointValue)return{geoPointValue:{...r.geoPointValue}};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:{...r.timestampValue}};if(r.mapValue){const e={mapValue:{fields:{}}};return $a(r.mapValue.fields,((t,i)=>e.mapValue.fields[t]=oc(i))),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(r.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=oc(r.arrayValue.values[t]);return e}return{...r}}function u1(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===l1}const c1={mapValue:{fields:{[Ly]:{stringValue:Uy},[dl]:{arrayValue:{}}}}};function uV(r){return"nullValue"in r?Pf:"booleanValue"in r?{booleanValue:!1}:"integerValue"in r||"doubleValue"in r?{doubleValue:NaN}:"timestampValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in r?{stringValue:""}:"bytesValue"in r?{bytesValue:""}:"referenceValue"in r?jy(Ba.empty(),ue.empty()):"geoPointValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in r?{arrayValue:{}}:"mapValue"in r?kd(r)?c1:{mapValue:{}}:de(35942,{value:r})}function cV(r){return"nullValue"in r?{booleanValue:!1}:"booleanValue"in r?{doubleValue:NaN}:"integerValue"in r||"doubleValue"in r?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in r?{stringValue:""}:"stringValue"in r?{bytesValue:""}:"bytesValue"in r?jy(Ba.empty(),ue.empty()):"referenceValue"in r?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in r?{arrayValue:{}}:"arrayValue"in r?c1:"mapValue"in r?kd(r)?{mapValue:{}}:As:de(61959,{value:r})}function XT(r,e){const t=Vs(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?-1:!r.inclusive&&e.inclusive?1:0}function WT(r,e){const t=Vs(r.value,e.value);return t!==0?t:r.inclusive&&!e.inclusive?1:!r.inclusive&&e.inclusive?-1:0}class En{constructor(e){this.value=e}static empty(){return new En({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let i=0;i<e.length-1;++i)if(t=(t.mapValue.fields||{})[e.get(i)],!Uf(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=oc(t)}setAll(e){let t=_t.emptyPath(),i={},a=[];e.forEach(((c,d)=>{if(!t.isImmediateParentOf(d)){const g=this.getFieldsMap(t);this.applyChanges(g,i,a),i={},a=[],t=d.popLast()}c?i[d.lastSegment()]=oc(c):a.push(d.lastSegment())}));const l=this.getFieldsMap(t);this.applyChanges(l,i,a)}delete(e){const t=this.field(e.popLast());Uf(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return er(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let i=0;i<e.length;++i){let a=t.mapValue.fields[e.get(i)];Uf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},t.mapValue.fields[e.get(i)]=a),t=a}return t.mapValue.fields}applyChanges(e,t,i){$a(t,((a,l)=>e[a]=l));for(const a of i)delete e[a]}clone(){return new En(oc(this.value))}}function h1(r){const e=[];return $a(r.fields,((t,i)=>{const a=new _t([t]);if(Uf(i)){const l=h1(i.mapValue).fields;if(l.length===0)e.push(a);else for(const c of l)e.push(a.child(c))}else e.push(a)})),new ti(e)}class Et{constructor(e,t,i,a,l,c,d){this.key=e,this.documentType=t,this.version=i,this.readTime=a,this.createTime=l,this.data=c,this.documentState=d}static newInvalidDocument(e){return new Et(e,0,we.min(),we.min(),we.min(),En.empty(),0)}static newFoundDocument(e,t,i,a){return new Et(e,1,t,we.min(),i,a,0)}static newNoDocument(e,t){return new Et(e,2,t,we.min(),we.min(),En.empty(),0)}static newUnknownDocument(e,t){return new Et(e,3,t,we.min(),we.min(),En.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=En.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=En.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Et&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Et(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class gl{constructor(e,t){this.position=e,this.inclusive=t}}function JT(r,e,t){let i=0;for(let a=0;a<r.position.length;a++){const l=e[a],c=r.position[a];if(l.field.isKeyField()?i=ue.comparator(ue.fromName(c.referenceValue),t.key):i=Vs(c,t.data.field(l.field)),l.dir==="desc"&&(i*=-1),i!==0)break}return i}function ZT(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let t=0;t<r.position.length;t++)if(!er(r.position[t],e.position[t]))return!1;return!0}class sd{constructor(e,t="asc"){this.field=e,this.dir=t}}function hV(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}class f1{}class Ke extends f1{constructor(e,t,i){super(),this.field=e,this.op=t,this.value=i}static create(e,t,i){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,i):new fV(e,t,i):t==="array-contains"?new gV(e,i):t==="in"?new _1(e,i):t==="not-in"?new pV(e,i):t==="array-contains-any"?new yV(e,i):new Ke(e,t,i)}static createKeyFieldInFilter(e,t,i){return t==="in"?new dV(e,i):new mV(e,i)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(Vs(t,this.value)):t!==null&&Os(this.value)===Os(t)&&this.matchesComparison(Vs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ct extends f1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new ct(e,t)}matches(e){return pl(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function pl(r){return r.op==="and"}function zp(r){return r.op==="or"}function zy(r){return d1(r)&&pl(r)}function d1(r){for(const e of r.filters)if(e instanceof ct)return!1;return!0}function Bp(r){if(r instanceof Ke)return r.field.canonicalString()+r.op.toString()+ml(r.value);if(zy(r))return r.filters.map((e=>Bp(e))).join(",");{const e=r.filters.map((t=>Bp(t))).join(",");return`${r.op}(${e})`}}function m1(r,e){return r instanceof Ke?(function(i,a){return a instanceof Ke&&i.op===a.op&&i.field.isEqual(a.field)&&er(i.value,a.value)})(r,e):r instanceof ct?(function(i,a){return a instanceof ct&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((l,c,d)=>l&&m1(c,a.filters[d])),!0):!1})(r,e):void de(19439)}function g1(r,e){const t=r.filters.concat(e);return ct.create(t,r.op)}function p1(r){return r instanceof Ke?(function(t){return`${t.field.canonicalString()} ${t.op} ${ml(t.value)}`})(r):r instanceof ct?(function(t){return t.op.toString()+" {"+t.getFilters().map(p1).join(" ,")+"}"})(r):"Filter"}class fV extends Ke{constructor(e,t,i){super(e,t,i),this.key=ue.fromName(i.referenceValue)}matches(e){const t=ue.comparator(e.key,this.key);return this.matchesComparison(t)}}class dV extends Ke{constructor(e,t){super(e,"in",t),this.keys=y1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class mV extends Ke{constructor(e,t){super(e,"not-in",t),this.keys=y1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function y1(r,e){return(e.arrayValue?.values||[]).map((t=>ue.fromName(t.referenceValue)))}class gV extends Ke{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Tc(t)&&bc(t.arrayValue,this.value)}}class _1 extends Ke{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&bc(this.value.arrayValue,t)}}class pV extends Ke{constructor(e,t){super(e,"not-in",t)}matches(e){if(bc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!bc(this.value.arrayValue,t)}}class yV extends Ke{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Tc(t)||!t.arrayValue.values)&&t.arrayValue.values.some((i=>bc(this.value.arrayValue,i)))}}class _V{constructor(e,t=null,i=[],a=[],l=null,c=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=i,this.filters=a,this.limit=l,this.startAt=c,this.endAt=d,this.Te=null}}function Fp(r,e=null,t=[],i=[],a=null,l=null,c=null){return new _V(r,e,t,i,a,l,c)}function Fa(r){const e=ye(r);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((i=>Bp(i))).join(","),t+="|ob:",t+=e.orderBy.map((i=>(function(l){return l.field.canonicalString()+l.dir})(i))).join(","),Nd(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((i=>ml(i))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((i=>ml(i))).join(",")),e.Te=t}return e.Te}function kc(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<r.orderBy.length;t++)if(!hV(r.orderBy[t],e.orderBy[t]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let t=0;t<r.filters.length;t++)if(!m1(r.filters[t],e.filters[t]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!ZT(r.startAt,e.startAt)&&ZT(r.endAt,e.endAt)}function ad(r){return ue.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function od(r,e){return r.filters.filter((t=>t instanceof Ke&&t.field.isEqual(e)))}function eE(r,e,t){let i=Pf,a=!0;for(const l of od(r,e)){let c=Pf,d=!0;switch(l.op){case"<":case"<=":c=uV(l.value);break;case"==":case"in":case">=":c=l.value;break;case">":c=l.value,d=!1;break;case"!=":case"not-in":c=Pf}XT({value:i,inclusive:a},{value:c,inclusive:d})<0&&(i=c,a=d)}if(t!==null){for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const c=t.position[l];XT({value:i,inclusive:a},{value:c,inclusive:t.inclusive})<0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}function tE(r,e,t){let i=As,a=!0;for(const l of od(r,e)){let c=As,d=!0;switch(l.op){case">=":case">":c=cV(l.value),d=!1;break;case"==":case"in":case"<=":c=l.value;break;case"<":c=l.value,d=!1;break;case"!=":case"not-in":c=As}WT({value:i,inclusive:a},{value:c,inclusive:d})>0&&(i=c,a=d)}if(t!==null){for(let l=0;l<r.orderBy.length;++l)if(r.orderBy[l].field.isEqual(e)){const c=t.position[l];WT({value:i,inclusive:a},{value:c,inclusive:t.inclusive})>0&&(i=c,a=t.inclusive);break}}return{value:i,inclusive:a}}class Pd{constructor(e,t=null,i=[],a=[],l=null,c="F",d=null,g=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=i,this.filters=a,this.limit=l,this.limitType=c,this.startAt=d,this.endAt=g,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function v1(r,e,t,i,a,l,c,d){return new Pd(r,e,t,i,a,l,c,d)}function Pc(r){return new Pd(r)}function nE(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function vV(r){return ue.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}function bV(r){return r.collectionGroup!==null}function lc(r){const e=ye(r);if(e.Ie===null){e.Ie=[];const t=new Set;for(const l of e.explicitOrderBy)e.Ie.push(l),t.add(l.field.canonicalString());const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(c){let d=new rt(_t.comparator);return c.filters.forEach((g=>{g.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((l=>{t.has(l.canonicalString())||l.isKeyField()||e.Ie.push(new sd(l,i))})),t.has(_t.keyField().canonicalString())||e.Ie.push(new sd(_t.keyField(),i))}return e.Ie}function Ln(r){const e=ye(r);return e.Ee||(e.Ee=TV(e,lc(r))),e.Ee}function TV(r,e){if(r.limitType==="F")return Fp(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map((a=>{const l=a.dir==="desc"?"asc":"desc";return new sd(a.field,l)}));const t=r.endAt?new gl(r.endAt.position,r.endAt.inclusive):null,i=r.startAt?new gl(r.startAt.position,r.startAt.inclusive):null;return Fp(r.path,r.collectionGroup,e,r.filters,r.limit,t,i)}}function qp(r,e,t){return new Pd(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,t,r.startAt,r.endAt)}function Ld(r,e){return kc(Ln(r),Ln(e))&&r.limitType===e.limitType}function b1(r){return`${Fa(Ln(r))}|lt:${r.limitType}`}function $o(r){return`Query(target=${(function(t){let i=t.path.canonicalString();return t.collectionGroup!==null&&(i+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(i+=`, filters: [${t.filters.map((a=>p1(a))).join(", ")}]`),Nd(t.limit)||(i+=", limit: "+t.limit),t.orderBy.length>0&&(i+=`, orderBy: [${t.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),t.startAt&&(i+=", startAt: ",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map((a=>ml(a))).join(",")),t.endAt&&(i+=", endAt: ",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map((a=>ml(a))).join(",")),`Target(${i})`})(Ln(r))}; limitType=${r.limitType})`}function Lc(r,e){return e.isFoundDocument()&&(function(i,a){const l=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(l):ue.isDocumentKey(i.path)?i.path.isEqual(l):i.path.isImmediateParentOf(l)})(r,e)&&(function(i,a){for(const l of lc(i))if(!l.field.isKeyField()&&a.data.field(l.field)===null)return!1;return!0})(r,e)&&(function(i,a){for(const l of i.filters)if(!l.matches(a))return!1;return!0})(r,e)&&(function(i,a){return!(i.startAt&&!(function(c,d,g){const p=JT(c,d,g);return c.inclusive?p<=0:p<0})(i.startAt,lc(i),a)||i.endAt&&!(function(c,d,g){const p=JT(c,d,g);return c.inclusive?p>=0:p>0})(i.endAt,lc(i),a))})(r,e)}function T1(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function E1(r){return(e,t)=>{let i=!1;for(const a of lc(r)){const l=EV(a,e,t);if(l!==0)return l;i=i||a.field.isKeyField()}return 0}}function EV(r,e,t){const i=r.field.isKeyField()?ue.comparator(e.key,t.key):(function(l,c,d){const g=c.data.field(l),p=d.data.field(l);return g!==null&&p!==null?Vs(g,p):de(42886)})(r.field,e,t);switch(r.dir){case"asc":return i;case"desc":return-1*i;default:return de(19790,{direction:r.dir})}}class Vr{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i!==void 0){for(const[a,l]of i)if(this.equalsFn(a,e))return l}}has(e){return this.get(e)!==void 0}set(e,t){const i=this.mapKeyFn(e),a=this.inner[i];if(a===void 0)return this.inner[i]=[[e,t]],void this.innerSize++;for(let l=0;l<a.length;l++)if(this.equalsFn(a[l][0],e))return void(a[l]=[e,t]);a.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),i=this.inner[t];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return i.length===1?delete this.inner[t]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(e){$a(this.inner,((t,i)=>{for(const[a,l]of i)e(a,l)}))}isEmpty(){return n1(this.inner)}size(){return this.innerSize}}const wV=new ft(ue.comparator);function Mn(){return wV}const w1=new ft(ue.comparator);function Wu(...r){let e=w1;for(const t of r)e=e.insert(t.key,t);return e}function S1(r){let e=w1;return r.forEach(((t,i)=>e=e.insert(t,i.overlayedDocument))),e}function $i(){return uc()}function A1(){return uc()}function uc(){return new Vr((r=>r.toString()),((r,e)=>r.isEqual(e)))}const SV=new ft(ue.comparator),AV=new rt(ue.comparator);function je(...r){let e=AV;for(const t of r)e=e.add(t);return e}const IV=new rt(Ne);function By(){return IV}function Fy(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gc(e)?"-0":e}}function I1(r){return{integerValue:""+r}}function xV(r,e){return GS(e)?I1(e):Fy(r,e)}class Ud{constructor(){this._=void 0}}function RV(r,e,t){return r instanceof Ec?(function(a,l){const c={fields:{[s1]:{stringValue:r1},[o1]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return l&&Py(l)&&(l=Md(l)),l&&(c.fields[a1]=l),{mapValue:c}})(t,e):r instanceof yl?R1(r,e):r instanceof _l?C1(r,e):(function(a,l){const c=x1(a,l),d=iE(c)+iE(a.Ae);return jp(c)&&jp(a.Ae)?I1(d):Fy(a.serializer,d)})(r,e)}function CV(r,e,t){return r instanceof yl?R1(r,e):r instanceof _l?C1(r,e):t}function x1(r,e){return r instanceof wc?(function(i){return jp(i)||(function(l){return!!l&&"doubleValue"in l})(i)})(e)?e:{integerValue:0}:null}class Ec extends Ud{}class yl extends Ud{constructor(e){super(),this.elements=e}}function R1(r,e){const t=N1(e);for(const i of r.elements)t.some((a=>er(a,i)))||t.push(i);return{arrayValue:{values:t}}}class _l extends Ud{constructor(e){super(),this.elements=e}}function C1(r,e){let t=N1(e);for(const i of r.elements)t=t.filter((a=>!er(a,i)));return{arrayValue:{values:t}}}class wc extends Ud{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function iE(r){return yt(r.integerValue||r.doubleValue)}function N1(r){return Tc(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}class NV{constructor(e,t){this.field=e,this.transform=t}}function DV(r,e){return r.field.isEqual(e.field)&&(function(i,a){return i instanceof yl&&a instanceof yl||i instanceof _l&&a instanceof _l?ol(i.elements,a.elements,er):i instanceof wc&&a instanceof wc?er(i.Ae,a.Ae):i instanceof Ec&&a instanceof Ec})(r.transform,e.transform)}class OV{constructor(e,t){this.version=e,this.transformResults=t}}class kn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new kn}static exists(e){return new kn(void 0,e)}static updateTime(e){return new kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function jf(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class jd{}function D1(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new qy(r.key,kn.none()):new Rl(r.key,r.data,kn.none());{const t=r.data,i=En.empty();let a=new rt(_t.comparator);for(let l of e.fields)if(!a.has(l)){let c=t.field(l);c===null&&l.length>1&&(l=l.popLast(),c=t.field(l)),c===null?i.delete(l):i.set(l,c),a=a.add(l)}return new Us(r.key,i,new ti(a.toArray()),kn.none())}}function VV(r,e,t){r instanceof Rl?(function(a,l,c){const d=a.value.clone(),g=sE(a.fieldTransforms,l,c.transformResults);d.setAll(g),l.convertToFoundDocument(c.version,d).setHasCommittedMutations()})(r,e,t):r instanceof Us?(function(a,l,c){if(!jf(a.precondition,l))return void l.convertToUnknownDocument(c.version);const d=sE(a.fieldTransforms,l,c.transformResults),g=l.data;g.setAll(O1(a)),g.setAll(d),l.convertToFoundDocument(c.version,g).setHasCommittedMutations()})(r,e,t):(function(a,l,c){l.convertToNoDocument(c.version).setHasCommittedMutations()})(0,e,t)}function cc(r,e,t,i){return r instanceof Rl?(function(l,c,d,g){if(!jf(l.precondition,c))return d;const p=l.value.clone(),b=aE(l.fieldTransforms,g,c);return p.setAll(b),c.convertToFoundDocument(c.version,p).setHasLocalMutations(),null})(r,e,t,i):r instanceof Us?(function(l,c,d,g){if(!jf(l.precondition,c))return d;const p=aE(l.fieldTransforms,g,c),b=c.data;return b.setAll(O1(l)),b.setAll(p),c.convertToFoundDocument(c.version,b).setHasLocalMutations(),d===null?null:d.unionWith(l.fieldMask.fields).unionWith(l.fieldTransforms.map((T=>T.field)))})(r,e,t,i):(function(l,c,d){return jf(l.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):d})(r,e,t)}function MV(r,e){let t=null;for(const i of r.fieldTransforms){const a=e.data.field(i.field),l=x1(i.transform,a||null);l!=null&&(t===null&&(t=En.empty()),t.set(i.field,l))}return t||null}function rE(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&ol(i,a,((l,c)=>DV(l,c)))})(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Rl extends jd{constructor(e,t,i,a=[]){super(),this.key=e,this.value=t,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Us extends jd{constructor(e,t,i,a,l=[]){super(),this.key=e,this.data=t,this.fieldMask=i,this.precondition=a,this.fieldTransforms=l,this.type=1}getFieldMask(){return this.fieldMask}}function O1(r){const e=new Map;return r.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const i=r.data.field(t);e.set(t,i)}})),e}function sE(r,e,t){const i=new Map;be(r.length===t.length,32656,{Ve:t.length,de:r.length});for(let a=0;a<t.length;a++){const l=r[a],c=l.transform,d=e.data.field(l.field);i.set(l.field,CV(c,d,t[a]))}return i}function aE(r,e,t){const i=new Map;for(const a of r){const l=a.transform,c=t.data.field(a.field);i.set(a.field,RV(l,c,e))}return i}class qy extends jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class V1 extends jd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Hy{constructor(e,t,i,a){this.batchId=e,this.localWriteTime=t,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(e,t){const i=t.mutationResults;for(let a=0;a<this.mutations.length;a++){const l=this.mutations[a];l.key.isEqual(e.key)&&VV(l,e,i[a])}}applyToLocalView(e,t){for(const i of this.baseMutations)i.key.isEqual(e.key)&&(t=cc(i,e,t,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(e.key)&&(t=cc(i,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const i=A1();return this.mutations.forEach((a=>{const l=e.get(a.key),c=l.overlayedDocument;let d=this.applyToLocalView(c,l.mutatedFields);d=t.has(a.key)?null:d;const g=D1(c,d);g!==null&&i.set(a.key,g),c.isValidDocument()||c.convertToNoDocument(we.min())})),i}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),je())}isEqual(e){return this.batchId===e.batchId&&ol(this.mutations,e.mutations,((t,i)=>rE(t,i)))&&ol(this.baseMutations,e.baseMutations,((t,i)=>rE(t,i)))}}class Gy{constructor(e,t,i,a){this.batch=e,this.commitVersion=t,this.mutationResults=i,this.docVersions=a}static from(e,t,i){be(e.mutations.length===i.length,58842,{me:e.mutations.length,fe:i.length});let a=(function(){return SV})();const l=e.mutations;for(let c=0;c<l.length;c++)a=a.insert(l[c].key,i[c].version);return new Gy(e,t,i,a)}}class Ky{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class kV{constructor(e,t){this.count=e,this.unchangedNames=t}}var Ut,Ye;function PV(r){switch(r){case Z.OK:return de(64938);case Z.CANCELLED:case Z.UNKNOWN:case Z.DEADLINE_EXCEEDED:case Z.RESOURCE_EXHAUSTED:case Z.INTERNAL:case Z.UNAVAILABLE:case Z.UNAUTHENTICATED:return!1;case Z.INVALID_ARGUMENT:case Z.NOT_FOUND:case Z.ALREADY_EXISTS:case Z.PERMISSION_DENIED:case Z.FAILED_PRECONDITION:case Z.ABORTED:case Z.OUT_OF_RANGE:case Z.UNIMPLEMENTED:case Z.DATA_LOSS:return!0;default:return de(15467,{code:r})}}function M1(r){if(r===void 0)return xt("GRPC error has no .code"),Z.UNKNOWN;switch(r){case Ut.OK:return Z.OK;case Ut.CANCELLED:return Z.CANCELLED;case Ut.UNKNOWN:return Z.UNKNOWN;case Ut.DEADLINE_EXCEEDED:return Z.DEADLINE_EXCEEDED;case Ut.RESOURCE_EXHAUSTED:return Z.RESOURCE_EXHAUSTED;case Ut.INTERNAL:return Z.INTERNAL;case Ut.UNAVAILABLE:return Z.UNAVAILABLE;case Ut.UNAUTHENTICATED:return Z.UNAUTHENTICATED;case Ut.INVALID_ARGUMENT:return Z.INVALID_ARGUMENT;case Ut.NOT_FOUND:return Z.NOT_FOUND;case Ut.ALREADY_EXISTS:return Z.ALREADY_EXISTS;case Ut.PERMISSION_DENIED:return Z.PERMISSION_DENIED;case Ut.FAILED_PRECONDITION:return Z.FAILED_PRECONDITION;case Ut.ABORTED:return Z.ABORTED;case Ut.OUT_OF_RANGE:return Z.OUT_OF_RANGE;case Ut.UNIMPLEMENTED:return Z.UNIMPLEMENTED;case Ut.DATA_LOSS:return Z.DATA_LOSS;default:return de(39323,{code:r})}}(Ye=Ut||(Ut={}))[Ye.OK=0]="OK",Ye[Ye.CANCELLED=1]="CANCELLED",Ye[Ye.UNKNOWN=2]="UNKNOWN",Ye[Ye.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ye[Ye.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ye[Ye.NOT_FOUND=5]="NOT_FOUND",Ye[Ye.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ye[Ye.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ye[Ye.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ye[Ye.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ye[Ye.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ye[Ye.ABORTED=10]="ABORTED",Ye[Ye.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ye[Ye.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ye[Ye.INTERNAL=13]="INTERNAL",Ye[Ye.UNAVAILABLE=14]="UNAVAILABLE",Ye[Ye.DATA_LOSS=15]="DATA_LOSS";function LV(){return new TextEncoder}const UV=new Rs([4294967295,4294967295],0);function oE(r){const e=LV().encode(r),t=new NS;return t.update(e),new Uint8Array(t.digest())}function lE(r){const e=new DataView(r.buffer),t=e.getUint32(0,!0),i=e.getUint32(4,!0),a=e.getUint32(8,!0),l=e.getUint32(12,!0);return[new Rs([t,i],0),new Rs([a,l],0)]}class Yy{constructor(e,t,i){if(this.bitmap=e,this.padding=t,this.hashCount=i,t<0||t>=8)throw new Ju(`Invalid padding: ${t}`);if(i<0)throw new Ju(`Invalid hash count: ${i}`);if(e.length>0&&this.hashCount===0)throw new Ju(`Invalid hash count: ${i}`);if(e.length===0&&t!==0)throw new Ju(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Rs.fromNumber(this.ge)}ye(e,t,i){let a=e.add(t.multiply(Rs.fromNumber(i)));return a.compare(UV)===1&&(a=new Rs([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=oE(e),[i,a]=lE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);if(!this.we(c))return!1}return!0}static create(e,t,i){const a=e%8==0?0:8-e%8,l=new Uint8Array(Math.ceil(e/8)),c=new Yy(l,a,t);return i.forEach((d=>c.insert(d))),c}insert(e){if(this.ge===0)return;const t=oE(e),[i,a]=lE(t);for(let l=0;l<this.hashCount;l++){const c=this.ye(i,a,l);this.be(c)}}be(e){const t=Math.floor(e/8),i=e%8;this.bitmap[t]|=1<<i}}class Ju extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Uc{constructor(e,t,i,a,l){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=l}static createSynthesizedRemoteEventForCurrentChange(e,t,i){const a=new Map;return a.set(e,jc.createSynthesizedTargetChangeForCurrentChange(e,t,i)),new Uc(we.min(),a,new ft(Ne),Mn(),je())}}class jc{constructor(e,t,i,a,l){this.resumeToken=e,this.current=t,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=l}static createSynthesizedTargetChangeForCurrentChange(e,t,i){return new jc(i,t,je(),je(),je())}}class zf{constructor(e,t,i,a){this.Se=e,this.removedTargetIds=t,this.key=i,this.De=a}}class k1{constructor(e,t){this.targetId=e,this.Ce=t}}class P1{constructor(e,t,i=Rt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=t,this.resumeToken=i,this.cause=a}}class uE{constructor(){this.ve=0,this.Fe=cE(),this.Me=Rt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=je(),t=je(),i=je();return this.Fe.forEach(((a,l)=>{switch(l){case 0:e=e.add(a);break;case 2:t=t.add(a);break;case 1:i=i.add(a);break;default:de(38017,{changeType:l})}})),new jc(this.Me,this.xe,e,t,i)}Ke(){this.Oe=!1,this.Fe=cE()}qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,be(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class jV{constructor(e){this.Ge=e,this.ze=new Map,this.je=Mn(),this.He=bf(),this.Je=bf(),this.Ze=new ft(Ne)}Xe(e){for(const t of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const i=this.nt(t);switch(e.state){case 0:this.rt(t)&&i.Le(e.resumeToken);break;case 1:i.We(),i.Ne||i.Ke(),i.Le(e.resumeToken);break;case 2:i.We(),i.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(i.Qe(),i.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),i.Le(e.resumeToken));break;default:de(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((i,a)=>{this.rt(a)&&t(a)}))}st(e){const t=e.targetId,i=e.Ce.count,a=this.ot(t);if(a){const l=a.target;if(ad(l))if(i===0){const c=new ue(l.path);this.et(t,c,Et.newNoDocument(c,we.min()))}else be(i===1,20013,{expectedCount:i});else{const c=this._t(t);if(c!==i){const d=this.ut(e),g=d?this.ct(d,e,c):1;if(g!==0){this.it(t);const p=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:l=0}=t;let c,d;try{c=Dr(i).toUint8Array()}catch(g){if(g instanceof i1)return za("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{d=new Yy(c,a,l)}catch(g){return za(g instanceof Ju?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return d.ge===0?null:d}ct(e,t,i){return t.Ce.count===i-this.Pt(e,t.targetId)?0:2}Pt(e,t){const i=this.Ge.getRemoteKeysForTarget(t);let a=0;return i.forEach((l=>{const c=this.Ge.ht(),d=`projects/${c.projectId}/databases/${c.database}/documents/${l.path.canonicalString()}`;e.mightContain(d)||(this.et(t,l,null),a++)})),a}Tt(e){const t=new Map;this.ze.forEach(((l,c)=>{const d=this.ot(c);if(d){if(l.current&&ad(d.target)){const g=new ue(d.target.path);this.It(g).has(c)||this.Et(c,g)||this.et(c,g,Et.newNoDocument(g,e))}l.Be&&(t.set(c,l.ke()),l.Ke())}}));let i=je();this.Je.forEach(((l,c)=>{let d=!0;c.forEachWhile((g=>{const p=this.ot(g);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(i=i.add(l))})),this.je.forEach(((l,c)=>c.setReadTime(e)));const a=new Uc(e,t,this.Ze,this.je,i);return this.je=Mn(),this.He=bf(),this.Je=bf(),this.Ze=new ft(Ne),a}Ye(e,t){if(!this.rt(e))return;const i=this.Et(e,t.key)?2:0;this.nt(e).qe(t.key,i),this.je=this.je.insert(t.key,t),this.He=this.He.insert(t.key,this.It(t.key).add(e)),this.Je=this.Je.insert(t.key,this.Rt(t.key).add(e))}et(e,t,i){if(!this.rt(e))return;const a=this.nt(e);this.Et(e,t)?a.qe(t,1):a.Ue(t),this.Je=this.Je.insert(t,this.Rt(t).delete(e)),this.Je=this.Je.insert(t,this.Rt(t).add(e)),i&&(this.je=this.je.insert(t,i))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let t=this.ze.get(e);return t||(t=new uE,this.ze.set(e,t)),t}Rt(e){let t=this.Je.get(e);return t||(t=new rt(Ne),this.Je=this.Je.insert(e,t)),t}It(e){let t=this.He.get(e);return t||(t=new rt(Ne),this.He=this.He.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ne("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new uE),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function bf(){return new ft(ue.comparator)}function cE(){return new ft(ue.comparator)}const zV={asc:"ASCENDING",desc:"DESCENDING"},BV={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},FV={and:"AND",or:"OR"};class qV{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Hp(r,e){return r.useProto3Json||Nd(e)?e:{value:e}}function vl(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function L1(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function HV(r,e){return vl(r,e.toTimestamp())}function mn(r){return be(!!r,49232),we.fromTimestamp((function(t){const i=Nr(t);return new it(i.seconds,i.nanos)})(r))}function Qy(r,e){return Gp(r,e).canonicalString()}function Gp(r,e){const t=(function(a){return new ut(["projects",a.projectId,"databases",a.database])})(r).child("documents");return e===void 0?t:t.child(e)}function U1(r){const e=ut.fromString(r);return be(Y1(e),10190,{key:e.toString()}),e}function ld(r,e){return Qy(r.databaseId,e.path)}function Oa(r,e){const t=U1(e);if(t.get(1)!==r.databaseId.projectId)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+r.databaseId.projectId);if(t.get(3)!==r.databaseId.database)throw new he(Z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+r.databaseId.database);return new ue(B1(t))}function j1(r,e){return Qy(r.databaseId,e)}function z1(r){const e=U1(r);return e.length===4?ut.emptyPath():B1(e)}function Kp(r){return new ut(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function B1(r){return be(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function hE(r,e,t){return{name:ld(r,e),fields:t.value.mapValue.fields}}function GV(r,e,t){const i=Oa(r,e.name),a=mn(e.updateTime),l=e.createTime?mn(e.createTime):we.min(),c=new En({mapValue:{fields:e.fields}}),d=Et.newFoundDocument(i,a,l,c);return t&&d.setHasCommittedMutations(),t?d.setHasCommittedMutations():d}function KV(r,e){let t;if("targetChange"in e){e.targetChange;const i=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:de(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],l=(function(p,b){return p.useProto3Json?(be(b===void 0||typeof b=="string",58123),Rt.fromBase64String(b||"")):(be(b===void 0||b instanceof Buffer||b instanceof Uint8Array,16193),Rt.fromUint8Array(b||new Uint8Array))})(r,e.targetChange.resumeToken),c=e.targetChange.cause,d=c&&(function(p){const b=p.code===void 0?Z.UNKNOWN:M1(p.code);return new he(b,p.message||"")})(c);t=new P1(i,a,l,d||null)}else if("documentChange"in e){e.documentChange;const i=e.documentChange;i.document,i.document.name,i.document.updateTime;const a=Oa(r,i.document.name),l=mn(i.document.updateTime),c=i.document.createTime?mn(i.document.createTime):we.min(),d=new En({mapValue:{fields:i.document.fields}}),g=Et.newFoundDocument(a,l,c,d),p=i.targetIds||[],b=i.removedTargetIds||[];t=new zf(p,b,g.key,g)}else if("documentDelete"in e){e.documentDelete;const i=e.documentDelete;i.document;const a=Oa(r,i.document),l=i.readTime?mn(i.readTime):we.min(),c=Et.newNoDocument(a,l),d=i.removedTargetIds||[];t=new zf([],d,c.key,c)}else if("documentRemove"in e){e.documentRemove;const i=e.documentRemove;i.document;const a=Oa(r,i.document),l=i.removedTargetIds||[];t=new zf([],l,a,null)}else{if(!("filter"in e))return de(11601,{Vt:e});{e.filter;const i=e.filter;i.targetId;const{count:a=0,unchangedNames:l}=i,c=new kV(a,l),d=i.targetId;t=new k1(d,c)}}return t}function ud(r,e){let t;if(e instanceof Rl)t={update:hE(r,e.key,e.value)};else if(e instanceof qy)t={delete:ld(r,e.key)};else if(e instanceof Us)t={update:hE(r,e.key,e.data),updateMask:JV(e.fieldMask)};else{if(!(e instanceof V1))return de(16599,{dt:e.type});t={verify:ld(r,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((i=>(function(l,c){const d=c.transform;if(d instanceof Ec)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof yl)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof _l)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof wc)return{fieldPath:c.field.canonicalString(),increment:d.Ae};throw de(20930,{transform:c.transform})})(0,i)))),e.precondition.isNone||(t.currentDocument=(function(a,l){return l.updateTime!==void 0?{updateTime:HV(a,l.updateTime)}:l.exists!==void 0?{exists:l.exists}:de(27497)})(r,e.precondition)),t}function Yp(r,e){const t=e.currentDocument?(function(l){return l.updateTime!==void 0?kn.updateTime(mn(l.updateTime)):l.exists!==void 0?kn.exists(l.exists):kn.none()})(e.currentDocument):kn.none(),i=e.updateTransforms?e.updateTransforms.map((a=>(function(c,d){let g=null;if("setToServerValue"in d)be(d.setToServerValue==="REQUEST_TIME",16630,{proto:d}),g=new Ec;else if("appendMissingElements"in d){const b=d.appendMissingElements.values||[];g=new yl(b)}else if("removeAllFromArray"in d){const b=d.removeAllFromArray.values||[];g=new _l(b)}else"increment"in d?g=new wc(c,d.increment):de(16584,{proto:d});const p=_t.fromServerFormat(d.fieldPath);return new NV(p,g)})(r,a))):[];if(e.update){e.update.name;const a=Oa(r,e.update.name),l=new En({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=(function(g){const p=g.fieldPaths||[];return new ti(p.map((b=>_t.fromServerFormat(b))))})(e.updateMask);return new Us(a,l,c,t,i)}return new Rl(a,l,t,i)}if(e.delete){const a=Oa(r,e.delete);return new qy(a,t)}if(e.verify){const a=Oa(r,e.verify);return new V1(a,t)}return de(1463,{proto:e})}function YV(r,e){return r&&r.length>0?(be(e!==void 0,14353),r.map((t=>(function(a,l){let c=a.updateTime?mn(a.updateTime):mn(l);return c.isEqual(we.min())&&(c=mn(l)),new OV(c,a.transformResults||[])})(t,e)))):[]}function F1(r,e){return{documents:[j1(r,e.path)]}}function q1(r,e){const t={structuredQuery:{}},i=e.path;let a;e.collectionGroup!==null?(a=i,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=i.popLast(),t.structuredQuery.from=[{collectionId:i.lastSegment()}]),t.parent=j1(r,a);const l=(function(p){if(p.length!==0)return K1(ct.create(p,"and"))})(e.filters);l&&(t.structuredQuery.where=l);const c=(function(p){if(p.length!==0)return p.map((b=>(function(I){return{field:Xo(I.field),direction:$V(I.dir)}})(b)))})(e.orderBy);c&&(t.structuredQuery.orderBy=c);const d=Hp(r,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:a}}function H1(r){let e=z1(r.parent);const t=r.structuredQuery,i=t.from?t.from.length:0;let a=null;if(i>0){be(i===1,65062);const b=t.from[0];b.allDescendants?a=b.collectionId:e=e.child(b.collectionId)}let l=[];t.where&&(l=(function(T){const I=G1(T);return I instanceof ct&&zy(I)?I.getFilters():[I]})(t.where));let c=[];t.orderBy&&(c=(function(T){return T.map((I=>(function(Q){return new sd(Wo(Q.field),(function(te){switch(te){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(Q.direction))})(I)))})(t.orderBy));let d=null;t.limit&&(d=(function(T){let I;return I=typeof T=="object"?T.value:T,Nd(I)?null:I})(t.limit));let g=null;t.startAt&&(g=(function(T){const I=!!T.before,j=T.values||[];return new gl(j,I)})(t.startAt));let p=null;return t.endAt&&(p=(function(T){const I=!T.before,j=T.values||[];return new gl(j,I)})(t.endAt)),v1(e,a,c,l,d,"F",g,p)}function QV(r,e){const t=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:a})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function G1(r){return r.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const i=Wo(t.unaryFilter.field);return Ke.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Wo(t.unaryFilter.field);return Ke.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const l=Wo(t.unaryFilter.field);return Ke.create(l,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Wo(t.unaryFilter.field);return Ke.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}})(r):r.fieldFilter!==void 0?(function(t){return Ke.create(Wo(t.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(r):r.compositeFilter!==void 0?(function(t){return ct.create(t.compositeFilter.filters.map((i=>G1(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return de(1026)}})(t.compositeFilter.op))})(r):de(30097,{filter:r})}function $V(r){return zV[r]}function XV(r){return BV[r]}function WV(r){return FV[r]}function Xo(r){return{fieldPath:r.canonicalString()}}function Wo(r){return _t.fromServerFormat(r.fieldPath)}function K1(r){return r instanceof Ke?(function(t){if(t.op==="=="){if($T(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NAN"}};if(QT(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if($T(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NAN"}};if(QT(t.value))return{unaryFilter:{field:Xo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xo(t.field),op:XV(t.op),value:t.value}}})(r):r instanceof ct?(function(t){const i=t.getFilters().map((a=>K1(a)));return i.length===1?i[0]:{compositeFilter:{op:WV(t.op),filters:i}}})(r):de(54877,{filter:r})}function JV(r){const e=[];return r.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function Y1(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}function Q1(r){return!!r&&typeof r._toProto=="function"&&r._protoValueType==="ProtoValue"}class Ir{constructor(e,t,i,a,l=we.min(),c=we.min(),d=Rt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=t,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=l,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=d,this.expectedCount=g}withSequenceNumber(e){return new Ir(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ir(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class $1{constructor(e){this.yt=e}}function ZV(r,e){let t;if(e.document)t=GV(r.yt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const i=ue.fromSegments(e.noDocument.path),a=Ha(e.noDocument.readTime);t=Et.newNoDocument(i,a),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return de(56709);{const i=ue.fromSegments(e.unknownDocument.path),a=Ha(e.unknownDocument.version);t=Et.newUnknownDocument(i,a)}}return e.readTime&&t.setReadTime((function(a){const l=new it(a[0],a[1]);return we.fromTimestamp(l)})(e.readTime)),t}function fE(r,e){const t=e.key,i={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:cd(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())i.document=(function(l,c){return{name:ld(l,c.key),fields:c.data.value.mapValue.fields,updateTime:vl(l,c.version.toTimestamp()),createTime:vl(l,c.createTime.toTimestamp())}})(r.yt,e);else if(e.isNoDocument())i.noDocument={path:t.path.toArray(),readTime:qa(e.version)};else{if(!e.isUnknownDocument())return de(57904,{document:e});i.unknownDocument={path:t.path.toArray(),version:qa(e.version)}}return i}function cd(r){const e=r.toTimestamp();return[e.seconds,e.nanoseconds]}function qa(r){const e=r.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Ha(r){const e=new it(r.seconds,r.nanoseconds);return we.fromTimestamp(e)}function wa(r,e){const t=(e.baseMutations||[]).map((l=>Yp(r.yt,l)));for(let l=0;l<e.mutations.length-1;++l){const c=e.mutations[l];if(l+1<e.mutations.length&&e.mutations[l+1].transform!==void 0){const d=e.mutations[l+1];c.updateTransforms=d.transform.fieldTransforms,e.mutations.splice(l+1,1),++l}}const i=e.mutations.map((l=>Yp(r.yt,l))),a=it.fromMillis(e.localWriteTimeMs);return new Hy(e.batchId,a,t,i)}function Zu(r){const e=Ha(r.readTime),t=r.lastLimboFreeSnapshotVersion!==void 0?Ha(r.lastLimboFreeSnapshotVersion):we.min();let i;return i=(function(l){return l.documents!==void 0})(r.query)?(function(l){const c=l.documents.length;return be(c===1,1966,{count:c}),Ln(Pc(z1(l.documents[0])))})(r.query):(function(l){return Ln(H1(l))})(r.query),new Ir(i,r.targetId,"TargetPurposeListen",r.lastListenSequenceNumber,e,t,Rt.fromBase64String(r.resumeToken))}function X1(r,e){const t=qa(e.snapshotVersion),i=qa(e.lastLimboFreeSnapshotVersion);let a;a=ad(e.target)?F1(r.yt,e.target):q1(r.yt,e.target).ft;const l=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:Fa(e.target),readTime:t,resumeToken:l,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:a}}function W1(r){const e=H1({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?qp(e,e.limit,"L"):e}function cp(r,e){return new Ky(e.largestBatchId,Yp(r.yt,e.overlayMutation))}function dE(r,e){const t=e.path.lastSegment();return[r,ln(e.path.popLast()),t]}function mE(r,e,t,i){return{indexId:r,uid:e,sequenceNumber:t,readTime:qa(i.readTime),documentKey:ln(i.documentKey.path),largestBatchId:i.largestBatchId}}class eM{getBundleMetadata(e,t){return gE(e).get(t).next((i=>{if(i)return(function(l){return{id:l.bundleId,createTime:Ha(l.createTime),version:l.version}})(i)}))}saveBundleMetadata(e,t){return gE(e).put((function(a){return{bundleId:a.id,createTime:qa(mn(a.createTime)),version:a.version}})(t))}getNamedQuery(e,t){return pE(e).get(t).next((i=>{if(i)return(function(l){return{name:l.name,query:W1(l.bundledQuery),readTime:Ha(l.readTime)}})(i)}))}saveNamedQuery(e,t){return pE(e).put((function(a){return{name:a.name,readTime:qa(mn(a.readTime)),bundledQuery:a.bundledQuery}})(t))}}function gE(r){return Gt(r,Dd)}function pE(r){return Gt(r,Od)}class zd{constructor(e,t){this.serializer=e,this.userId=t}static wt(e,t){const i=t.uid||"";return new zd(e,i)}getOverlay(e,t){return zu(e).get(dE(this.userId,t)).next((i=>i?cp(this.serializer,i):null))}getOverlays(e,t){const i=$i();return U.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){const a=[];return i.forEach(((l,c)=>{const d=new Ky(t,c);a.push(this.bt(e,d))})),U.waitFor(a)}removeOverlaysForBatchId(e,t,i){const a=new Set;t.forEach((c=>a.add(ln(c.getCollectionPath()))));const l=[];return a.forEach((c=>{const d=IDBKeyRange.bound([this.userId,c,i],[this.userId,c,i+1],!1,!0);l.push(zu(e).X(Pp,d))})),U.waitFor(l)}getOverlaysForCollection(e,t,i){const a=$i(),l=ln(t),c=IDBKeyRange.bound([this.userId,l,i],[this.userId,l,Number.POSITIVE_INFINITY],!0);return zu(e).H(Pp,c).next((d=>{for(const g of d){const p=cp(this.serializer,g);a.set(p.getKey(),p)}return a}))}getOverlaysForCollectionGroup(e,t,i,a){const l=$i();let c;const d=IDBKeyRange.bound([this.userId,t,i],[this.userId,t,Number.POSITIVE_INFINITY],!0);return zu(e).ee({index:WS,range:d},((g,p,b)=>{const T=cp(this.serializer,p);l.size()<a||T.largestBatchId===c?(l.set(T.getKey(),T),c=T.largestBatchId):b.done()})).next((()=>l))}bt(e,t){return zu(e).put((function(a,l,c){const[d,g,p]=dE(l,c.mutation.key);return{userId:l,collectionPath:g,documentId:p,collectionGroup:c.mutation.key.getCollectionGroup(),largestBatchId:c.largestBatchId,overlayMutation:ud(a.yt,c.mutation)}})(this.serializer,this.userId,t))}}function zu(r){return Gt(r,Vd)}class tM{St(e){return Gt(e,My)}getSessionToken(e){return this.St(e).get("sessionToken").next((t=>{const i=t?.value;return i?Rt.fromUint8Array(i):Rt.EMPTY_BYTE_STRING}))}setSessionToken(e,t){return this.St(e).put({name:"sessionToken",value:t.toUint8Array()})}}class Sa{constructor(){}Dt(e,t){this.Ct(e,t),t.vt()}Ct(e,t){if("nullValue"in e)this.Ft(t,5);else if("booleanValue"in e)this.Ft(t,10),t.Mt(e.booleanValue?1:0);else if("integerValue"in e)this.Ft(t,15),t.Mt(yt(e.integerValue));else if("doubleValue"in e){const i=yt(e.doubleValue);isNaN(i)?this.Ft(t,13):(this.Ft(t,15),gc(i)?t.Mt(0):t.Mt(i))}else if("timestampValue"in e){let i=e.timestampValue;this.Ft(t,20),typeof i=="string"&&(i=Nr(i)),t.xt(`${i.seconds||""}`),t.Mt(i.nanos||0)}else if("stringValue"in e)this.Ot(e.stringValue,t),this.Nt(t);else if("bytesValue"in e)this.Ft(t,30),t.Bt(Dr(e.bytesValue)),this.Nt(t);else if("referenceValue"in e)this.Lt(e.referenceValue,t);else if("geoPointValue"in e){const i=e.geoPointValue;this.Ft(t,45),t.Mt(i.latitude||0),t.Mt(i.longitude||0)}else"mapValue"in e?u1(e)?this.Ft(t,Number.MAX_SAFE_INTEGER):kd(e)?this.kt(e.mapValue,t):(this.Kt(e.mapValue,t),this.Nt(t)):"arrayValue"in e?(this.qt(e.arrayValue,t),this.Nt(t)):de(19022,{Ut:e})}Ot(e,t){this.Ft(t,25),this.$t(e,t)}$t(e,t){t.xt(e)}Kt(e,t){const i=e.fields||{};this.Ft(t,55);for(const a of Object.keys(i))this.Ot(a,t),this.Ct(i[a],t)}kt(e,t){const i=e.fields||{};this.Ft(t,53);const a=dl,l=i[a].arrayValue?.values?.length||0;this.Ft(t,15),t.Mt(yt(l)),this.Ot(a,t),this.Ct(i[a],t)}qt(e,t){const i=e.values||[];this.Ft(t,50);for(const a of i)this.Ct(a,t)}Lt(e,t){this.Ft(t,37),ue.fromName(e).path.forEach((i=>{this.Ft(t,60),this.$t(i,t)}))}Ft(e,t){e.Mt(t)}Nt(e){e.Mt(2)}}Sa.Wt=new Sa;const Fo=255;function nM(r){if(r===0)return 8;let e=0;return r>>4||(e+=4,r<<=4),r>>6||(e+=2,r<<=2),r>>7||(e+=1),e}function yE(r){const e=64-(function(i){let a=0;for(let l=0;l<8;++l){const c=nM(255&i[l]);if(a+=c,c!==8)break}return a})(r);return Math.ceil(e/8)}class iM{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Qt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Gt(i.value),i=t.next();this.zt()}jt(e){const t=e[Symbol.iterator]();let i=t.next();for(;!i.done;)this.Ht(i.value),i=t.next();this.Jt()}Zt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Gt(i);else if(i<2048)this.Gt(960|i>>>6),this.Gt(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Gt(480|i>>>12),this.Gt(128|63&i>>>6),this.Gt(128|63&i);else{const a=t.codePointAt(0);this.Gt(240|a>>>18),this.Gt(128|63&a>>>12),this.Gt(128|63&a>>>6),this.Gt(128|63&a)}}this.zt()}Xt(e){for(const t of e){const i=t.charCodeAt(0);if(i<128)this.Ht(i);else if(i<2048)this.Ht(960|i>>>6),this.Ht(128|63&i);else if(t<"\uD800"||"\uDBFF"<t)this.Ht(480|i>>>12),this.Ht(128|63&i>>>6),this.Ht(128|63&i);else{const a=t.codePointAt(0);this.Ht(240|a>>>18),this.Ht(128|63&a>>>12),this.Ht(128|63&a>>>6),this.Ht(128|63&a)}}this.Jt()}Yt(e){const t=this.en(e),i=yE(t);this.tn(1+i),this.buffer[this.position++]=255&i;for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=255&t[a]}nn(e){const t=this.en(e),i=yE(t);this.tn(1+i),this.buffer[this.position++]=~(255&i);for(let a=t.length-i;a<t.length;++a)this.buffer[this.position++]=~(255&t[a])}rn(){this.sn(Fo),this.sn(255)}_n(){this.an(Fo),this.an(255)}reset(){this.position=0}seed(e){this.tn(e.length),this.buffer.set(e,this.position),this.position+=e.length}un(){return this.buffer.slice(0,this.position)}en(e){const t=(function(l){const c=new DataView(new ArrayBuffer(8));return c.setFloat64(0,l,!1),new Uint8Array(c.buffer)})(e),i=!!(128&t[0]);t[0]^=i?255:128;for(let a=1;a<t.length;++a)t[a]^=i?255:0;return t}Gt(e){const t=255&e;t===0?(this.sn(0),this.sn(255)):t===Fo?(this.sn(Fo),this.sn(0)):this.sn(t)}Ht(e){const t=255&e;t===0?(this.an(0),this.an(255)):t===Fo?(this.an(Fo),this.an(0)):this.an(e)}zt(){this.sn(0),this.sn(1)}Jt(){this.an(0),this.an(1)}sn(e){this.tn(1),this.buffer[this.position++]=e}an(e){this.tn(1),this.buffer[this.position++]=~e}tn(e){const t=e+this.position;if(t<=this.buffer.length)return;let i=2*this.buffer.length;i<t&&(i=t);const a=new Uint8Array(i);a.set(this.buffer),this.buffer=a}}class rM{constructor(e){this.cn=e}Bt(e){this.cn.Qt(e)}xt(e){this.cn.Zt(e)}Mt(e){this.cn.Yt(e)}vt(){this.cn.rn()}}class sM{constructor(e){this.cn=e}Bt(e){this.cn.jt(e)}xt(e){this.cn.Xt(e)}Mt(e){this.cn.nn(e)}vt(){this.cn._n()}}class Bu{constructor(){this.cn=new iM,this.ascending=new rM(this.cn),this.descending=new sM(this.cn)}seed(e){this.cn.seed(e)}ln(e){return e===0?this.ascending:this.descending}un(){return this.cn.un()}reset(){this.cn.reset()}}class Aa{constructor(e,t,i,a){this.hn=e,this.Pn=t,this.Tn=i,this.In=a}En(){const e=this.In.length,t=e===0||this.In[e-1]===255?e+1:e,i=new Uint8Array(t);return i.set(this.In,0),t!==e?i.set([0],this.In.length):++i[i.length-1],new Aa(this.hn,this.Pn,this.Tn,i)}Rn(e,t,i){return{indexId:this.hn,uid:e,arrayValue:Bf(this.Tn),directionalValue:Bf(this.In),orderedDocumentKey:Bf(t),documentKey:i.path.toArray()}}An(e,t,i){const a=this.Rn(e,t,i);return[a.indexId,a.uid,a.arrayValue,a.directionalValue,a.orderedDocumentKey,a.documentKey]}}function ms(r,e){let t=r.hn-e.hn;return t!==0?t:(t=_E(r.Tn,e.Tn),t!==0?t:(t=_E(r.In,e.In),t!==0?t:ue.comparator(r.Pn,e.Pn)))}function _E(r,e){for(let t=0;t<r.length&&t<e.length;++t){const i=r[t]-e[t];if(i!==0)return i}return r.length-e.length}function Bf(r){return Aw()?(function(t){let i="";for(let a=0;a<t.length;a++)i+=String.fromCharCode(t[a]);return i})(r):r}function vE(r){return typeof r!="string"?r:(function(t){const i=new Uint8Array(t.length);for(let a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return i})(r)}class bE{constructor(e){this.Vn=new rt(((t,i)=>_t.comparator(t.field,i.field))),this.collectionId=e.collectionGroup!=null?e.collectionGroup:e.path.lastSegment(),this.dn=e.orderBy,this.mn=[];for(const t of e.filters){const i=t;i.isInequality()?this.Vn=this.Vn.add(i):this.mn.push(i)}}get fn(){return this.Vn.size>1}gn(e){if(be(e.collectionGroup===this.collectionId,49279),this.fn)return!1;const t=Vp(e);if(t!==void 0&&!this.pn(t))return!1;const i=va(e);let a=new Set,l=0,c=0;for(;l<i.length&&this.pn(i[l]);++l)a=a.add(i[l].fieldPath.canonicalString());if(l===i.length)return!0;if(this.Vn.size>0){const d=this.Vn.getIterator().getNext();if(!a.has(d.field.canonicalString())){const g=i[l];if(!this.yn(d,g)||!this.wn(this.dn[c++],g))return!1}++l}for(;l<i.length;++l){const d=i[l];if(c>=this.dn.length||!this.wn(this.dn[c++],d))return!1}return!0}bn(){if(this.fn)return null;let e=new rt(_t.comparator);const t=[];for(const i of this.mn)if(!i.field.isKeyField())if(i.op==="array-contains"||i.op==="array-contains-any")t.push(new Vf(i.field,2));else{if(e.has(i.field))continue;e=e.add(i.field),t.push(new Vf(i.field,0))}for(const i of this.dn)i.field.isKeyField()||e.has(i.field)||(e=e.add(i.field),t.push(new Vf(i.field,i.dir==="asc"?0:1)));return new ed(ed.UNKNOWN_ID,this.collectionId,t,mc.empty())}pn(e){for(const t of this.mn)if(this.yn(t,e))return!0;return!1}yn(e,t){if(e===void 0||!e.field.isEqual(t.fieldPath))return!1;const i=e.op==="array-contains"||e.op==="array-contains-any";return t.kind===2===i}wn(e,t){return!!e.field.isEqual(t.fieldPath)&&(t.kind===0&&e.dir==="asc"||t.kind===1&&e.dir==="desc")}}function J1(r){if(be(r instanceof Ke||r instanceof ct,20012),r instanceof Ke){if(r instanceof _1){const t=r.value.arrayValue?.values?.map((i=>Ke.create(r.field,"==",i)))||[];return ct.create(t,"or")}return r}const e=r.filters.map((t=>J1(t)));return ct.create(e,r.op)}function aM(r){if(r.getFilters().length===0)return[];const e=Xp(J1(r));return be(Z1(e),7391),Qp(e)||$p(e)?[e]:e.getFilters()}function Qp(r){return r instanceof Ke}function $p(r){return r instanceof ct&&zy(r)}function Z1(r){return Qp(r)||$p(r)||(function(t){if(t instanceof ct&&zp(t)){for(const i of t.getFilters())if(!Qp(i)&&!$p(i))return!1;return!0}return!1})(r)}function Xp(r){if(be(r instanceof Ke||r instanceof ct,34018),r instanceof Ke)return r;if(r.filters.length===1)return Xp(r.filters[0]);const e=r.filters.map((i=>Xp(i)));let t=ct.create(e,r.op);return t=hd(t),Z1(t)?t:(be(t instanceof ct,64498),be(pl(t),40251),be(t.filters.length>1,57927),t.filters.reduce(((i,a)=>$y(i,a))))}function $y(r,e){let t;return be(r instanceof Ke||r instanceof ct,38388),be(e instanceof Ke||e instanceof ct,25473),t=r instanceof Ke?e instanceof Ke?(function(a,l){return ct.create([a,l],"and")})(r,e):TE(r,e):e instanceof Ke?TE(e,r):(function(a,l){if(be(a.filters.length>0&&l.filters.length>0,48005),pl(a)&&pl(l))return g1(a,l.getFilters());const c=zp(a)?a:l,d=zp(a)?l:a,g=c.filters.map((p=>$y(p,d)));return ct.create(g,"or")})(r,e),hd(t)}function TE(r,e){if(pl(e))return g1(e,r.getFilters());{const t=e.filters.map((i=>$y(r,i)));return ct.create(t,"or")}}function hd(r){if(be(r instanceof Ke||r instanceof ct,11850),r instanceof Ke)return r;const e=r.getFilters();if(e.length===1)return hd(e[0]);if(d1(r))return r;const t=e.map((a=>hd(a))),i=[];return t.forEach((a=>{a instanceof Ke?i.push(a):a instanceof ct&&(a.op===r.op?i.push(...a.filters):i.push(a))})),i.length===1?i[0]:ct.create(i,r.op)}class oM{constructor(){this.Sn=new Xy}addToCollectionParentIndex(e,t){return this.Sn.add(t),U.resolve()}getCollectionParents(e,t){return U.resolve(this.Sn.getEntries(t))}addFieldIndex(e,t){return U.resolve()}deleteFieldIndex(e,t){return U.resolve()}deleteAllFieldIndexes(e){return U.resolve()}createTargetIndexes(e,t){return U.resolve()}getDocumentsMatchingTarget(e,t){return U.resolve(null)}getIndexType(e,t){return U.resolve(0)}getFieldIndexes(e,t){return U.resolve([])}getNextCollectionGroupToUpdate(e){return U.resolve(null)}getMinOffset(e,t){return U.resolve(Un.min())}getMinOffsetFromCollectionGroup(e,t){return U.resolve(Un.min())}updateCollectionGroup(e,t,i){return U.resolve()}updateIndexEntries(e,t){return U.resolve()}}class Xy{constructor(){this.index={}}add(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t]||new rt(ut.comparator),l=!a.has(i);return this.index[t]=a.add(i),l}has(e){const t=e.lastSegment(),i=e.popLast(),a=this.index[t];return a&&a.has(i)}getEntries(e){return(this.index[e]||new rt(ut.comparator)).toArray()}}const EE="IndexedDbIndexManager",Tf=new Uint8Array(0);class lM{constructor(e,t){this.databaseId=t,this.Dn=new Xy,this.Cn=new Vr((i=>Fa(i)),((i,a)=>kc(i,a))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Dn.has(t)){const i=t.lastSegment(),a=t.popLast();e.addOnCommittedListener((()=>{this.Dn.add(t)}));const l={collectionId:i,parent:ln(a)};return wE(e).put(l)}return U.resolve()}getCollectionParents(e,t){const i=[],a=IDBKeyRange.bound([t,""],[US(t),""],!1,!0);return wE(e).H(a).next((l=>{for(const c of l){if(c.collectionId!==t)break;i.push(Qi(c.parent))}return i}))}addFieldIndex(e,t){const i=Fu(e),a=(function(d){return{indexId:d.indexId,collectionGroup:d.collectionGroup,fields:d.fields.map((g=>[g.fieldPath.canonicalString(),g.kind]))}})(t);delete a.indexId;const l=i.add(a);if(t.indexState){const c=Ho(e);return l.next((d=>{c.put(mE(d,this.uid,t.indexState.sequenceNumber,t.indexState.offset))}))}return l.next()}deleteFieldIndex(e,t){const i=Fu(e),a=Ho(e),l=qo(e);return i.delete(t.indexId).next((()=>a.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>l.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}deleteAllFieldIndexes(e){const t=Fu(e),i=qo(e),a=Ho(e);return t.X().next((()=>i.X())).next((()=>a.X()))}createTargetIndexes(e,t){return U.forEach(this.vn(t),(i=>this.getIndexType(e,i).next((a=>{if(a===0||a===1){const l=new bE(i).bn();if(l!=null)return this.addFieldIndex(e,l)}}))))}getDocumentsMatchingTarget(e,t){const i=qo(e);let a=!0;const l=new Map;return U.forEach(this.vn(t),(c=>this.Fn(e,c).next((d=>{a&&(a=!!d),l.set(c,d)})))).next((()=>{if(a){let c=je();const d=[];return U.forEach(l,((g,p)=>{ne(EE,`Using index ${(function(ae){return`id=${ae.indexId}|cg=${ae.collectionGroup}|f=${ae.fields.map((Se=>`${Se.fieldPath}:${Se.kind}`)).join(",")}`})(g)} to execute ${Fa(t)}`);const b=(function(ae,Se){const Te=Vp(Se);if(Te===void 0)return null;for(const ve of od(ae,Te.fieldPath))switch(ve.op){case"array-contains-any":return ve.value.arrayValue.values||[];case"array-contains":return[ve.value]}return null})(p,g),T=(function(ae,Se){const Te=new Map;for(const ve of va(Se))for(const x of od(ae,ve.fieldPath))switch(x.op){case"==":case"in":Te.set(ve.fieldPath.canonicalString(),x.value);break;case"not-in":case"!=":return Te.set(ve.fieldPath.canonicalString(),x.value),Array.from(Te.values())}return null})(p,g),I=(function(ae,Se){const Te=[];let ve=!0;for(const x of va(Se)){const A=x.kind===0?eE(ae,x.fieldPath,ae.startAt):tE(ae,x.fieldPath,ae.startAt);Te.push(A.value),ve&&(ve=A.inclusive)}return new gl(Te,ve)})(p,g),j=(function(ae,Se){const Te=[];let ve=!0;for(const x of va(Se)){const A=x.kind===0?tE(ae,x.fieldPath,ae.endAt):eE(ae,x.fieldPath,ae.endAt);Te.push(A.value),ve&&(ve=A.inclusive)}return new gl(Te,ve)})(p,g),Q=this.Mn(g,p,I),ee=this.Mn(g,p,j),te=this.xn(g,p,T),ce=this.On(g.indexId,b,Q,I.inclusive,ee,j.inclusive,te);return U.forEach(ce,(fe=>i.Z(fe,t.limit).next((ae=>{ae.forEach((Se=>{const Te=ue.fromSegments(Se.documentKey);c.has(Te)||(c=c.add(Te),d.push(Te))}))}))))})).next((()=>d))}return U.resolve(null)}))}vn(e){let t=this.Cn.get(e);return t||(e.filters.length===0?t=[e]:t=aM(ct.create(e.filters,"and")).map((i=>Fp(e.path,e.collectionGroup,e.orderBy,i.getFilters(),e.limit,e.startAt,e.endAt))),this.Cn.set(e,t),t)}On(e,t,i,a,l,c,d){const g=(t!=null?t.length:1)*Math.max(i.length,l.length),p=g/(t!=null?t.length:1),b=[];for(let T=0;T<g;++T){const I=t?this.Nn(t[T/p]):Tf,j=this.Bn(e,I,i[T%p],a),Q=this.Ln(e,I,l[T%p],c),ee=d.map((te=>this.Bn(e,I,te,!0)));b.push(...this.createRange(j,Q,ee))}return b}Bn(e,t,i,a){const l=new Aa(e,ue.empty(),t,i);return a?l:l.En()}Ln(e,t,i,a){const l=new Aa(e,ue.empty(),t,i);return a?l.En():l}Fn(e,t){const i=new bE(t),a=t.collectionGroup!=null?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,a).next((l=>{let c=null;for(const d of l)i.gn(d)&&(!c||d.fields.length>c.fields.length)&&(c=d);return c}))}getIndexType(e,t){let i=2;const a=this.vn(t);return U.forEach(a,(l=>this.Fn(e,l).next((c=>{c?i!==0&&c.fields.length<(function(g){let p=new rt(_t.comparator),b=!1;for(const T of g.filters)for(const I of T.getFlattenedFilters())I.field.isKeyField()||(I.op==="array-contains"||I.op==="array-contains-any"?b=!0:p=p.add(I.field));for(const T of g.orderBy)T.field.isKeyField()||(p=p.add(T.field));return p.size+(b?1:0)})(l)&&(i=1):i=0})))).next((()=>(function(c){return c.limit!==null})(t)&&a.length>1&&i===2?1:i))}kn(e,t){const i=new Bu;for(const a of va(e)){const l=t.data.field(a.fieldPath);if(l==null)return null;const c=i.ln(a.kind);Sa.Wt.Dt(l,c)}return i.un()}Nn(e){const t=new Bu;return Sa.Wt.Dt(e,t.ln(0)),t.un()}Kn(e,t){const i=new Bu;return Sa.Wt.Dt(jy(this.databaseId,t),i.ln((function(l){const c=va(l);return c.length===0?0:c[c.length-1].kind})(e))),i.un()}xn(e,t,i){if(i===null)return[];let a=[];a.push(new Bu);let l=0;for(const c of va(e)){const d=i[l++];for(const g of a)if(this.qn(t,c.fieldPath)&&Tc(d))a=this.Un(a,c,d);else{const p=g.ln(c.kind);Sa.Wt.Dt(d,p)}}return this.$n(a)}Mn(e,t,i){return this.xn(e,t,i.position)}$n(e){const t=[];for(let i=0;i<e.length;++i)t[i]=e[i].un();return t}Un(e,t,i){const a=[...e],l=[];for(const c of i.arrayValue.values||[])for(const d of a){const g=new Bu;g.seed(d.un()),Sa.Wt.Dt(c,g.ln(t.kind)),l.push(g)}return l}qn(e,t){return!!e.filters.find((i=>i instanceof Ke&&i.field.isEqual(t)&&(i.op==="in"||i.op==="not-in")))}getFieldIndexes(e,t){const i=Fu(e),a=Ho(e);return(t?i.H(kp,IDBKeyRange.bound(t,t)):i.H()).next((l=>{const c=[];return U.forEach(l,(d=>a.get([d.indexId,this.uid]).next((g=>{c.push((function(b,T){const I=T?new mc(T.sequenceNumber,new Un(Ha(T.readTime),new ue(Qi(T.documentKey)),T.largestBatchId)):mc.empty(),j=b.fields.map((([Q,ee])=>new Vf(_t.fromServerFormat(Q),ee)));return new ed(b.indexId,b.collectionGroup,j,I)})(d,g))})))).next((()=>c))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((t=>t.length===0?null:(t.sort(((i,a)=>{const l=i.indexState.sequenceNumber-a.indexState.sequenceNumber;return l!==0?l:Ne(i.collectionGroup,a.collectionGroup)})),t[0].collectionGroup)))}updateCollectionGroup(e,t,i){const a=Fu(e),l=Ho(e);return this.Wn(e).next((c=>a.H(kp,IDBKeyRange.bound(t,t)).next((d=>U.forEach(d,(g=>l.put(mE(g.indexId,this.uid,c,i))))))))}updateIndexEntries(e,t){const i=new Map;return U.forEach(t,((a,l)=>{const c=i.get(a.collectionGroup);return(c?U.resolve(c):this.getFieldIndexes(e,a.collectionGroup)).next((d=>(i.set(a.collectionGroup,d),U.forEach(d,(g=>this.Qn(e,a,g).next((p=>{const b=this.Gn(l,g);return p.isEqual(b)?U.resolve():this.zn(e,l,g,p,b)})))))))}))}jn(e,t,i,a){return qo(e).put(a.Rn(this.uid,this.Kn(i,t.key),t.key))}Hn(e,t,i,a){return qo(e).delete(a.An(this.uid,this.Kn(i,t.key),t.key))}Qn(e,t,i){const a=qo(e);let l=new rt(ms);return a.ee({index:XS,range:IDBKeyRange.only([i.indexId,this.uid,Bf(this.Kn(i,t))])},((c,d)=>{l=l.add(new Aa(i.indexId,t,vE(d.arrayValue),vE(d.directionalValue)))})).next((()=>l))}Gn(e,t){let i=new rt(ms);const a=this.kn(t,e);if(a==null)return i;const l=Vp(t);if(l!=null){const c=e.data.field(l.fieldPath);if(Tc(c))for(const d of c.arrayValue.values||[])i=i.add(new Aa(t.indexId,e.key,this.Nn(d),a))}else i=i.add(new Aa(t.indexId,e.key,Tf,a));return i}zn(e,t,i,a,l){ne(EE,"Updating index entries for document '%s'",t.key);const c=[];return(function(g,p,b,T,I){const j=g.getIterator(),Q=p.getIterator();let ee=Bo(j),te=Bo(Q);for(;ee||te;){let ce=!1,fe=!1;if(ee&&te){const ae=b(ee,te);ae<0?fe=!0:ae>0&&(ce=!0)}else ee!=null?fe=!0:ce=!0;ce?(T(te),te=Bo(Q)):fe?(I(ee),ee=Bo(j)):(ee=Bo(j),te=Bo(Q))}})(a,l,ms,(d=>{c.push(this.jn(e,t,i,d))}),(d=>{c.push(this.Hn(e,t,i,d))})),U.waitFor(c)}Wn(e){let t=1;return Ho(e).ee({index:$S,reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((i,a,l)=>{l.done(),t=a.sequenceNumber+1})).next((()=>t))}createRange(e,t,i){i=i.sort(((c,d)=>ms(c,d))).filter(((c,d,g)=>!d||ms(c,g[d-1])!==0));const a=[];a.push(e);for(const c of i){const d=ms(c,e),g=ms(c,t);if(d===0)a[0]=e.En();else if(d>0&&g<0)a.push(c),a.push(c.En());else if(g>0)break}a.push(t);const l=[];for(let c=0;c<a.length;c+=2){if(this.Jn(a[c],a[c+1]))return[];const d=a[c].An(this.uid,Tf,ue.empty()),g=a[c+1].An(this.uid,Tf,ue.empty());l.push(IDBKeyRange.bound(d,g))}return l}Jn(e,t){return ms(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(SE)}getMinOffset(e,t){return U.mapArray(this.vn(t),(i=>this.Fn(e,i).next((a=>a||de(44426))))).next(SE)}}function wE(r){return Gt(r,_c)}function qo(r){return Gt(r,ac)}function Fu(r){return Gt(r,Vy)}function Ho(r){return Gt(r,sc)}function SE(r){be(r.length!==0,28825);let e=r[0].indexState.offset,t=e.largestBatchId;for(let i=1;i<r.length;i++){const a=r[i].indexState.offset;Ny(a,e)<0&&(e=a),t<a.largestBatchId&&(t=a.largestBatchId)}return new Un(e.readTime,e.documentKey,t)}const AE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},eA=41943040;class on{static withCacheSize(e){return new on(e,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,i){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=i}}function tA(r,e,t){const i=r.store(pi),a=r.store(ul),l=[],c=IDBKeyRange.only(t.batchId);let d=0;const g=i.ee({range:c},((b,T,I)=>(d++,I.delete())));l.push(g.next((()=>{be(d===1,47070,{batchId:t.batchId})})));const p=[];for(const b of t.mutations){const T=KS(e,b.key.path,t.batchId);l.push(a.delete(T)),p.push(b.key)}return U.waitFor(l).next((()=>p))}function fd(r){if(!r)return 0;let e;if(r.document)e=r.document;else if(r.unknownDocument)e=r.unknownDocument;else{if(!r.noDocument)throw de(14731);e=r.noDocument}return JSON.stringify(e).length}on.DEFAULT_COLLECTION_PERCENTILE=10,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,on.DEFAULT=new on(eA,on.DEFAULT_COLLECTION_PERCENTILE,on.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),on.DISABLED=new on(-1,0,0);class Bd{constructor(e,t,i,a){this.userId=e,this.serializer=t,this.indexManager=i,this.referenceDelegate=a,this.Zn={}}static wt(e,t,i,a){be(e.uid!=="",64387);const l=e.isAuthenticated()?e.uid:"";return new Bd(l,t,i,a)}checkEmpty(e){let t=!0;const i=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return gs(e).ee({index:Ra,range:i},((a,l,c)=>{t=!1,c.done()})).next((()=>t))}addMutationBatch(e,t,i,a){const l=Jo(e),c=gs(e);return c.add({}).next((d=>{be(typeof d=="number",49019);const g=new Hy(d,t,i,a),p=(function(j,Q,ee){const te=ee.baseMutations.map((fe=>ud(j.yt,fe))),ce=ee.mutations.map((fe=>ud(j.yt,fe)));return{userId:Q,batchId:ee.batchId,localWriteTimeMs:ee.localWriteTime.toMillis(),baseMutations:te,mutations:ce}})(this.serializer,this.userId,g),b=[];let T=new rt(((I,j)=>Ne(I.canonicalString(),j.canonicalString())));for(const I of a){const j=KS(this.userId,I.key.path,d);T=T.add(I.key.path.popLast()),b.push(c.put(p)),b.push(l.put(j,PO))}return T.forEach((I=>{b.push(this.indexManager.addToCollectionParentIndex(e,I))})),e.addOnCommittedListener((()=>{this.Zn[d]=g.keys()})),U.waitFor(b).next((()=>g))}))}lookupMutationBatch(e,t){return gs(e).get(t).next((i=>i?(be(i.userId===this.userId,48,"Unexpected user for mutation batch",{userId:i.userId,batchId:t}),wa(this.serializer,i)):null))}Xn(e,t){return this.Zn[t]?U.resolve(this.Zn[t]):this.lookupMutationBatch(e,t).next((i=>{if(i){const a=i.keys();return this.Zn[t]=a,a}return null}))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=IDBKeyRange.lowerBound([this.userId,i]);let l=null;return gs(e).ee({index:Ra,range:a},((c,d,g)=>{d.userId===this.userId&&(be(d.batchId>=i,47524,{Yn:i}),l=wa(this.serializer,d)),g.done()})).next((()=>l))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let i=Na;return gs(e).ee({index:Ra,range:t,reverse:!0},((a,l,c)=>{i=l.batchId,c.done()})).next((()=>i))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,Na],[this.userId,Number.POSITIVE_INFINITY]);return gs(e).H(Ra,t).next((i=>i.map((a=>wa(this.serializer,a)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const i=Mf(this.userId,t.path),a=IDBKeyRange.lowerBound(i),l=[];return Jo(e).ee({range:a},((c,d,g)=>{const[p,b,T]=c,I=Qi(b);if(p===this.userId&&t.path.isEqual(I))return gs(e).get(T).next((j=>{if(!j)throw de(61480,{er:c,batchId:T});be(j.userId===this.userId,10503,"Unexpected user for mutation batch",{userId:j.userId,batchId:T}),l.push(wa(this.serializer,j))}));g.done()})).next((()=>l))}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new rt(Ne);const a=[];return t.forEach((l=>{const c=Mf(this.userId,l.path),d=IDBKeyRange.lowerBound(c),g=Jo(e).ee({range:d},((p,b,T)=>{const[I,j,Q]=p,ee=Qi(j);I===this.userId&&l.path.isEqual(ee)?i=i.add(Q):T.done()}));a.push(g)})),U.waitFor(a).next((()=>this.tr(e,i)))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1,l=Mf(this.userId,i),c=IDBKeyRange.lowerBound(l);let d=new rt(Ne);return Jo(e).ee({range:c},((g,p,b)=>{const[T,I,j]=g,Q=Qi(I);T===this.userId&&i.isPrefixOf(Q)?Q.length===a&&(d=d.add(j)):b.done()})).next((()=>this.tr(e,d)))}tr(e,t){const i=[],a=[];return t.forEach((l=>{a.push(gs(e).get(l).next((c=>{if(c===null)throw de(35274,{batchId:l});be(c.userId===this.userId,9748,"Unexpected user for mutation batch",{userId:c.userId,batchId:l}),i.push(wa(this.serializer,c))})))})),U.waitFor(a).next((()=>i))}removeMutationBatch(e,t){return tA(e.le,this.userId,t).next((i=>(e.addOnCommittedListener((()=>{this.nr(t.batchId)})),U.forEach(i,(a=>this.referenceDelegate.markPotentiallyOrphaned(e,a))))))}nr(e){delete this.Zn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return U.resolve();const i=IDBKeyRange.lowerBound((function(c){return[c]})(this.userId)),a=[];return Jo(e).ee({range:i},((l,c,d)=>{if(l[0]===this.userId){const g=Qi(l[1]);a.push(g)}else d.done()})).next((()=>{be(a.length===0,56720,{rr:a.map((l=>l.canonicalString()))})}))}))}containsKey(e,t){return nA(e,this.userId,t)}ir(e){return iA(e).get(this.userId).next((t=>t||{userId:this.userId,lastAcknowledgedBatchId:Na,lastStreamToken:""}))}}function nA(r,e,t){const i=Mf(e,t.path),a=i[1],l=IDBKeyRange.lowerBound(i);let c=!1;return Jo(r).ee({range:l,Y:!0},((d,g,p)=>{const[b,T,I]=d;b===e&&T===a&&(c=!0),p.done()})).next((()=>c))}function gs(r){return Gt(r,pi)}function Jo(r){return Gt(r,ul)}function iA(r){return Gt(r,pc)}class Ga{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Ga(0)}static ar(){return new Ga(-1)}}class uM{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.ur(e).next((t=>{const i=new Ga(t.highestTargetId);return t.highestTargetId=i.next(),this.cr(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.ur(e).next((t=>we.fromTimestamp(new it(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.ur(e).next((t=>t.highestListenSequenceNumber))}setTargetsMetadata(e,t,i){return this.ur(e).next((a=>(a.highestListenSequenceNumber=t,i&&(a.lastRemoteSnapshotVersion=i.toTimestamp()),t>a.highestListenSequenceNumber&&(a.highestListenSequenceNumber=t),this.cr(e,a))))}addTargetData(e,t){return this.lr(e,t).next((()=>this.ur(e).next((i=>(i.targetCount+=1,this.hr(t,i),this.cr(e,i))))))}updateTargetData(e,t){return this.lr(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>Go(e).delete(t.targetId))).next((()=>this.ur(e))).next((i=>(be(i.targetCount>0,8065),i.targetCount-=1,this.cr(e,i))))}removeTargets(e,t,i){let a=0;const l=[];return Go(e).ee(((c,d)=>{const g=Zu(d);g.sequenceNumber<=t&&i.get(g.targetId)===null&&(a++,l.push(this.removeTargetData(e,g)))})).next((()=>U.waitFor(l))).next((()=>a))}forEachTarget(e,t){return Go(e).ee(((i,a)=>{const l=Zu(a);t(l)}))}ur(e){return IE(e).get(id).next((t=>(be(t!==null,2888),t)))}cr(e,t){return IE(e).put(id,t)}lr(e,t){return Go(e).put(X1(this.serializer,t))}hr(e,t){let i=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,i=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,i=!0),i}getTargetCount(e){return this.ur(e).next((t=>t.targetCount))}getTargetData(e,t){const i=Fa(t),a=IDBKeyRange.bound([i,Number.NEGATIVE_INFINITY],[i,Number.POSITIVE_INFINITY]);let l=null;return Go(e).ee({range:a,index:QS},((c,d,g)=>{const p=Zu(d);kc(t,p.target)&&(l=p,g.done())})).next((()=>l))}addMatchingKeys(e,t,i){const a=[],l=Ss(e);return t.forEach((c=>{const d=ln(c.path);a.push(l.put({targetId:i,path:d})),a.push(this.referenceDelegate.addReference(e,i,c))})),U.waitFor(a)}removeMatchingKeys(e,t,i){const a=Ss(e);return U.forEach(t,(l=>{const c=ln(l.path);return U.waitFor([a.delete([i,c]),this.referenceDelegate.removeReference(e,i,l)])}))}removeMatchingKeysForTargetId(e,t){const i=Ss(e),a=IDBKeyRange.bound([t],[t+1],!1,!0);return i.delete(a)}getMatchingKeysForTargetId(e,t){const i=IDBKeyRange.bound([t],[t+1],!1,!0),a=Ss(e);let l=je();return a.ee({range:i,Y:!0},((c,d,g)=>{const p=Qi(c[1]),b=new ue(p);l=l.add(b)})).next((()=>l))}containsKey(e,t){const i=ln(t.path),a=IDBKeyRange.bound([i],[US(i)],!1,!0);let l=0;return Ss(e).ee({index:Oy,Y:!0,range:a},(([c,d],g,p)=>{c!==0&&(l++,p.done())})).next((()=>l>0))}At(e,t){return Go(e).get(t).next((i=>i?Zu(i):null))}}function Go(r){return Gt(r,cl)}function IE(r){return Gt(r,Da)}function Ss(r){return Gt(r,hl)}const xE="LruGarbageCollector",cM=1048576;function RE([r,e],[t,i]){const a=Ne(r,t);return a===0?Ne(e,i):a}class hM{constructor(e){this.Pr=e,this.buffer=new rt(RE),this.Tr=0}Ir(){return++this.Tr}Er(e){const t=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(t);else{const i=this.buffer.last();RE(t,i)<0&&(this.buffer=this.buffer.delete(i).add(t))}}get maxValue(){return this.buffer.last()[0]}}class rA{constructor(e,t,i){this.garbageCollector=e,this.asyncQueue=t,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ne(xE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ls(t)?ne(xE,"Ignoring IndexedDB error during garbage collection: ",t):await Ps(t)}await this.Ar(3e5)}))}}class fM{constructor(e,t){this.Vr=e,this.params=t}calculateTargetCount(e,t){return this.Vr.dr(e).next((i=>Math.floor(t/100*i)))}nthSequenceNumber(e,t){if(t===0)return U.resolve(wn.ce);const i=new hM(t);return this.Vr.forEachTarget(e,(a=>i.Er(a.sequenceNumber))).next((()=>this.Vr.mr(e,(a=>i.Er(a))))).next((()=>i.maxValue))}removeTargets(e,t,i){return this.Vr.removeTargets(e,t,i)}removeOrphanedDocuments(e,t){return this.Vr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),U.resolve(AE)):this.getCacheSize(e).next((i=>i<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),AE):this.gr(e,t)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,t){let i,a,l,c,d,g,p;const b=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((T=>(T>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${T}`),a=this.params.maximumSequenceNumbersToCollect):a=T,c=Date.now(),this.nthSequenceNumber(e,a)))).next((T=>(i=T,d=Date.now(),this.removeTargets(e,i,t)))).next((T=>(l=T,g=Date.now(),this.removeOrphanedDocuments(e,i)))).next((T=>(p=Date.now(),Qo()<=He.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-b}ms
	Determined least recently used ${a} in `+(d-c)+`ms
	Removed ${l} targets in `+(g-d)+`ms
	Removed ${T} documents in `+(p-g)+`ms
Total Duration: ${p-b}ms`),U.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:l,documentsRemoved:T}))))}}function sA(r,e){return new fM(r,e)}class dM{constructor(e,t){this.db=e,this.garbageCollector=sA(this,t)}dr(e){const t=this.pr(e);return this.db.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}mr(e,t){return this.yr(e,((i,a)=>t(a)))}addReference(e,t,i){return Ef(e,i)}removeReference(e,t,i){return Ef(e,i)}removeTargets(e,t,i){return this.db.getTargetCache().removeTargets(e,t,i)}markPotentiallyOrphaned(e,t){return Ef(e,t)}wr(e,t){return(function(a,l){let c=!1;return iA(a).te((d=>nA(a,d,l).next((g=>(g&&(c=!0),U.resolve(!g)))))).next((()=>c))})(e,t)}removeOrphanedDocuments(e,t){const i=this.db.getRemoteDocumentCache().newChangeBuffer(),a=[];let l=0;return this.yr(e,((c,d)=>{if(d<=t){const g=this.wr(e,c).next((p=>{if(!p)return l++,i.getEntry(e,c).next((()=>(i.removeEntry(c,we.min()),Ss(e).delete((function(T){return[0,ln(T.path)]})(c)))))}));a.push(g)}})).next((()=>U.waitFor(a))).next((()=>i.apply(e))).next((()=>l))}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,i)}updateLimboDocument(e,t){return Ef(e,t)}yr(e,t){const i=Ss(e);let a,l=wn.ce;return i.ee({index:Oy},(([c,d],{path:g,sequenceNumber:p})=>{c===0?(l!==wn.ce&&t(new ue(Qi(a)),l),l=p,a=g):l=wn.ce})).next((()=>{l!==wn.ce&&t(new ue(Qi(a)),l)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Ef(r,e){return Ss(r).put((function(i,a){return{targetId:0,path:ln(i.path),sequenceNumber:a}})(e,r.currentSequenceNumber))}class aA{constructor(){this.changes=new Vr((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Et.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const i=this.changes.get(t);return i!==void 0?U.resolve(i):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mM{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,i){return pa(e).put(i)}removeEntry(e,t,i){return pa(e).delete((function(l,c){const d=l.path.toArray();return[d.slice(0,d.length-2),d[d.length-2],cd(c),d[d.length-1]]})(t,i))}updateMetadata(e,t){return this.getMetadata(e).next((i=>(i.byteSize+=t,this.br(e,i))))}getEntry(e,t){let i=Et.newInvalidDocument(t);return pa(e).ee({index:kf,range:IDBKeyRange.only(qu(t))},((a,l)=>{i=this.Sr(t,l)})).next((()=>i))}Dr(e,t){let i={size:0,document:Et.newInvalidDocument(t)};return pa(e).ee({index:kf,range:IDBKeyRange.only(qu(t))},((a,l)=>{i={document:this.Sr(t,l),size:fd(l)}})).next((()=>i))}getEntries(e,t){let i=Mn();return this.Cr(e,t,((a,l)=>{const c=this.Sr(a,l);i=i.insert(a,c)})).next((()=>i))}vr(e,t){let i=Mn(),a=new ft(ue.comparator);return this.Cr(e,t,((l,c)=>{const d=this.Sr(l,c);i=i.insert(l,d),a=a.insert(l,fd(c))})).next((()=>({documents:i,Fr:a})))}Cr(e,t,i){if(t.isEmpty())return U.resolve();let a=new rt(DE);t.forEach((g=>a=a.add(g)));const l=IDBKeyRange.bound(qu(a.first()),qu(a.last())),c=a.getIterator();let d=c.getNext();return pa(e).ee({index:kf,range:l},((g,p,b)=>{const T=ue.fromSegments([...p.prefixPath,p.collectionGroup,p.documentId]);for(;d&&DE(d,T)<0;)i(d,null),d=c.getNext();d&&d.isEqual(T)&&(i(d,p),d=c.hasNext()?c.getNext():null),d?b.j(qu(d)):b.done()})).next((()=>{for(;d;)i(d,null),d=c.hasNext()?c.getNext():null}))}getDocumentsMatchingQuery(e,t,i,a,l){const c=t.path,d=[c.popLast().toArray(),c.lastSegment(),cd(i.readTime),i.documentKey.path.isEmpty()?"":i.documentKey.path.lastSegment()],g=[c.popLast().toArray(),c.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pa(e).H(IDBKeyRange.bound(d,g,!0)).next((p=>{l?.incrementDocumentReadCount(p.length);let b=Mn();for(const T of p){const I=this.Sr(ue.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);I.isFoundDocument()&&(Lc(t,I)||a.has(I.key))&&(b=b.insert(I.key,I))}return b}))}getAllFromCollectionGroup(e,t,i,a){let l=Mn();const c=NE(t,i),d=NE(t,Un.max());return pa(e).ee({index:YS,range:IDBKeyRange.bound(c,d,!0)},((g,p,b)=>{const T=this.Sr(ue.fromSegments(p.prefixPath.concat(p.collectionGroup,p.documentId)),p);l=l.insert(T.key,T),l.size===a&&b.done()})).next((()=>l))}newChangeBuffer(e){return new gM(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((t=>t.byteSize))}getMetadata(e){return CE(e).get(Mp).next((t=>(be(!!t,20021),t)))}br(e,t){return CE(e).put(Mp,t)}Sr(e,t){if(t){const i=ZV(this.serializer,t);if(!(i.isNoDocument()&&i.version.isEqual(we.min())))return i}return Et.newInvalidDocument(e)}}function oA(r){return new mM(r)}class gM extends aA{constructor(e,t){super(),this.Mr=e,this.trackRemovals=t,this.Or=new Vr((i=>i.toString()),((i,a)=>i.isEqual(a)))}applyChanges(e){const t=[];let i=0,a=new rt(((l,c)=>Ne(l.canonicalString(),c.canonicalString())));return this.changes.forEach(((l,c)=>{const d=this.Or.get(l);if(t.push(this.Mr.removeEntry(e,l,d.readTime)),c.isValidDocument()){const g=fE(this.Mr.serializer,c);a=a.add(l.path.popLast());const p=fd(g);i+=p-d.size,t.push(this.Mr.addEntry(e,l,g))}else if(i-=d.size,this.trackRemovals){const g=fE(this.Mr.serializer,c.convertToNoDocument(we.min()));t.push(this.Mr.addEntry(e,l,g))}})),a.forEach((l=>{t.push(this.Mr.indexManager.addToCollectionParentIndex(e,l))})),t.push(this.Mr.updateMetadata(e,i)),U.waitFor(t)}getFromCache(e,t){return this.Mr.Dr(e,t).next((i=>(this.Or.set(t,{size:i.size,readTime:i.document.readTime}),i.document)))}getAllFromCache(e,t){return this.Mr.vr(e,t).next((({documents:i,Fr:a})=>(a.forEach(((l,c)=>{this.Or.set(l,{size:c,readTime:i.get(l).readTime})})),i)))}}function CE(r){return Gt(r,yc)}function pa(r){return Gt(r,nd)}function qu(r){const e=r.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function NE(r,e){const t=e.documentKey.path.toArray();return[r,cd(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function DE(r,e){const t=r.path.toArray(),i=e.path.toArray();let a=0;for(let l=0;l<t.length-2&&l<i.length-2;++l)if(a=Ne(t[l],i[l]),a)return a;return a=Ne(t.length,i.length),a||(a=Ne(t[t.length-2],i[i.length-2]),a||Ne(t[t.length-1],i[i.length-1]))}class pM{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lA{constructor(e,t,i,a){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=i,this.indexManager=a}getDocument(e,t){let i=null;return this.documentOverlayCache.getOverlay(e,t).next((a=>(i=a,this.remoteDocumentCache.getEntry(e,t)))).next((a=>(i!==null&&cc(i.mutation,a,ti.empty(),it.now()),a)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.getLocalViewOfDocuments(e,i,je()).next((()=>i))))}getLocalViewOfDocuments(e,t,i=je()){const a=$i();return this.populateOverlays(e,a,t).next((()=>this.computeViews(e,t,a,i).next((l=>{let c=Wu();return l.forEach(((d,g)=>{c=c.insert(d,g.overlayedDocument)})),c}))))}getOverlayedDocuments(e,t){const i=$i();return this.populateOverlays(e,i,t).next((()=>this.computeViews(e,t,i,je())))}populateOverlays(e,t,i){const a=[];return i.forEach((l=>{t.has(l)||a.push(l)})),this.documentOverlayCache.getOverlays(e,a).next((l=>{l.forEach(((c,d)=>{t.set(c,d)}))}))}computeViews(e,t,i,a){let l=Mn();const c=uc(),d=(function(){return uc()})();return t.forEach(((g,p)=>{const b=i.get(p.key);a.has(p.key)&&(b===void 0||b.mutation instanceof Us)?l=l.insert(p.key,p):b!==void 0?(c.set(p.key,b.mutation.getFieldMask()),cc(b.mutation,p,b.mutation.getFieldMask(),it.now())):c.set(p.key,ti.empty())})),this.recalculateAndSaveOverlays(e,l).next((g=>(g.forEach(((p,b)=>c.set(p,b))),t.forEach(((p,b)=>d.set(p,new pM(b,c.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const i=uc();let a=new ft(((c,d)=>c-d)),l=je();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((c=>{for(const d of c)d.keys().forEach((g=>{const p=t.get(g);if(p===null)return;let b=i.get(g)||ti.empty();b=d.applyToLocalView(p,b),i.set(g,b);const T=(a.get(d.batchId)||je()).add(g);a=a.insert(d.batchId,T)}))})).next((()=>{const c=[],d=a.getReverseIterator();for(;d.hasNext();){const g=d.getNext(),p=g.key,b=g.value,T=A1();b.forEach((I=>{if(!l.has(I)){const j=D1(t.get(I),i.get(I));j!==null&&T.set(I,j),l=l.add(I)}})),c.push(this.documentOverlayCache.saveOverlays(e,p,T))}return U.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((i=>this.recalculateAndSaveOverlays(e,i)))}getDocumentsMatchingQuery(e,t,i,a){return vV(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):bV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,i,a):this.getDocumentsMatchingCollectionQuery(e,t,i,a)}getNextDocuments(e,t,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,i,a).next((l=>{const c=a-l.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,i.largestBatchId,a-l.size):U.resolve($i());let d=ll,g=l;return c.next((p=>U.forEach(p,((b,T)=>(d<T.largestBatchId&&(d=T.largestBatchId),l.get(b)?U.resolve():this.remoteDocumentCache.getEntry(e,b).next((I=>{g=g.insert(b,I)}))))).next((()=>this.populateOverlays(e,p,l))).next((()=>this.computeViews(e,g,p,je()))).next((b=>({batchId:d,changes:S1(b)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ue(t)).next((i=>{let a=Wu();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(e,t,i,a){const l=t.collectionGroup;let c=Wu();return this.indexManager.getCollectionParents(e,l).next((d=>U.forEach(d,(g=>{const p=(function(T,I){return new Pd(I,null,T.explicitOrderBy.slice(),T.filters.slice(),T.limit,T.limitType,T.startAt,T.endAt)})(t,g.child(l));return this.getDocumentsMatchingCollectionQuery(e,p,i,a).next((b=>{b.forEach(((T,I)=>{c=c.insert(T,I)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(e,t,i,a){let l;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,i.largestBatchId).next((c=>(l=c,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,i,l,a)))).next((c=>{l.forEach(((g,p)=>{const b=p.getKey();c.get(b)===null&&(c=c.insert(b,Et.newInvalidDocument(b)))}));let d=Wu();return c.forEach(((g,p)=>{const b=l.get(g);b!==void 0&&cc(b.mutation,p,ti.empty(),it.now()),Lc(t,p)&&(d=d.insert(g,p))})),d}))}}class yM{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,t){return U.resolve(this.Nr.get(t))}saveBundleMetadata(e,t){return this.Nr.set(t.id,(function(a){return{id:a.id,version:a.version,createTime:mn(a.createTime)}})(t)),U.resolve()}getNamedQuery(e,t){return U.resolve(this.Br.get(t))}saveNamedQuery(e,t){return this.Br.set(t.name,(function(a){return{name:a.name,query:W1(a.bundledQuery),readTime:mn(a.readTime)}})(t)),U.resolve()}}class _M{constructor(){this.overlays=new ft(ue.comparator),this.Lr=new Map}getOverlay(e,t){return U.resolve(this.overlays.get(t))}getOverlays(e,t){const i=$i();return U.forEach(t,(a=>this.getOverlay(e,a).next((l=>{l!==null&&i.set(a,l)})))).next((()=>i))}saveOverlays(e,t,i){return i.forEach(((a,l)=>{this.bt(e,t,l)})),U.resolve()}removeOverlaysForBatchId(e,t,i){const a=this.Lr.get(i);return a!==void 0&&(a.forEach((l=>this.overlays=this.overlays.remove(l))),this.Lr.delete(i)),U.resolve()}getOverlaysForCollection(e,t,i){const a=$i(),l=t.length+1,c=new ue(t.child("")),d=this.overlays.getIteratorFrom(c);for(;d.hasNext();){const g=d.getNext().value,p=g.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===l&&g.largestBatchId>i&&a.set(g.getKey(),g)}return U.resolve(a)}getOverlaysForCollectionGroup(e,t,i,a){let l=new ft(((p,b)=>p-b));const c=this.overlays.getIterator();for(;c.hasNext();){const p=c.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>i){let b=l.get(p.largestBatchId);b===null&&(b=$i(),l=l.insert(p.largestBatchId,b)),b.set(p.getKey(),p)}}const d=$i(),g=l.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach(((p,b)=>d.set(p,b))),!(d.size()>=a)););return U.resolve(d)}bt(e,t,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.Lr.get(a.largestBatchId).delete(i.key);this.Lr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new Ky(t,i));let l=this.Lr.get(t);l===void 0&&(l=je(),this.Lr.set(t,l)),this.Lr.set(t,l.add(i.key))}}class vM{constructor(){this.sessionToken=Rt.EMPTY_BYTE_STRING}getSessionToken(e){return U.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,U.resolve()}}class Wy{constructor(){this.kr=new rt($t.Kr),this.qr=new rt($t.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,t){const i=new $t(e,t);this.kr=this.kr.add(i),this.qr=this.qr.add(i)}$r(e,t){e.forEach((i=>this.addReference(i,t)))}removeReference(e,t){this.Wr(new $t(e,t))}Qr(e,t){e.forEach((i=>this.removeReference(i,t)))}Gr(e){const t=new ue(new ut([])),i=new $t(t,e),a=new $t(t,e+1),l=[];return this.qr.forEachInRange([i,a],(c=>{this.Wr(c),l.push(c.key)})),l}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const t=new ue(new ut([])),i=new $t(t,e),a=new $t(t,e+1);let l=je();return this.qr.forEachInRange([i,a],(c=>{l=l.add(c.key)})),l}containsKey(e){const t=new $t(e,0),i=this.kr.firstAfterOrEqual(t);return i!==null&&e.isEqual(i.key)}}class $t{constructor(e,t){this.key=e,this.Hr=t}static Kr(e,t){return ue.comparator(e.key,t.key)||Ne(e.Hr,t.Hr)}static Ur(e,t){return Ne(e.Hr,t.Hr)||ue.comparator(e.key,t.key)}}class bM{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Yn=1,this.Jr=new rt($t.Kr)}checkEmpty(e){return U.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,i,a){const l=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new Hy(l,t,i,a);this.mutationQueue.push(c);for(const d of a)this.Jr=this.Jr.add(new $t(d.key,l)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return U.resolve(c)}lookupMutationBatch(e,t){return U.resolve(this.Zr(t))}getNextMutationBatchAfterBatchId(e,t){const i=t+1,a=this.Xr(i),l=a<0?0:a;return U.resolve(this.mutationQueue.length>l?this.mutationQueue[l]:null)}getHighestUnacknowledgedBatchId(){return U.resolve(this.mutationQueue.length===0?Na:this.Yn-1)}getAllMutationBatches(e){return U.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const i=new $t(t,0),a=new $t(t,Number.POSITIVE_INFINITY),l=[];return this.Jr.forEachInRange([i,a],(c=>{const d=this.Zr(c.Hr);l.push(d)})),U.resolve(l)}getAllMutationBatchesAffectingDocumentKeys(e,t){let i=new rt(Ne);return t.forEach((a=>{const l=new $t(a,0),c=new $t(a,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([l,c],(d=>{i=i.add(d.Hr)}))})),U.resolve(this.Yr(i))}getAllMutationBatchesAffectingQuery(e,t){const i=t.path,a=i.length+1;let l=i;ue.isDocumentKey(l)||(l=l.child(""));const c=new $t(new ue(l),0);let d=new rt(Ne);return this.Jr.forEachWhile((g=>{const p=g.key.path;return!!i.isPrefixOf(p)&&(p.length===a&&(d=d.add(g.Hr)),!0)}),c),U.resolve(this.Yr(d))}Yr(e){const t=[];return e.forEach((i=>{const a=this.Zr(i);a!==null&&t.push(a)})),t}removeMutationBatch(e,t){be(this.ei(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Jr;return U.forEach(t.mutations,(a=>{const l=new $t(a.key,t.batchId);return i=i.delete(l),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)})).next((()=>{this.Jr=i}))}nr(e){}containsKey(e,t){const i=new $t(t,0),a=this.Jr.firstAfterOrEqual(i);return U.resolve(t.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,U.resolve()}ei(e,t){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const t=this.Xr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class TM{constructor(e){this.ti=e,this.docs=(function(){return new ft(ue.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const i=t.key,a=this.docs.get(i),l=a?a.size:0,c=this.ti(t);return this.docs=this.docs.insert(i,{document:t.mutableCopy(),size:c}),this.size+=c-l,this.indexManager.addToCollectionParentIndex(e,i.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const i=this.docs.get(t);return U.resolve(i?i.document.mutableCopy():Et.newInvalidDocument(t))}getEntries(e,t){let i=Mn();return t.forEach((a=>{const l=this.docs.get(a);i=i.insert(a,l?l.document.mutableCopy():Et.newInvalidDocument(a))})),U.resolve(i)}getDocumentsMatchingQuery(e,t,i,a){let l=Mn();const c=t.path,d=new ue(c.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(d);for(;g.hasNext();){const{key:p,value:{document:b}}=g.getNext();if(!c.isPrefixOf(p.path))break;p.path.length>c.length+1||Ny(BS(b),i)<=0||(a.has(b.key)||Lc(t,b))&&(l=l.insert(b.key,b.mutableCopy()))}return U.resolve(l)}getAllFromCollectionGroup(e,t,i,a){de(9500)}ni(e,t){return U.forEach(this.docs,(i=>t(i)))}newChangeBuffer(e){return new EM(this)}getSize(e){return U.resolve(this.size)}}class EM extends aA{constructor(e){super(),this.Mr=e}applyChanges(e){const t=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?t.push(this.Mr.addEntry(e,a)):this.Mr.removeEntry(i)})),U.waitFor(t)}getFromCache(e,t){return this.Mr.getEntry(e,t)}getAllFromCache(e,t){return this.Mr.getEntries(e,t)}}class wM{constructor(e){this.persistence=e,this.ri=new Vr((t=>Fa(t)),kc),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.ii=0,this.si=new Wy,this.targetCount=0,this.oi=Ga._r()}forEachTarget(e,t){return this.ri.forEach(((i,a)=>t(a))),U.resolve()}getLastRemoteSnapshotVersion(e){return U.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return U.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),U.resolve(this.highestTargetId)}setTargetsMetadata(e,t,i){return i&&(this.lastRemoteSnapshotVersion=i),t>this.ii&&(this.ii=t),U.resolve()}lr(e){this.ri.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.oi=new Ga(t),this.highestTargetId=t),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,t){return this.lr(t),this.targetCount+=1,U.resolve()}updateTargetData(e,t){return this.lr(t),U.resolve()}removeTargetData(e,t){return this.ri.delete(t.target),this.si.Gr(t.targetId),this.targetCount-=1,U.resolve()}removeTargets(e,t,i){let a=0;const l=[];return this.ri.forEach(((c,d)=>{d.sequenceNumber<=t&&i.get(d.targetId)===null&&(this.ri.delete(c),l.push(this.removeMatchingKeysForTargetId(e,d.targetId)),a++)})),U.waitFor(l).next((()=>a))}getTargetCount(e){return U.resolve(this.targetCount)}getTargetData(e,t){const i=this.ri.get(t)||null;return U.resolve(i)}addMatchingKeys(e,t,i){return this.si.$r(t,i),U.resolve()}removeMatchingKeys(e,t,i){this.si.Qr(t,i);const a=this.persistence.referenceDelegate,l=[];return a&&t.forEach((c=>{l.push(a.markPotentiallyOrphaned(e,c))})),U.waitFor(l)}removeMatchingKeysForTargetId(e,t){return this.si.Gr(t),U.resolve()}getMatchingKeysForTargetId(e,t){const i=this.si.jr(t);return U.resolve(i)}containsKey(e,t){return U.resolve(this.si.containsKey(t))}}class Jy{constructor(e,t){this._i={},this.overlays={},this.ai=new wn(0),this.ui=!1,this.ui=!0,this.ci=new vM,this.referenceDelegate=e(this),this.li=new wM(this),this.indexManager=new oM,this.remoteDocumentCache=(function(a){return new TM(a)})((i=>this.referenceDelegate.hi(i))),this.serializer=new $1(t),this.Pi=new yM(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _M,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let i=this._i[e.toKey()];return i||(i=new bM(t,this.referenceDelegate),this._i[e.toKey()]=i),i}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,t,i){ne("MemoryPersistence","Starting transaction:",e);const a=new SM(this.ai.next());return this.referenceDelegate.Ti(),i(a).next((l=>this.referenceDelegate.Ii(a).next((()=>l)))).toPromise().then((l=>(a.raiseOnCommittedEvent(),l)))}Ei(e,t){return U.or(Object.values(this._i).map((i=>()=>i.containsKey(e,t))))}}class SM extends qS{constructor(e){super(),this.currentSequenceNumber=e}}class Fd{constructor(e){this.persistence=e,this.Ri=new Wy,this.Ai=null}static Vi(e){return new Fd(e)}get di(){if(this.Ai)return this.Ai;throw de(60996)}addReference(e,t,i){return this.Ri.addReference(i,t),this.di.delete(i.toString()),U.resolve()}removeReference(e,t,i){return this.Ri.removeReference(i,t),this.di.add(i.toString()),U.resolve()}markPotentiallyOrphaned(e,t){return this.di.add(t.toString()),U.resolve()}removeTarget(e,t){this.Ri.Gr(t.targetId).forEach((a=>this.di.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(e,t.targetId).next((a=>{a.forEach((l=>this.di.add(l.toString())))})).next((()=>i.removeTargetData(e,t)))}Ti(){this.Ai=new Set}Ii(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return U.forEach(this.di,(i=>{const a=ue.fromPath(i);return this.mi(e,a).next((l=>{l||t.removeEntry(a,we.min())}))})).next((()=>(this.Ai=null,t.apply(e))))}updateLimboDocument(e,t){return this.mi(e,t).next((i=>{i?this.di.delete(t.toString()):this.di.add(t.toString())}))}hi(e){return 0}mi(e,t){return U.or([()=>U.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ei(e,t)])}}class dd{constructor(e,t){this.persistence=e,this.fi=new Vr((i=>ln(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=sA(this,t)}static Vi(e,t){return new dd(e,t)}Ti(){}Ii(e){return U.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}dr(e){const t=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((i=>t.next((a=>i+a))))}pr(e){let t=0;return this.mr(e,(i=>{t++})).next((()=>t))}mr(e,t){return U.forEach(this.fi,((i,a)=>this.wr(e,i,a).next((l=>l?U.resolve():t(a)))))}removeTargets(e,t,i){return this.persistence.getTargetCache().removeTargets(e,t,i)}removeOrphanedDocuments(e,t){let i=0;const a=this.persistence.getRemoteDocumentCache(),l=a.newChangeBuffer();return a.ni(e,(c=>this.wr(e,c,t).next((d=>{d||(i++,l.removeEntry(c,we.min()))})))).next((()=>l.apply(e))).next((()=>i))}markPotentiallyOrphaned(e,t){return this.fi.set(t,e.currentSequenceNumber),U.resolve()}removeTarget(e,t){const i=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,i)}addReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),U.resolve()}removeReference(e,t,i){return this.fi.set(i,e.currentSequenceNumber),U.resolve()}updateLimboDocument(e,t){return this.fi.set(t,e.currentSequenceNumber),U.resolve()}hi(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Lf(e.data.value)),t}wr(e,t,i){return U.or([()=>this.persistence.Ei(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const a=this.fi.get(t);return U.resolve(a!==void 0&&a>i)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class AM{constructor(e){this.serializer=e}k(e,t,i,a){const l=new Cd("createOrUpgrade",t);i<1&&a>=1&&((function(g){g.createObjectStore(Mc)})(e),(function(g){g.createObjectStore(pc,{keyPath:kO}),g.createObjectStore(pi,{keyPath:FT,autoIncrement:!0}).createIndex(Ra,qT,{unique:!0}),g.createObjectStore(ul)})(e),OE(e),(function(g){g.createObjectStore(ba)})(e));let c=U.resolve();return i<3&&a>=3&&(i!==0&&((function(g){g.deleteObjectStore(hl),g.deleteObjectStore(cl),g.deleteObjectStore(Da)})(e),OE(e)),c=c.next((()=>(function(g){const p=g.store(Da),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:we.min().toTimestamp(),targetCount:0};return p.put(id,b)})(l)))),i<4&&a>=4&&(i!==0&&(c=c.next((()=>(function(g,p){return p.store(pi).H().next((T=>{g.deleteObjectStore(pi),g.createObjectStore(pi,{keyPath:FT,autoIncrement:!0}).createIndex(Ra,qT,{unique:!0});const I=p.store(pi),j=T.map((Q=>I.put(Q)));return U.waitFor(j)}))})(e,l)))),c=c.next((()=>{(function(g){g.createObjectStore(fl,{keyPath:HO})})(e)}))),i<5&&a>=5&&(c=c.next((()=>this.gi(l)))),i<6&&a>=6&&(c=c.next((()=>((function(g){g.createObjectStore(yc)})(e),this.pi(l))))),i<7&&a>=7&&(c=c.next((()=>this.yi(l)))),i<8&&a>=8&&(c=c.next((()=>this.wi(e,l)))),i<9&&a>=9&&(c=c.next((()=>{(function(g){g.objectStoreNames.contains("remoteDocumentChanges")&&g.deleteObjectStore("remoteDocumentChanges")})(e)}))),i<10&&a>=10&&(c=c.next((()=>this.bi(l)))),i<11&&a>=11&&(c=c.next((()=>{(function(g){g.createObjectStore(Dd,{keyPath:GO})})(e),(function(g){g.createObjectStore(Od,{keyPath:KO})})(e)}))),i<12&&a>=12&&(c=c.next((()=>{(function(g){const p=g.createObjectStore(Vd,{keyPath:ZO});p.createIndex(Pp,eV,{unique:!1}),p.createIndex(WS,tV,{unique:!1})})(e)}))),i<13&&a>=13&&(c=c.next((()=>(function(g){const p=g.createObjectStore(nd,{keyPath:LO});p.createIndex(kf,UO),p.createIndex(YS,jO)})(e))).next((()=>this.Si(e,l))).next((()=>e.deleteObjectStore(ba)))),i<14&&a>=14&&(c=c.next((()=>this.Di(e,l)))),i<15&&a>=15&&(c=c.next((()=>(function(g){g.createObjectStore(Vy,{keyPath:YO,autoIncrement:!0}).createIndex(kp,QO,{unique:!1}),g.createObjectStore(sc,{keyPath:$O}).createIndex($S,XO,{unique:!1}),g.createObjectStore(ac,{keyPath:WO}).createIndex(XS,JO,{unique:!1})})(e)))),i<16&&a>=16&&(c=c.next((()=>{t.objectStore(sc).clear()})).next((()=>{t.objectStore(ac).clear()}))),i<17&&a>=17&&(c=c.next((()=>{(function(g){g.createObjectStore(My,{keyPath:nV})})(e)}))),i<18&&a>=18&&Aw()&&(c=c.next((()=>{t.objectStore(sc).clear()})).next((()=>{t.objectStore(ac).clear()}))),c}pi(e){let t=0;return e.store(ba).ee(((i,a)=>{t+=fd(a)})).next((()=>{const i={byteSize:t};return e.store(yc).put(Mp,i)}))}gi(e){const t=e.store(pc),i=e.store(pi);return t.H().next((a=>U.forEach(a,(l=>{const c=IDBKeyRange.bound([l.userId,Na],[l.userId,l.lastAcknowledgedBatchId]);return i.H(Ra,c).next((d=>U.forEach(d,(g=>{be(g.userId===l.userId,18650,"Cannot process batch from unexpected user",{batchId:g.batchId});const p=wa(this.serializer,g);return tA(e,l.userId,p).next((()=>{}))}))))}))))}yi(e){const t=e.store(hl),i=e.store(ba);return e.store(Da).get(id).next((a=>{const l=[];return i.ee(((c,d)=>{const g=new ut(c),p=(function(T){return[0,ln(T)]})(g);l.push(t.get(p).next((b=>b?U.resolve():(T=>t.put({targetId:0,path:ln(T),sequenceNumber:a.highestListenSequenceNumber}))(g))))})).next((()=>U.waitFor(l)))}))}wi(e,t){e.createObjectStore(_c,{keyPath:qO});const i=t.store(_c),a=new Xy,l=c=>{if(a.add(c)){const d=c.lastSegment(),g=c.popLast();return i.put({collectionId:d,parent:ln(g)})}};return t.store(ba).ee({Y:!0},((c,d)=>{const g=new ut(c);return l(g.popLast())})).next((()=>t.store(ul).ee({Y:!0},(([c,d,g],p)=>{const b=Qi(d);return l(b.popLast())}))))}bi(e){const t=e.store(cl);return t.ee(((i,a)=>{const l=Zu(a),c=X1(this.serializer,l);return t.put(c)}))}Si(e,t){const i=t.store(ba),a=[];return i.ee(((l,c)=>{const d=t.store(nd),g=(function(T){return T.document?new ue(ut.fromString(T.document.name).popFirst(5)):T.noDocument?ue.fromSegments(T.noDocument.path):T.unknownDocument?ue.fromSegments(T.unknownDocument.path):de(36783)})(c).path.toArray(),p={prefixPath:g.slice(0,g.length-2),collectionGroup:g[g.length-2],documentId:g[g.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};a.push(d.put(p))})).next((()=>U.waitFor(a)))}Di(e,t){const i=t.store(pi),a=oA(this.serializer),l=new Jy(Fd.Vi,this.serializer.yt);return i.H().next((c=>{const d=new Map;return c.forEach((g=>{let p=d.get(g.userId)??je();wa(this.serializer,g).keys().forEach((b=>p=p.add(b))),d.set(g.userId,p)})),U.forEach(d,((g,p)=>{const b=new Xt(p),T=zd.wt(this.serializer,b),I=l.getIndexManager(b),j=Bd.wt(b,this.serializer,I,l.referenceDelegate);return new lA(a,j,T,I).recalculateAndSaveOverlaysForDocumentKeys(new Lp(t,wn.ce),g).next()}))}))}}function OE(r){r.createObjectStore(hl,{keyPath:BO}).createIndex(Oy,FO,{unique:!0}),r.createObjectStore(cl,{keyPath:"targetId"}).createIndex(QS,zO,{unique:!0}),r.createObjectStore(Da)}const ps="IndexedDbPersistence",hp=18e5,fp=5e3,dp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",IM="main";class Zy{constructor(e,t,i,a,l,c,d,g,p,b,T=18){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=i,this.Ci=l,this.window=c,this.document=d,this.Fi=p,this.Mi=b,this.xi=T,this.ai=null,this.ui=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Oi=null,this.inForeground=!1,this.Ni=null,this.Bi=null,this.Li=Number.NEGATIVE_INFINITY,this.ki=I=>Promise.resolve(),!Zy.v())throw new he(Z.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new dM(this,a),this.Ki=t+IM,this.serializer=new $1(g),this.qi=new Ns(this.Ki,this.xi,new AM(this.serializer)),this.ci=new tM,this.li=new uM(this.referenceDelegate,this.serializer),this.remoteDocumentCache=oA(this.serializer),this.Pi=new eM,this.window&&this.window.localStorage?this.Ui=this.window.localStorage:(this.Ui=null,b===!1&&xt(ps,"LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.$i().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new he(Z.FAILED_PRECONDITION,dp);return this.Wi(),this.Qi(),this.Gi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.li.getHighestSequenceNumber(e)))})).then((e=>{this.ai=new wn(e,this.Fi)})).then((()=>{this.ui=!0})).catch((e=>(this.qi&&this.qi.close(),Promise.reject(e))))}zi(e){return this.ki=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.qi.q((async t=>{t.newVersion===null&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.Ci.enqueueAndForget((async()=>{this.started&&await this.$i()})))}$i(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>wf(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.ji(e).next((t=>{t||(this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))))}))})).next((()=>this.Hi(e))).next((t=>this.isPrimary&&!t?this.Ji(e).next((()=>!1)):!!t&&this.Zi(e).next((()=>!0)))))).catch((e=>{if(Ls(e))return ne(ps,"Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return ne(ps,"Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.Ci.enqueueRetryable((()=>this.ki(e))),this.isPrimary=e}))}ji(e){return Hu(e).get(zo).next((t=>U.resolve(this.Xi(t))))}Yi(e){return wf(e).delete(this.clientId)}async es(){if(this.isPrimary&&!this.ts(this.Li,hp)){this.Li=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(t=>{const i=Gt(t,fl);return i.H().next((a=>{const l=this.ns(a,hp),c=a.filter((d=>l.indexOf(d)===-1));return U.forEach(c,(d=>i.delete(d.clientId))).next((()=>c))}))})).catch((()=>[]));if(this.Ui)for(const t of e)this.Ui.removeItem(this.rs(t.clientId))}}Gi(){this.Bi=this.Ci.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.$i().then((()=>this.es())).then((()=>this.Gi()))))}Xi(e){return!!e&&e.ownerId===this.clientId}Hi(e){return this.Mi?U.resolve(!0):Hu(e).get(zo).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,fp)&&!this.ss(t.ownerId)){if(this.Xi(t)&&this.networkEnabled)return!0;if(!this.Xi(t)){if(!t.allowTabSynchronization)throw new he(Z.FAILED_PRECONDITION,dp);return!1}}return!(!this.networkEnabled||!this.inForeground)||wf(e).H().next((i=>this.ns(i,fp).find((a=>{if(this.clientId!==a.clientId){const l=!this.networkEnabled&&a.networkEnabled,c=!this.inForeground&&a.inForeground,d=this.networkEnabled===a.networkEnabled;if(l||c&&d)return!0}return!1}))===void 0))})).next((t=>(this.isPrimary!==t&&ne(ps,`Client ${t?"is":"is not"} eligible for a primary lease.`),t)))}async shutdown(){this.ui=!1,this._s(),this.Bi&&(this.Bi.cancel(),this.Bi=null),this.us(),this.cs(),await this.qi.runTransaction("shutdown","readwrite",[Mc,fl],(e=>{const t=new Lp(e,wn.ce);return this.Ji(t).next((()=>this.Yi(t)))})),this.qi.close(),this.ls()}ns(e,t){return e.filter((i=>this.ts(i.updateTimeMs,t)&&!this.ss(i.clientId)))}hs(){return this.runTransaction("getActiveClients","readonly",(e=>wf(e).H().next((t=>this.ns(t,hp).map((i=>i.clientId))))))}get started(){return this.ui}getGlobalsCache(){return this.ci}getMutationQueue(e,t){return Bd.wt(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new lM(e,this.serializer.yt.databaseId)}getDocumentOverlayCache(e){return zd.wt(this.serializer,e)}getBundleCache(){return this.Pi}runTransaction(e,t,i){ne(ps,"Starting transaction:",e);const a=t==="readonly"?"readonly":"readwrite",l=(function(g){return g===18?sV:g===17?t1:g===16?rV:g===15?ky:g===14?e1:g===13?ZS:g===12?iV:g===11?JS:void de(60245)})(this.xi);let c;return this.qi.runTransaction(e,a,l,(d=>(c=new Lp(d,this.ai?this.ai.next():wn.ce),t==="readwrite-primary"?this.ji(c).next((g=>!!g||this.Hi(c))).next((g=>{if(!g)throw xt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Ci.enqueueRetryable((()=>this.ki(!1))),new he(Z.FAILED_PRECONDITION,FS);return i(c)})).next((g=>this.Zi(c).next((()=>g)))):this.Ps(c).next((()=>i(c)))))).then((d=>(c.raiseOnCommittedEvent(),d)))}Ps(e){return Hu(e).get(zo).next((t=>{if(t!==null&&this.ts(t.leaseTimestampMs,fp)&&!this.ss(t.ownerId)&&!this.Xi(t)&&!(this.Mi||this.allowTabSynchronization&&t.allowTabSynchronization))throw new he(Z.FAILED_PRECONDITION,dp)}))}Zi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Hu(e).put(zo,t)}static v(){return Ns.v()}Ji(e){const t=Hu(e);return t.get(zo).next((i=>this.Xi(i)?(ne(ps,"Releasing primary lease."),t.delete(zo)):U.resolve()))}ts(e,t){const i=Date.now();return!(e<i-t)&&(!(e>i)||(xt(`Detected an update time that is in the future: ${e} > ${i}`),!1))}Wi(){this.document!==null&&typeof this.document.addEventListener=="function"&&(this.Ni=()=>{this.Ci.enqueueAndForget((()=>(this.inForeground=this.document.visibilityState==="visible",this.$i())))},this.document.addEventListener("visibilitychange",this.Ni),this.inForeground=this.document.visibilityState==="visible")}us(){this.Ni&&(this.document.removeEventListener("visibilitychange",this.Ni),this.Ni=null)}Qi(){typeof this.window?.addEventListener=="function"&&(this.Oi=()=>{this._s();const e=/(?:Version|Mobile)\/1[456]/;Sw()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.Ci.enterRestrictedMode(!0),this.Ci.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.Oi))}cs(){this.Oi&&(this.window.removeEventListener("pagehide",this.Oi),this.Oi=null)}ss(e){try{const t=this.Ui?.getItem(this.rs(e))!==null;return ne(ps,`Client '${e}' ${t?"is":"is not"} zombied in LocalStorage`),t}catch(t){return xt(ps,"Failed to get zombied client id.",t),!1}}_s(){if(this.Ui)try{this.Ui.setItem(this.rs(this.clientId),String(Date.now()))}catch(e){xt("Failed to set zombie client id.",e)}}ls(){if(this.Ui)try{this.Ui.removeItem(this.rs(this.clientId))}catch{}}rs(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Hu(r){return Gt(r,Mc)}function wf(r){return Gt(r,fl)}function uA(r,e){let t=r.projectId;return r.isDefaultDatabase||(t+="."+r.database),"firestore/"+e+"/"+t+"/"}class e_{constructor(e,t,i,a){this.targetId=e,this.fromCache=t,this.Ts=i,this.Is=a}static Es(e,t){let i=je(),a=je();for(const l of t.docChanges)switch(l.type){case 0:i=i.add(l.doc.key);break;case 1:a=a.add(l.doc.key)}return new e_(e,t.fromCache,i,a)}}class xM{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class cA{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Sw()?8:HS(Ht())>0?6:4})()}initialize(e,t){this.fs=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,i,a){const l={result:null};return this.gs(e,t).next((c=>{l.result=c})).next((()=>{if(!l.result)return this.ps(e,t,a,i).next((c=>{l.result=c}))})).next((()=>{if(l.result)return;const c=new xM;return this.ys(e,t,c).next((d=>{if(l.result=d,this.As)return this.ws(e,t,c,d.size)}))})).next((()=>l.result))}ws(e,t,i,a){return i.documentReadCount<this.Vs?(Qo()<=He.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",$o(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),U.resolve()):(Qo()<=He.DEBUG&&ne("QueryEngine","Query:",$o(t),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.ds*a?(Qo()<=He.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",$o(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ln(t))):U.resolve())}gs(e,t){if(nE(t))return U.resolve(null);let i=Ln(t);return this.indexManager.getIndexType(e,i).next((a=>a===0?null:(t.limit!==null&&a===1&&(t=qp(t,null,"F"),i=Ln(t)),this.indexManager.getDocumentsMatchingTarget(e,i).next((l=>{const c=je(...l);return this.fs.getDocuments(e,c).next((d=>this.indexManager.getMinOffset(e,i).next((g=>{const p=this.bs(t,d);return this.Ss(t,p,c,g.readTime)?this.gs(e,qp(t,null,"F")):this.Ds(e,p,t,g)}))))})))))}ps(e,t,i,a){return nE(t)||a.isEqual(we.min())?U.resolve(null):this.fs.getDocuments(e,i).next((l=>{const c=this.bs(t,l);return this.Ss(t,c,i,a)?U.resolve(null):(Qo()<=He.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),$o(t)),this.Ds(e,c,t,zS(a,ll)).next((d=>d)))}))}bs(e,t){let i=new rt(E1(e));return t.forEach(((a,l)=>{Lc(e,l)&&(i=i.add(l))})),i}Ss(e,t,i,a){if(e.limit===null)return!1;if(i.size!==t.size)return!0;const l=e.limitType==="F"?t.last():t.first();return!!l&&(l.hasPendingWrites||l.version.compareTo(a)>0)}ys(e,t,i){return Qo()<=He.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",$o(t)),this.fs.getDocumentsMatchingQuery(e,t,Un.min(),i)}Ds(e,t,i,a){return this.fs.getDocumentsMatchingQuery(e,i,a).next((l=>(t.forEach((c=>{l=l.insert(c.key,c)})),l)))}}const t_="LocalStore",RM=3e8;class CM{constructor(e,t,i,a){this.persistence=e,this.Cs=t,this.serializer=a,this.vs=new ft(Ne),this.Fs=new Vr((l=>Fa(l)),kc),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(i)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lA(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.vs)))}}function hA(r,e,t,i){return new CM(r,e,t,i)}async function fA(r,e){const t=ye(r);return await t.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return t.mutationQueue.getAllMutationBatches(i).next((l=>(a=l,t.Os(e),t.mutationQueue.getAllMutationBatches(i)))).next((l=>{const c=[],d=[];let g=je();for(const p of a){c.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}for(const p of l){d.push(p.batchId);for(const b of p.mutations)g=g.add(b.key)}return t.localDocuments.getDocuments(i,g).next((p=>({Ns:p,removedBatchIds:c,addedBatchIds:d})))}))}))}function NM(r,e){const t=ye(r);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=e.batch.keys(),l=t.xs.newChangeBuffer({trackRemovals:!0});return(function(d,g,p,b){const T=p.batch,I=T.keys();let j=U.resolve();return I.forEach((Q=>{j=j.next((()=>b.getEntry(g,Q))).next((ee=>{const te=p.docVersions.get(Q);be(te!==null,48541),ee.version.compareTo(te)<0&&(T.applyToRemoteDocument(ee,p),ee.isValidDocument()&&(ee.setReadTime(p.commitVersion),b.addEntry(ee)))}))})),j.next((()=>d.mutationQueue.removeMutationBatch(g,T)))})(t,i,e,l).next((()=>l.apply(i))).next((()=>t.mutationQueue.performConsistencyCheck(i))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(i,a,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(d){let g=je();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(g=g.add(d.batch.mutations[p].key));return g})(e)))).next((()=>t.localDocuments.getDocuments(i,a)))}))}function dA(r){const e=ye(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.li.getLastRemoteSnapshotVersion(t)))}function DM(r,e){const t=ye(r),i=e.snapshotVersion;let a=t.vs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(l=>{const c=t.xs.newChangeBuffer({trackRemovals:!0});a=t.vs;const d=[];e.targetChanges.forEach(((b,T)=>{const I=a.get(T);if(!I)return;d.push(t.li.removeMatchingKeys(l,b.removedDocuments,T).next((()=>t.li.addMatchingKeys(l,b.addedDocuments,T))));let j=I.withSequenceNumber(l.currentSequenceNumber);e.targetMismatches.get(T)!==null?j=j.withResumeToken(Rt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):b.resumeToken.approximateByteSize()>0&&(j=j.withResumeToken(b.resumeToken,i)),a=a.insert(T,j),(function(ee,te,ce){return ee.resumeToken.approximateByteSize()===0||te.snapshotVersion.toMicroseconds()-ee.snapshotVersion.toMicroseconds()>=RM?!0:ce.addedDocuments.size+ce.modifiedDocuments.size+ce.removedDocuments.size>0})(I,j,b)&&d.push(t.li.updateTargetData(l,j))}));let g=Mn(),p=je();if(e.documentUpdates.forEach((b=>{e.resolvedLimboDocuments.has(b)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(l,b))})),d.push(OM(l,c,e.documentUpdates).next((b=>{g=b.Bs,p=b.Ls}))),!i.isEqual(we.min())){const b=t.li.getLastRemoteSnapshotVersion(l).next((T=>t.li.setTargetsMetadata(l,l.currentSequenceNumber,i)));d.push(b)}return U.waitFor(d).next((()=>c.apply(l))).next((()=>t.localDocuments.getLocalViewOfDocuments(l,g,p))).next((()=>g))})).then((l=>(t.vs=a,l)))}function OM(r,e,t){let i=je(),a=je();return t.forEach((l=>i=i.add(l))),e.getEntries(r,i).next((l=>{let c=Mn();return t.forEach(((d,g)=>{const p=l.get(d);g.isFoundDocument()!==p.isFoundDocument()&&(a=a.add(d)),g.isNoDocument()&&g.version.isEqual(we.min())?(e.removeEntry(d,g.readTime),c=c.insert(d,g)):!p.isValidDocument()||g.version.compareTo(p.version)>0||g.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(g),c=c.insert(d,g)):ne(t_,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",g.version)})),{Bs:c,Ls:a}}))}function VM(r,e){const t=ye(r);return t.persistence.runTransaction("Get next mutation batch","readonly",(i=>(e===void 0&&(e=Na),t.mutationQueue.getNextMutationBatchAfterBatchId(i,e))))}function md(r,e){const t=ye(r);return t.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return t.li.getTargetData(i,e).next((l=>l?(a=l,U.resolve(a)):t.li.allocateTargetId(i).next((c=>(a=new Ir(e,c,"TargetPurposeListen",i.currentSequenceNumber),t.li.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=t.vs.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(t.vs=t.vs.insert(i.targetId,i),t.Fs.set(e,i.targetId)),i}))}async function bl(r,e,t){const i=ye(r),a=i.vs.get(e),l=t?"readwrite":"readwrite-primary";try{t||await i.persistence.runTransaction("Release target",l,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!Ls(c))throw c;ne(t_,`Failed to update sequence numbers for target ${e}: ${c}`)}i.vs=i.vs.remove(e),i.Fs.delete(a.target)}function Wp(r,e,t){const i=ye(r);let a=we.min(),l=je();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(g,p,b){const T=ye(g),I=T.Fs.get(b);return I!==void 0?U.resolve(T.vs.get(I)):T.li.getTargetData(p,b)})(i,c,Ln(e)).next((d=>{if(d)return a=d.lastLimboFreeSnapshotVersion,i.li.getMatchingKeysForTargetId(c,d.targetId).next((g=>{l=g}))})).next((()=>i.Cs.getDocumentsMatchingQuery(c,e,t?a:we.min(),t?l:je()))).next((d=>(pA(i,T1(e),d),{documents:d,ks:l})))))}function mA(r,e){const t=ye(r),i=ye(t.li),a=t.vs.get(e);return a?Promise.resolve(a.target):t.persistence.runTransaction("Get target data","readonly",(l=>i.At(l,e).next((c=>c?c.target:null))))}function gA(r,e){const t=ye(r),i=t.Ms.get(e)||we.min();return t.persistence.runTransaction("Get new document changes","readonly",(a=>t.xs.getAllFromCollectionGroup(a,e,zS(i,ll),Number.MAX_SAFE_INTEGER))).then((a=>(pA(t,e,a),a)))}function pA(r,e,t){let i=r.Ms.get(e)||we.min();t.forEach(((a,l)=>{l.readTime.compareTo(i)>0&&(i=l.readTime)})),r.Ms.set(e,i)}const yA="firestore_clients";function VE(r,e){return`${yA}_${r}_${e}`}const _A="firestore_mutations";function ME(r,e,t){let i=`${_A}_${r}_${t}`;return e.isAuthenticated()&&(i+=`_${e.uid}`),i}const vA="firestore_targets";function mp(r,e){return`${vA}_${r}_${e}`}const Yi="SharedClientState";class gd{constructor(e,t,i,a){this.user=e,this.batchId=t,this.state=i,this.error=a}static $s(e,t,i){const a=JSON.parse(i);let l,c=typeof a=="object"&&["pending","acknowledged","rejected"].indexOf(a.state)!==-1&&(a.error===void 0||typeof a.error=="object");return c&&a.error&&(c=typeof a.error.message=="string"&&typeof a.error.code=="string",c&&(l=new he(a.error.code,a.error.message))),c?new gd(e,t,a.state,l):(xt(Yi,`Failed to parse mutation state for ID '${t}': ${i}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class hc{constructor(e,t,i){this.targetId=e,this.state=t,this.error=i}static $s(e,t){const i=JSON.parse(t);let a,l=typeof i=="object"&&["not-current","current","rejected"].indexOf(i.state)!==-1&&(i.error===void 0||typeof i.error=="object");return l&&i.error&&(l=typeof i.error.message=="string"&&typeof i.error.code=="string",l&&(a=new he(i.error.code,i.error.message))),l?new hc(e,i.state,a):(xt(Yi,`Failed to parse target state for ID '${e}': ${t}`),null)}Ws(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class pd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static $s(e,t){const i=JSON.parse(t);let a=typeof i=="object"&&i.activeTargetIds instanceof Array,l=By();for(let c=0;a&&c<i.activeTargetIds.length;++c)a=GS(i.activeTargetIds[c]),l=l.add(i.activeTargetIds[c]);return a?new pd(e,l):(xt(Yi,`Failed to parse client data for instance '${e}': ${t}`),null)}}class n_{constructor(e,t){this.clientId=e,this.onlineState=t}static $s(e){const t=JSON.parse(e);return typeof t=="object"&&["Unknown","Online","Offline"].indexOf(t.onlineState)!==-1&&typeof t.clientId=="string"?new n_(t.clientId,t.onlineState):(xt(Yi,`Failed to parse online state: ${e}`),null)}}class Jp{constructor(){this.activeTargetIds=By()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gp{constructor(e,t,i,a,l){this.window=e,this.Ci=t,this.persistenceKey=i,this.zs=a,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.js=this.Hs.bind(this),this.Js=new ft(Ne),this.started=!1,this.Zs=[];const c=i.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=l,this.Xs=VE(this.persistenceKey,this.zs),this.Ys=(function(g){return`firestore_sequence_number_${g}`})(this.persistenceKey),this.Js=this.Js.insert(this.zs,new Jp),this.eo=new RegExp(`^${yA}_${c}_([^_]*)$`),this.no=new RegExp(`^${_A}_${c}_(\\d+)(?:_(.*))?$`),this.ro=new RegExp(`^${vA}_${c}_(\\d+)$`),this.io=(function(g){return`firestore_online_state_${g}`})(this.persistenceKey),this.so=(function(g){return`firestore_bundle_loaded_v2_${g}`})(this.persistenceKey),this.window.addEventListener("storage",this.js)}static v(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.hs();for(const i of e){if(i===this.zs)continue;const a=this.getItem(VE(this.persistenceKey,i));if(a){const l=pd.$s(i,a);l&&(this.Js=this.Js.insert(l.clientId,l))}}this.oo();const t=this.storage.getItem(this.io);if(t){const i=this._o(t);i&&this.ao(i)}for(const i of this.Zs)this.Hs(i);this.Zs=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.Ys,JSON.stringify(e))}getAllActiveQueryTargets(){return this.uo(this.Js)}isActiveQueryTarget(e){let t=!1;return this.Js.forEach(((i,a)=>{a.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.co(e,"pending")}updateMutationState(e,t,i){this.co(e,t,i),this.lo(e)}addLocalQueryTarget(e,t=!0){let i="not-current";if(this.isActiveQueryTarget(e)){const a=this.storage.getItem(mp(this.persistenceKey,e));if(a){const l=hc.$s(e,a);l&&(i=l.state)}}return t&&this.ho.Qs(e),this.oo(),i}removeLocalQueryTarget(e){this.ho.Gs(e),this.oo()}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(mp(this.persistenceKey,e))}updateQueryState(e,t,i){this.Po(e,t,i)}handleUserChange(e,t,i){t.forEach((a=>{this.lo(a)})),this.currentUser=e,i.forEach((a=>{this.addPendingMutation(a)}))}setOnlineState(e){this.To(e)}notifyBundleLoaded(e){this.Io(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.js),this.removeItem(this.Xs),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return ne(Yi,"READ",e,t),t}setItem(e,t){ne(Yi,"SET",e,t),this.storage.setItem(e,t)}removeItem(e){ne(Yi,"REMOVE",e),this.storage.removeItem(e)}Hs(e){const t=e;if(t.storageArea===this.storage){if(ne(Yi,"EVENT",t.key,t.newValue),t.key===this.Xs)return void xt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Ci.enqueueRetryable((async()=>{if(this.started){if(t.key!==null){if(this.eo.test(t.key)){if(t.newValue==null){const i=this.Eo(t.key);return this.Ro(i,null)}{const i=this.Ao(t.key,t.newValue);if(i)return this.Ro(i.clientId,i)}}else if(this.no.test(t.key)){if(t.newValue!==null){const i=this.Vo(t.key,t.newValue);if(i)return this.mo(i)}}else if(this.ro.test(t.key)){if(t.newValue!==null){const i=this.fo(t.key,t.newValue);if(i)return this.po(i)}}else if(t.key===this.io){if(t.newValue!==null){const i=this._o(t.newValue);if(i)return this.ao(i)}}else if(t.key===this.Ys){const i=(function(l){let c=wn.ce;if(l!=null)try{const d=JSON.parse(l);be(typeof d=="number",30636,{yo:l}),c=d}catch(d){xt(Yi,"Failed to read sequence number from WebStorage",d)}return c})(t.newValue);i!==wn.ce&&this.sequenceNumberHandler(i)}else if(t.key===this.so){const i=this.wo(t.newValue);await Promise.all(i.map((a=>this.syncEngine.bo(a))))}}}else this.Zs.push(t)}))}}get ho(){return this.Js.get(this.zs)}oo(){this.setItem(this.Xs,this.ho.Ws())}co(e,t,i){const a=new gd(this.currentUser,e,t,i),l=ME(this.persistenceKey,this.currentUser,e);this.setItem(l,a.Ws())}lo(e){const t=ME(this.persistenceKey,this.currentUser,e);this.removeItem(t)}To(e){const t={clientId:this.zs,onlineState:e};this.storage.setItem(this.io,JSON.stringify(t))}Po(e,t,i){const a=mp(this.persistenceKey,e),l=new hc(e,t,i);this.setItem(a,l.Ws())}Io(e){const t=JSON.stringify(Array.from(e));this.setItem(this.so,t)}Eo(e){const t=this.eo.exec(e);return t?t[1]:null}Ao(e,t){const i=this.Eo(e);return pd.$s(i,t)}Vo(e,t){const i=this.no.exec(e),a=Number(i[1]),l=i[2]!==void 0?i[2]:null;return gd.$s(new Xt(l),a,t)}fo(e,t){const i=this.ro.exec(e),a=Number(i[1]);return hc.$s(a,t)}_o(e){return n_.$s(e)}wo(e){return JSON.parse(e)}async mo(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.So(e.batchId,e.state,e.error);ne(Yi,`Ignoring mutation for non-active user ${e.user.uid}`)}po(e){return this.syncEngine.Do(e.targetId,e.state,e.error)}Ro(e,t){const i=t?this.Js.insert(e,t):this.Js.remove(e),a=this.uo(this.Js),l=this.uo(i),c=[],d=[];return l.forEach((g=>{a.has(g)||c.push(g)})),a.forEach((g=>{l.has(g)||d.push(g)})),this.syncEngine.Co(c,d).then((()=>{this.Js=i}))}ao(e){this.Js.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}uo(e){let t=By();return e.forEach(((i,a)=>{t=t.unionWith(a.activeTargetIds)})),t}}class bA{constructor(){this.vo=new Jp,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,i){}addLocalQueryTarget(e,t=!0){return t&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,t,i){this.Fo[e]=t}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new Jp,Promise.resolve()}handleUserChange(e,t,i){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class MM{Mo(e){}shutdown(){}}const kE="ConnectivityMonitor";class PE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ne(kE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ne(kE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Sf=null;function Zp(){return Sf===null?Sf=(function(){return 268435456+Math.round(2147483648*Math.random())})():Sf++,"0x"+Sf.toString(16)}const pp="RestConnection",kM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class PM{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.qo=t+"://"+e.host,this.Uo=`projects/${i}/databases/${a}`,this.$o=this.databaseId.database===rd?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Wo(e,t,i,a,l){const c=Zp(),d=this.Qo(e,t.toUriEncodedString());ne(pp,`Sending RPC '${e}' ${c}:`,d,i);const g={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(g,a,l);const{host:p}=new URL(d),b=Sl(p);return this.zo(e,d,g,i,b).then((T=>(ne(pp,`Received RPC '${e}' ${c}: `,T),T)),(T=>{throw za(pp,`RPC '${e}' ${c} failed with error: `,T,"url: ",d,"request:",i),T}))}jo(e,t,i,a,l,c){return this.Wo(e,t,i,a,l)}Go(e,t,i){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+xl})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((a,l)=>e[l]=a)),i&&i.headers.forEach(((a,l)=>e[l]=a))}Qo(e,t){const i=kM[e];let a=`${this.qo}/v1/${t}:${i}`;return this.databaseInfo.apiKey&&(a=`${a}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),a}terminate(){}}class LM{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const an="WebChannelConnection",Gu=(r,e,t)=>{r.listen(e,(i=>{try{t(i)}catch(a){setTimeout((()=>{throw a}),0)}}))};class il extends PM{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!il.c_){const e=MS();Gu(e,VS.STAT_EVENT,(t=>{t.stat===Dp.PROXY?ne(an,"STAT_EVENT: detected buffering proxy"):t.stat===Dp.NOPROXY&&ne(an,"STAT_EVENT: detected no buffering proxy")})),il.c_=!0}}zo(e,t,i,a,l){const c=Zp();return new Promise(((d,g)=>{const p=new DS;p.setWithCredentials(!0),p.listenOnce(OS.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case Of.NO_ERROR:const T=p.getResponseJson();ne(an,`XHR for RPC '${e}' ${c} received:`,JSON.stringify(T)),d(T);break;case Of.TIMEOUT:ne(an,`RPC '${e}' ${c} timed out`),g(new he(Z.DEADLINE_EXCEEDED,"Request time out"));break;case Of.HTTP_ERROR:const I=p.getStatus();if(ne(an,`RPC '${e}' ${c} failed with status:`,I,"response text:",p.getResponseText()),I>0){let j=p.getResponseJson();Array.isArray(j)&&(j=j[0]);const Q=j?.error;if(Q&&Q.status&&Q.message){const ee=(function(ce){const fe=ce.toLowerCase().replace(/_/g,"-");return Object.values(Z).indexOf(fe)>=0?fe:Z.UNKNOWN})(Q.status);g(new he(ee,Q.message))}else g(new he(Z.UNKNOWN,"Server responded with status "+p.getStatus()))}else g(new he(Z.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:c,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ne(an,`RPC '${e}' ${c} completed.`)}}));const b=JSON.stringify(a);ne(an,`RPC '${e}' ${c} sending request:`,a),p.send(t,"POST",b,i,15)}))}T_(e,t,i){const a=Zp(),l=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=this.createWebChannelTransport(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(d.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(d.useFetchStreams=!0),this.Go(d.initMessageHeaders,t,i),d.encodeInitMessageHeaders=!0;const p=l.join("");ne(an,`Creating RPC '${e}' stream ${a}: ${p}`,d);const b=c.createWebChannel(p,d);this.I_(b);let T=!1,I=!1;const j=new LM({Ho:Q=>{I?ne(an,`Not sending because RPC '${e}' stream ${a} is closed:`,Q):(T||(ne(an,`Opening RPC '${e}' stream ${a} transport.`),b.open(),T=!0),ne(an,`RPC '${e}' stream ${a} sending:`,Q),b.send(Q))},Jo:()=>b.close()});return Gu(b,Xu.EventType.OPEN,(()=>{I||(ne(an,`RPC '${e}' stream ${a} transport opened.`),j.i_())})),Gu(b,Xu.EventType.CLOSE,(()=>{I||(I=!0,ne(an,`RPC '${e}' stream ${a} transport closed`),j.o_(),this.E_(b))})),Gu(b,Xu.EventType.ERROR,(Q=>{I||(I=!0,za(an,`RPC '${e}' stream ${a} transport errored. Name:`,Q.name,"Message:",Q.message),j.o_(new he(Z.UNAVAILABLE,"The operation could not be completed")))})),Gu(b,Xu.EventType.MESSAGE,(Q=>{if(!I){const ee=Q.data[0];be(!!ee,16349);const te=ee,ce=te?.error||te[0]?.error;if(ce){ne(an,`RPC '${e}' stream ${a} received error:`,ce);const fe=ce.status;let ae=(function(ve){const x=Ut[ve];if(x!==void 0)return M1(x)})(fe),Se=ce.message;fe==="NOT_FOUND"&&Se.includes("database")&&Se.includes("does not exist")&&Se.includes(this.databaseId.database)&&za(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),ae===void 0&&(ae=Z.INTERNAL,Se="Unknown error status: "+fe+" with message "+ce.message),I=!0,j.o_(new he(ae,Se)),b.close()}else ne(an,`RPC '${e}' stream ${a} received:`,ee),j.__(ee)}})),il.u_(),setTimeout((()=>{j.s_()}),0),j}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((t=>t===e))}Go(e,t,i){super.Go(e,t,i),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return kS()}}function UM(r){return new il(r)}function TA(){return typeof window<"u"?window:null}function Ff(){return typeof document<"u"?document:null}function qd(r){return new qV(r,!0)}il.c_=!1;class EA{constructor(e,t,i=1e3,a=1.5,l=6e4){this.Ci=e,this.timerId=t,this.R_=i,this.A_=a,this.V_=l,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const t=Math.floor(this.d_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,t-i);a>0&&ne("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.d_} ms, delay with jitter: ${t} ms, last attempt: ${i} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const LE="PersistentStream";class wA{constructor(e,t,i,a,l,c,d,g){this.Ci=e,this.b_=i,this.S_=a,this.connection=l,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=d,this.listener=g,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new EA(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===Z.RESOURCE_EXHAUSTED?(xt(t.toString()),xt("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===Z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(t)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===t&&this.G_(i,a)}),(i=>{e((()=>{const a=new he(Z.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(e,t){const i=this.Q_(this.D_);this.stream=this.j_(e,t),this.stream.Zo((()=>{i((()=>this.listener.Zo()))})),this.stream.Yo((()=>{i((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.H_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ne(LE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return t=>{this.Ci.enqueueAndForget((()=>this.D_===e?t():(ne(LE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jM extends wA{constructor(e,t,i,a,l,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}j_(e,t){return this.connection.T_("Listen",e,t)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=KV(this.serializer,e),i=(function(l){if(!("targetChange"in l))return we.min();const c=l.targetChange;return c.targetIds&&c.targetIds.length?we.min():c.readTime?mn(c.readTime):we.min()})(e);return this.listener.J_(t,i)}Z_(e){const t={};t.database=Kp(this.serializer),t.addTarget=(function(l,c){let d;const g=c.target;if(d=ad(g)?{documents:F1(l,g)}:{query:q1(l,g).ft},d.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){d.resumeToken=L1(l,c.resumeToken);const p=Hp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}else if(c.snapshotVersion.compareTo(we.min())>0){d.readTime=vl(l,c.snapshotVersion.toTimestamp());const p=Hp(l,c.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const i=QV(this.serializer,e);i&&(t.labels=i),this.K_(t)}X_(e){const t={};t.database=Kp(this.serializer),t.removeTarget=e,this.K_(t)}}class zM extends wA{constructor(e,t,i,a,l,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,i,a,c),this.serializer=l}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}H_(e){return be(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){be(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=YV(e.writeResults,e.commitTime),i=mn(e.commitTime);return this.listener.na(i,t)}ra(){const e={};e.database=Kp(this.serializer),this.K_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((i=>ud(this.serializer,i)))};this.K_(t)}}class BM{}class FM extends BM{constructor(e,t,i,a){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,t,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,c])=>this.connection.Wo(e,Gp(t,i),a,l,c))).catch((l=>{throw l.name==="FirebaseError"?(l.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new he(Z.UNKNOWN,l.toString())}))}jo(e,t,i,a,l){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,d])=>this.connection.jo(e,Gp(t,i),a,c,d,l))).catch((c=>{throw c.name==="FirebaseError"?(c.code===Z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new he(Z.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function qM(r,e,t,i){return new FM(r,e,t,i)}class HM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(xt(t),this.aa=!1):ne("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ka="RemoteStore";class GM{constructor(e,t,i,a,l){this.localStore=e,this.datastore=t,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=l,this.Aa.Mo((c=>{i.enqueueAndForget((async()=>{Xa(this)&&(ne(Ka,"Restarting streams for network reachability change."),await(async function(g){const p=ye(g);p.Ea.add(4),await zc(p),p.Va.set("Unknown"),p.Ea.delete(4),await Hd(p)})(this))}))})),this.Va=new HM(i,a)}}async function Hd(r){if(Xa(r))for(const e of r.Ra)await e(!0)}async function zc(r){for(const e of r.Ra)await e(!1)}function Gd(r,e){const t=ye(r);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),s_(t)?r_(t):Nl(t).O_()&&i_(t,e))}function Tl(r,e){const t=ye(r),i=Nl(t);t.Ia.delete(e),i.O_()&&SA(t,e),t.Ia.size===0&&(i.O_()?i.L_():Xa(t)&&t.Va.set("Unknown"))}function i_(r,e){if(r.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const t=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Nl(r).Z_(e)}function SA(r,e){r.da.$e(e),Nl(r).X_(e)}function r_(r){r.da=new jV({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),At:e=>r.Ia.get(e)||null,ht:()=>r.datastore.serializer.databaseId}),Nl(r).start(),r.Va.ua()}function s_(r){return Xa(r)&&!Nl(r).x_()&&r.Ia.size>0}function Xa(r){return ye(r).Ea.size===0}function AA(r){r.da=void 0}async function KM(r){r.Va.set("Online")}async function YM(r){r.Ia.forEach(((e,t)=>{i_(r,e)}))}async function QM(r,e){AA(r),s_(r)?(r.Va.ha(e),r_(r)):r.Va.set("Unknown")}async function $M(r,e,t){if(r.Va.set("Online"),e instanceof P1&&e.state===2&&e.cause)try{await(async function(a,l){const c=l.cause;for(const d of l.targetIds)a.Ia.has(d)&&(await a.remoteSyncer.rejectListen(d,c),a.Ia.delete(d),a.da.removeTarget(d))})(r,e)}catch(i){ne(Ka,"Failed to remove targets %s: %s ",e.targetIds.join(","),i),await yd(r,i)}else if(e instanceof zf?r.da.Xe(e):e instanceof k1?r.da.st(e):r.da.tt(e),!t.isEqual(we.min()))try{const i=await dA(r.localStore);t.compareTo(i)>=0&&await(function(l,c){const d=l.da.Tt(c);return d.targetChanges.forEach(((g,p)=>{if(g.resumeToken.approximateByteSize()>0){const b=l.Ia.get(p);b&&l.Ia.set(p,b.withResumeToken(g.resumeToken,c))}})),d.targetMismatches.forEach(((g,p)=>{const b=l.Ia.get(g);if(!b)return;l.Ia.set(g,b.withResumeToken(Rt.EMPTY_BYTE_STRING,b.snapshotVersion)),SA(l,g);const T=new Ir(b.target,g,p,b.sequenceNumber);i_(l,T)})),l.remoteSyncer.applyRemoteEvent(d)})(r,t)}catch(i){ne(Ka,"Failed to raise snapshot:",i),await yd(r,i)}}async function yd(r,e,t){if(!Ls(e))throw e;r.Ea.add(1),await zc(r),r.Va.set("Offline"),t||(t=()=>dA(r.localStore)),r.asyncQueue.enqueueRetryable((async()=>{ne(Ka,"Retrying IndexedDB access"),await t(),r.Ea.delete(1),await Hd(r)}))}function IA(r,e){return e().catch((t=>yd(r,t,e)))}async function Cl(r){const e=ye(r),t=Ms(e);let i=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Na;for(;XM(e);)try{const a=await VM(e.localStore,i);if(a===null){e.Ta.length===0&&t.L_();break}i=a.batchId,WM(e,a)}catch(a){await yd(e,a)}xA(e)&&RA(e)}function XM(r){return Xa(r)&&r.Ta.length<10}function WM(r,e){r.Ta.push(e);const t=Ms(r);t.O_()&&t.Y_&&t.ea(e.mutations)}function xA(r){return Xa(r)&&!Ms(r).x_()&&r.Ta.length>0}function RA(r){Ms(r).start()}async function JM(r){Ms(r).ra()}async function ZM(r){const e=Ms(r);for(const t of r.Ta)e.ea(t.mutations)}async function ek(r,e,t){const i=r.Ta.shift(),a=Gy.from(i,e,t);await IA(r,(()=>r.remoteSyncer.applySuccessfulWrite(a))),await Cl(r)}async function tk(r,e){e&&Ms(r).Y_&&await(async function(i,a){if((function(c){return PV(c)&&c!==Z.ABORTED})(a.code)){const l=i.Ta.shift();Ms(i).B_(),await IA(i,(()=>i.remoteSyncer.rejectFailedWrite(l.batchId,a))),await Cl(i)}})(r,e),xA(r)&&RA(r)}async function UE(r,e){const t=ye(r);t.asyncQueue.verifyOperationInProgress(),ne(Ka,"RemoteStore received new credentials");const i=Xa(t);t.Ea.add(3),await zc(t),i&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await Hd(t)}async function ey(r,e){const t=ye(r);e?(t.Ea.delete(2),await Hd(t)):e||(t.Ea.add(2),await zc(t),t.Va.set("Unknown"))}function Nl(r){return r.ma||(r.ma=(function(t,i,a){const l=ye(t);return l.sa(),new jM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Zo:KM.bind(null,r),Yo:YM.bind(null,r),t_:QM.bind(null,r),J_:$M.bind(null,r)}),r.Ra.push((async e=>{e?(r.ma.B_(),s_(r)?r_(r):r.Va.set("Unknown")):(await r.ma.stop(),AA(r))}))),r.ma}function Ms(r){return r.fa||(r.fa=(function(t,i,a){const l=ye(t);return l.sa(),new zM(i,l.connection,l.authCredentials,l.appCheckCredentials,l.serializer,a)})(r.datastore,r.asyncQueue,{Zo:()=>Promise.resolve(),Yo:JM.bind(null,r),t_:tk.bind(null,r),ta:ZM.bind(null,r),na:ek.bind(null,r)}),r.Ra.push((async e=>{e?(r.fa.B_(),await Cl(r)):(await r.fa.stop(),r.Ta.length>0&&(ne(Ka,`Stopping write stream with ${r.Ta.length} pending writes`),r.Ta=[]))}))),r.fa}class a_{constructor(e,t,i,a,l){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=i,this.op=a,this.removalCallback=l,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,i,a,l){const c=Date.now()+i,d=new a_(e,t,c,a,l);return d.start(i),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(Z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function o_(r,e){if(xt("AsyncQueue",`${e}: ${r}`),Ls(r))return new he(Z.UNAVAILABLE,`${e}: ${r}`);throw r}class rl{static emptySet(e){return new rl(e.comparator)}constructor(e){this.comparator=e?(t,i)=>e(t,i)||ue.comparator(t.key,i.key):(t,i)=>ue.comparator(t.key,i.key),this.keyedMap=Wu(),this.sortedSet=new ft(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,i)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof rl)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),i=e.sortedSet.getIterator();for(;t.hasNext();){const a=t.getNext().key,l=i.getNext().key;if(!a.isEqual(l))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const i=new rl;return i.comparator=this.comparator,i.keyedMap=e,i.sortedSet=t,i}}class jE{constructor(){this.ga=new ft(ue.comparator)}track(e){const t=e.doc.key,i=this.ga.get(t);i?e.type!==0&&i.type===3?this.ga=this.ga.insert(t,e):e.type===3&&i.type!==1?this.ga=this.ga.insert(t,{type:i.type,doc:e.doc}):e.type===2&&i.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&i.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&i.type===0?this.ga=this.ga.remove(t):e.type===1&&i.type===2?this.ga=this.ga.insert(t,{type:1,doc:i.doc}):e.type===0&&i.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):de(63341,{Vt:e,pa:i}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,i)=>{e.push(i)})),e}}class El{constructor(e,t,i,a,l,c,d,g,p){this.query=e,this.docs=t,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=l,this.fromCache=c,this.syncStateChanged=d,this.excludesMetadataChanges=g,this.hasCachedResults=p}static fromInitialDocuments(e,t,i,a,l){const c=[];return t.forEach((d=>{c.push({type:0,doc:d})})),new El(e,t,rl.emptySet(t),c,i,a,!0,!1,l)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ld(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,i=e.docChanges;if(t.length!==i.length)return!1;for(let a=0;a<t.length;a++)if(t[a].type!==i[a].type||!t[a].doc.isEqual(i[a].doc))return!1;return!0}}class nk{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class ik{constructor(){this.queries=zE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,i){const a=ye(t),l=a.queries;a.queries=zE(),l.forEach(((c,d)=>{for(const g of d.ba)g.onError(i)}))})(this,new he(Z.ABORTED,"Firestore shutting down"))}}function zE(){return new Vr((r=>b1(r)),Ld)}async function CA(r,e){const t=ye(r);let i=3;const a=e.query;let l=t.queries.get(a);l?!l.Sa()&&e.Da()&&(i=2):(l=new nk,i=e.Da()?0:1);try{switch(i){case 0:l.wa=await t.onListen(a,!0);break;case 1:l.wa=await t.onListen(a,!1);break;case 2:await t.onFirstRemoteStoreListen(a)}}catch(c){const d=o_(c,`Initialization of query '${$o(e.query)}' failed`);return void e.onError(d)}t.queries.set(a,l),l.ba.push(e),e.va(t.onlineState),l.wa&&e.Fa(l.wa)&&l_(t)}async function NA(r,e){const t=ye(r),i=e.query;let a=3;const l=t.queries.get(i);if(l){const c=l.ba.indexOf(e);c>=0&&(l.ba.splice(c,1),l.ba.length===0?a=e.Da()?0:1:!l.Sa()&&e.Da()&&(a=2))}switch(a){case 0:return t.queries.delete(i),t.onUnlisten(i,!0);case 1:return t.queries.delete(i),t.onUnlisten(i,!1);case 2:return t.onLastRemoteStoreUnlisten(i);default:return}}function rk(r,e){const t=ye(r);let i=!1;for(const a of e){const l=a.query,c=t.queries.get(l);if(c){for(const d of c.ba)d.Fa(a)&&(i=!0);c.wa=a}}i&&l_(t)}function sk(r,e,t){const i=ye(r),a=i.queries.get(e);if(a)for(const l of a.ba)l.onError(t);i.queries.delete(e)}function l_(r){r.Ca.forEach((e=>{e.next()}))}var ty,BE;(BE=ty||(ty={})).Ma="default",BE.Cache="cache";class DA{constructor(e,t,i){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(e){if(!this.options.includeMetadataChanges){const i=[];for(const a of e.docChanges)a.type!==3&&i.push(a);e=new El(e.query,e.docs,e.oldDocs,i,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const i=t!=="Offline";return(!this.options.Ka||!i)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=El.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==ty.Cache}}class OA{constructor(e){this.key=e}}class VA{constructor(e){this.key=e}}class ak{constructor(e,t){this.query=e,this.Za=t,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=je(),this.mutatedKeys=je(),this.eu=E1(e),this.tu=new rl(this.eu)}get nu(){return this.Za}ru(e,t){const i=t?t.iu:new jE,a=t?t.tu:this.tu;let l=t?t.mutatedKeys:this.mutatedKeys,c=a,d=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,p=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal(((b,T)=>{const I=a.get(b),j=Lc(this.query,T)?T:null,Q=!!I&&this.mutatedKeys.has(I.key),ee=!!j&&(j.hasLocalMutations||this.mutatedKeys.has(j.key)&&j.hasCommittedMutations);let te=!1;I&&j?I.data.isEqual(j.data)?Q!==ee&&(i.track({type:3,doc:j}),te=!0):this.su(I,j)||(i.track({type:2,doc:j}),te=!0,(g&&this.eu(j,g)>0||p&&this.eu(j,p)<0)&&(d=!0)):!I&&j?(i.track({type:0,doc:j}),te=!0):I&&!j&&(i.track({type:1,doc:I}),te=!0,(g||p)&&(d=!0)),te&&(j?(c=c.add(j),l=ee?l.add(b):l.delete(b)):(c=c.delete(b),l=l.delete(b)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const b=this.query.limitType==="F"?c.last():c.first();c=c.delete(b.key),l=l.delete(b.key),i.track({type:1,doc:b})}return{tu:c,iu:i,Ss:d,mutatedKeys:l}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,i,a){const l=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const c=e.iu.ya();c.sort(((b,T)=>(function(j,Q){const ee=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Vt:te})}};return ee(j)-ee(Q)})(b.type,T.type)||this.eu(b.doc,T.doc))),this.ou(i),a=a??!1;const d=t&&!a?this._u():[],g=this.Ya.size===0&&this.current&&!a?1:0,p=g!==this.Xa;return this.Xa=g,c.length!==0||p?{snapshot:new El(this.query,e.tu,l,c,e.mutatedKeys,g===0,p,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new jE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Za=this.Za.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Za=this.Za.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=je(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Ya=this.Ya.add(i.key))}));const t=[];return e.forEach((i=>{this.Ya.has(i)||t.push(new VA(i))})),this.Ya.forEach((i=>{e.has(i)||t.push(new OA(i))})),t}cu(e){this.Za=e.ks,this.Ya=je();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return El.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Dl="SyncEngine";class ok{constructor(e,t,i){this.query=e,this.targetId=t,this.view=i}}class lk{constructor(e){this.key=e,this.hu=!1}}class uk{constructor(e,t,i,a,l,c){this.localStore=e,this.remoteStore=t,this.eventManager=i,this.sharedClientState=a,this.currentUser=l,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Vr((d=>b1(d)),Ld),this.Iu=new Map,this.Eu=new Set,this.Ru=new ft(ue.comparator),this.Au=new Map,this.Vu=new Wy,this.du={},this.mu=new Map,this.fu=Ga.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function ck(r,e,t=!0){const i=Kd(r);let a;const l=i.Tu.get(e);return l?(i.sharedClientState.addLocalQueryTarget(l.targetId),a=l.view.lu()):a=await MA(i,e,t,!0),a}async function hk(r,e){const t=Kd(r);await MA(t,e,!0,!1)}async function MA(r,e,t,i){const a=await md(r.localStore,Ln(e)),l=a.targetId,c=r.sharedClientState.addLocalQueryTarget(l,t);let d;return i&&(d=await u_(r,e,l,c==="current",a.resumeToken)),r.isPrimaryClient&&t&&Gd(r.remoteStore,a),d}async function u_(r,e,t,i,a){r.pu=(T,I,j)=>(async function(ee,te,ce,fe){let ae=te.view.ru(ce);ae.Ss&&(ae=await Wp(ee.localStore,te.query,!1).then((({documents:x})=>te.view.ru(x,ae))));const Se=fe&&fe.targetChanges.get(te.targetId),Te=fe&&fe.targetMismatches.get(te.targetId)!=null,ve=te.view.applyChanges(ae,ee.isPrimaryClient,Se,Te);return ny(ee,te.targetId,ve.au),ve.snapshot})(r,T,I,j);const l=await Wp(r.localStore,e,!0),c=new ak(e,l.ks),d=c.ru(l.documents),g=jc.createSynthesizedTargetChangeForCurrentChange(t,i&&r.onlineState!=="Offline",a),p=c.applyChanges(d,r.isPrimaryClient,g);ny(r,t,p.au);const b=new ok(e,t,c);return r.Tu.set(e,b),r.Iu.has(t)?r.Iu.get(t).push(e):r.Iu.set(t,[e]),p.snapshot}async function fk(r,e,t){const i=ye(r),a=i.Tu.get(e),l=i.Iu.get(a.targetId);if(l.length>1)return i.Iu.set(a.targetId,l.filter((c=>!Ld(c,e)))),void i.Tu.delete(e);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await bl(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),t&&Tl(i.remoteStore,a.targetId),wl(i,a.targetId)})).catch(Ps)):(wl(i,a.targetId),await bl(i.localStore,a.targetId,!0))}async function dk(r,e){const t=ye(r),i=t.Tu.get(e),a=t.Iu.get(i.targetId);t.isPrimaryClient&&a.length===1&&(t.sharedClientState.removeLocalQueryTarget(i.targetId),Tl(t.remoteStore,i.targetId))}async function mk(r,e,t){const i=d_(r);try{const a=await(function(c,d){const g=ye(c),p=it.now(),b=d.reduce(((j,Q)=>j.add(Q.key)),je());let T,I;return g.persistence.runTransaction("Locally write mutations","readwrite",(j=>{let Q=Mn(),ee=je();return g.xs.getEntries(j,b).next((te=>{Q=te,Q.forEach(((ce,fe)=>{fe.isValidDocument()||(ee=ee.add(ce))}))})).next((()=>g.localDocuments.getOverlayedDocuments(j,Q))).next((te=>{T=te;const ce=[];for(const fe of d){const ae=MV(fe,T.get(fe.key).overlayedDocument);ae!=null&&ce.push(new Us(fe.key,ae,h1(ae.value.mapValue),kn.exists(!0)))}return g.mutationQueue.addMutationBatch(j,p,ce,d)})).next((te=>{I=te;const ce=te.applyToLocalDocumentSet(T,ee);return g.documentOverlayCache.saveOverlays(j,te.batchId,ce)}))})).then((()=>({batchId:I.batchId,changes:S1(T)})))})(i.localStore,e);i.sharedClientState.addPendingMutation(a.batchId),(function(c,d,g){let p=c.du[c.currentUser.toKey()];p||(p=new ft(Ne)),p=p.insert(d,g),c.du[c.currentUser.toKey()]=p})(i,a.batchId,t),await js(i,a.changes),await Cl(i.remoteStore)}catch(a){const l=o_(a,"Failed to persist write");t.reject(l)}}async function kA(r,e){const t=ye(r);try{const i=await DM(t.localStore,e);e.targetChanges.forEach(((a,l)=>{const c=t.Au.get(l);c&&(be(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?be(c.hu,14607):a.removedDocuments.size>0&&(be(c.hu,42227),c.hu=!1))})),await js(t,i,e)}catch(i){await Ps(i)}}function FE(r,e,t){const i=ye(r);if(i.isPrimaryClient&&t===0||!i.isPrimaryClient&&t===1){const a=[];i.Tu.forEach(((l,c)=>{const d=c.view.va(e);d.snapshot&&a.push(d.snapshot)})),(function(c,d){const g=ye(c);g.onlineState=d;let p=!1;g.queries.forEach(((b,T)=>{for(const I of T.ba)I.va(d)&&(p=!0)})),p&&l_(g)})(i.eventManager,e),a.length&&i.Pu.J_(a),i.onlineState=e,i.isPrimaryClient&&i.sharedClientState.setOnlineState(e)}}async function gk(r,e,t){const i=ye(r);i.sharedClientState.updateQueryState(e,"rejected",t);const a=i.Au.get(e),l=a&&a.key;if(l){let c=new ft(ue.comparator);c=c.insert(l,Et.newNoDocument(l,we.min()));const d=je().add(l),g=new Uc(we.min(),new Map,new ft(Ne),c,d);await kA(i,g),i.Ru=i.Ru.remove(l),i.Au.delete(e),f_(i)}else await bl(i.localStore,e,!1).then((()=>wl(i,e,t))).catch(Ps)}async function pk(r,e){const t=ye(r),i=e.batch.batchId;try{const a=await NM(t.localStore,e);h_(t,i,null),c_(t,i),t.sharedClientState.updateMutationState(i,"acknowledged"),await js(t,a)}catch(a){await Ps(a)}}async function yk(r,e,t){const i=ye(r);try{const a=await(function(c,d){const g=ye(c);return g.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let b;return g.mutationQueue.lookupMutationBatch(p,d).next((T=>(be(T!==null,37113),b=T.keys(),g.mutationQueue.removeMutationBatch(p,T)))).next((()=>g.mutationQueue.performConsistencyCheck(p))).next((()=>g.documentOverlayCache.removeOverlaysForBatchId(p,b,d))).next((()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,b))).next((()=>g.localDocuments.getDocuments(p,b)))}))})(i.localStore,e);h_(i,e,t),c_(i,e),i.sharedClientState.updateMutationState(e,"rejected",t),await js(i,a)}catch(a){await Ps(a)}}function c_(r,e){(r.mu.get(e)||[]).forEach((t=>{t.resolve()})),r.mu.delete(e)}function h_(r,e,t){const i=ye(r);let a=i.du[i.currentUser.toKey()];if(a){const l=a.get(e);l&&(t?l.reject(t):l.resolve(),a=a.remove(e)),i.du[i.currentUser.toKey()]=a}}function wl(r,e,t=null){r.sharedClientState.removeLocalQueryTarget(e);for(const i of r.Iu.get(e))r.Tu.delete(i),t&&r.Pu.yu(i,t);r.Iu.delete(e),r.isPrimaryClient&&r.Vu.Gr(e).forEach((i=>{r.Vu.containsKey(i)||PA(r,i)}))}function PA(r,e){r.Eu.delete(e.path.canonicalString());const t=r.Ru.get(e);t!==null&&(Tl(r.remoteStore,t),r.Ru=r.Ru.remove(e),r.Au.delete(t),f_(r))}function ny(r,e,t){for(const i of t)i instanceof OA?(r.Vu.addReference(i.key,e),_k(r,i)):i instanceof VA?(ne(Dl,"Document no longer in limbo: "+i.key),r.Vu.removeReference(i.key,e),r.Vu.containsKey(i.key)||PA(r,i.key)):de(19791,{wu:i})}function _k(r,e){const t=e.key,i=t.path.canonicalString();r.Ru.get(t)||r.Eu.has(i)||(ne(Dl,"New document in limbo: "+t),r.Eu.add(i),f_(r))}function f_(r){for(;r.Eu.size>0&&r.Ru.size<r.maxConcurrentLimboResolutions;){const e=r.Eu.values().next().value;r.Eu.delete(e);const t=new ue(ut.fromString(e)),i=r.fu.next();r.Au.set(i,new lk(t)),r.Ru=r.Ru.insert(t,i),Gd(r.remoteStore,new Ir(Ln(Pc(t.path)),i,"TargetPurposeLimboResolution",wn.ce))}}async function js(r,e,t){const i=ye(r),a=[],l=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((d,g)=>{c.push(i.pu(g,e,t).then((p=>{if((p||t)&&i.isPrimaryClient){const b=p?!p.fromCache:t?.targetChanges.get(g.targetId)?.current;i.sharedClientState.updateQueryState(g.targetId,b?"current":"not-current")}if(p){a.push(p);const b=e_.Es(g.targetId,p);l.push(b)}})))})),await Promise.all(c),i.Pu.J_(a),await(async function(g,p){const b=ye(g);try{await b.persistence.runTransaction("notifyLocalViewChanges","readwrite",(T=>U.forEach(p,(I=>U.forEach(I.Ts,(j=>b.persistence.referenceDelegate.addReference(T,I.targetId,j))).next((()=>U.forEach(I.Is,(j=>b.persistence.referenceDelegate.removeReference(T,I.targetId,j)))))))))}catch(T){if(!Ls(T))throw T;ne(t_,"Failed to update sequence numbers: "+T)}for(const T of p){const I=T.targetId;if(!T.fromCache){const j=b.vs.get(I),Q=j.snapshotVersion,ee=j.withLastLimboFreeSnapshotVersion(Q);b.vs=b.vs.insert(I,ee)}}})(i.localStore,l))}async function vk(r,e){const t=ye(r);if(!t.currentUser.isEqual(e)){ne(Dl,"User change. New user:",e.toKey());const i=await fA(t.localStore,e);t.currentUser=e,(function(l,c){l.mu.forEach((d=>{d.forEach((g=>{g.reject(new he(Z.CANCELLED,c))}))})),l.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,i.removedBatchIds,i.addedBatchIds),await js(t,i.Ns)}}function bk(r,e){const t=ye(r),i=t.Au.get(e);if(i&&i.hu)return je().add(i.key);{let a=je();const l=t.Iu.get(e);if(!l)return a;for(const c of l){const d=t.Tu.get(c);a=a.unionWith(d.view.nu)}return a}}async function Tk(r,e){const t=ye(r),i=await Wp(t.localStore,e.query,!0),a=e.view.cu(i);return t.isPrimaryClient&&ny(t,e.targetId,a.au),a}async function Ek(r,e){const t=ye(r);return gA(t.localStore,e).then((i=>js(t,i)))}async function wk(r,e,t,i){const a=ye(r),l=await(function(d,g){const p=ye(d),b=ye(p.mutationQueue);return p.persistence.runTransaction("Lookup mutation documents","readonly",(T=>b.Xn(T,g).next((I=>I?p.localDocuments.getDocuments(T,I):U.resolve(null)))))})(a.localStore,e);l!==null?(t==="pending"?await Cl(a.remoteStore):t==="acknowledged"||t==="rejected"?(h_(a,e,i||null),c_(a,e),(function(d,g){ye(ye(d).mutationQueue).nr(g)})(a.localStore,e)):de(6720,"Unknown batchState",{bu:t}),await js(a,l)):ne(Dl,"Cannot apply mutation batch with id: "+e)}async function Sk(r,e){const t=ye(r);if(Kd(t),d_(t),e===!0&&t.gu!==!0){const i=t.sharedClientState.getAllActiveQueryTargets(),a=await qE(t,i.toArray());t.gu=!0,await ey(t.remoteStore,!0);for(const l of a)Gd(t.remoteStore,l)}else if(e===!1&&t.gu!==!1){const i=[];let a=Promise.resolve();t.Iu.forEach(((l,c)=>{t.sharedClientState.isLocalQueryTarget(c)?i.push(c):a=a.then((()=>(wl(t,c),bl(t.localStore,c,!0)))),Tl(t.remoteStore,c)})),await a,await qE(t,i),(function(c){const d=ye(c);d.Au.forEach(((g,p)=>{Tl(d.remoteStore,p)})),d.Vu.zr(),d.Au=new Map,d.Ru=new ft(ue.comparator)})(t),t.gu=!1,await ey(t.remoteStore,!1)}}async function qE(r,e,t){const i=ye(r),a=[],l=[];for(const c of e){let d;const g=i.Iu.get(c);if(g&&g.length!==0){d=await md(i.localStore,Ln(g[0]));for(const p of g){const b=i.Tu.get(p),T=await Tk(i,b);T.snapshot&&l.push(T.snapshot)}}else{const p=await mA(i.localStore,c);d=await md(i.localStore,p),await u_(i,LA(p),c,!1,d.resumeToken)}a.push(d)}return i.Pu.J_(l),a}function LA(r){return v1(r.path,r.collectionGroup,r.orderBy,r.filters,r.limit,"F",r.startAt,r.endAt)}function Ak(r){return(function(t){return ye(ye(t).persistence).hs()})(ye(r).localStore)}async function Ik(r,e,t,i){const a=ye(r);if(a.gu)return void ne(Dl,"Ignoring unexpected query state notification.");const l=a.Iu.get(e);if(l&&l.length>0)switch(t){case"current":case"not-current":{const c=await gA(a.localStore,T1(l[0])),d=Uc.createSynthesizedRemoteEventForCurrentChange(e,t==="current",Rt.EMPTY_BYTE_STRING);await js(a,c,d);break}case"rejected":await bl(a.localStore,e,!0),wl(a,e,i);break;default:de(64155,t)}}async function xk(r,e,t){const i=Kd(r);if(i.gu){for(const a of e){if(i.Iu.has(a)&&i.sharedClientState.isActiveQueryTarget(a)){ne(Dl,"Adding an already active target "+a);continue}const l=await mA(i.localStore,a),c=await md(i.localStore,l);await u_(i,LA(l),c.targetId,!1,c.resumeToken),Gd(i.remoteStore,c)}for(const a of t)i.Iu.has(a)&&await bl(i.localStore,a,!1).then((()=>{Tl(i.remoteStore,a),wl(i,a)})).catch(Ps)}}function Kd(r){const e=ye(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=kA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=bk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=gk.bind(null,e),e.Pu.J_=rk.bind(null,e.eventManager),e.Pu.yu=sk.bind(null,e.eventManager),e}function d_(r){const e=ye(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=pk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=yk.bind(null,e),e}class Sc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=qd(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return hA(this.persistence,new cA,e.initialUser,this.serializer)}Cu(e){return new Jy(Fd.Vi,this.serializer)}Du(e){return new bA}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Sc.provider={build:()=>new Sc};class Rk extends Sc{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){be(this.persistence.referenceDelegate instanceof dd,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new rA(i,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Jy((i=>dd.Vi(i,t)),this.serializer)}}class UA extends Sc{constructor(e,t,i){super(),this.xu=e,this.cacheSizeBytes=t,this.forceOwnership=i,this.kind="persistent",this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.xu.initialize(this,e),await d_(this.xu.syncEngine),await Cl(this.xu.remoteStore),await this.persistence.zi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}vu(e){return hA(this.persistence,new cA,e.initialUser,this.serializer)}Fu(e,t){const i=this.persistence.referenceDelegate.garbageCollector;return new rA(i,e.asyncQueue,t)}Mu(e,t){const i=new VO(t,this.persistence);return new OO(e.asyncQueue,i)}Cu(e){const t=uA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),i=this.cacheSizeBytes!==void 0?on.withCacheSize(this.cacheSizeBytes):on.DEFAULT;return new Zy(this.synchronizeTabs,t,e.clientId,i,e.asyncQueue,TA(),Ff(),this.serializer,this.sharedClientState,!!this.forceOwnership)}Du(e){return new bA}}class Ck extends UA{constructor(e,t){super(e,t,!1),this.xu=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.xu.syncEngine;this.sharedClientState instanceof gp&&(this.sharedClientState.syncEngine={So:wk.bind(null,t),Do:Ik.bind(null,t),Co:xk.bind(null,t),hs:Ak.bind(null,t),bo:Ek.bind(null,t)},await this.sharedClientState.start()),await this.persistence.zi((async i=>{await Sk(this.xu.syncEngine,i),this.gcScheduler&&(i&&!this.gcScheduler.started?this.gcScheduler.start():i||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(i&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():i||this.indexBackfillerScheduler.stop())}))}Du(e){const t=TA();if(!gp.v(t))throw new he(Z.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const i=uA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new gp(t,e.asyncQueue,i,e.clientId,e.initialUser)}}class Ac{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>FE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=vk.bind(null,this.syncEngine),await ey(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new ik})()}createDatastore(e){const t=qd(e.databaseInfo.databaseId),i=UM(e.databaseInfo);return qM(e.authCredentials,e.appCheckCredentials,i,t)}createRemoteStore(e){return(function(i,a,l,c,d){return new GM(i,a,l,c,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>FE(this.syncEngine,t,0)),(function(){return PE.v()?new PE:new MM})())}createSyncEngine(e,t){return(function(a,l,c,d,g,p,b){const T=new uk(a,l,c,d,g,p);return b&&(T.gu=!0),T})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){await(async function(t){const i=ye(t);ne(Ka,"RemoteStore shutting down."),i.Ea.add(5),await zc(i),i.Aa.shutdown(),i.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Ac.provider={build:()=>new Ac};class jA{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):xt("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}const ks="FirestoreClient";class Nk{constructor(e,t,i,a,l){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=i,this._databaseInfo=a,this.user=Xt.UNAUTHENTICATED,this.clientId=Ry.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=l,this.authCredentials.start(i,(async c=>{ne(ks,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(ne(ks,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new xr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const i=o_(t,"Failed to shutdown persistence");e.reject(i)}})),e.promise}}async function yp(r,e){r.asyncQueue.verifyOperationInProgress(),ne(ks,"Initializing OfflineComponentProvider");const t=r.configuration;await e.initialize(t);let i=t.initialUser;r.setCredentialChangeListener((async a=>{i.isEqual(a)||(await fA(e.localStore,a),i=a)})),e.persistence.setDatabaseDeletedListener((()=>r.terminate())),r._offlineComponents=e}async function HE(r,e){r.asyncQueue.verifyOperationInProgress();const t=await Dk(r);ne(ks,"Initializing OnlineComponentProvider"),await e.initialize(t,r.configuration),r.setCredentialChangeListener((i=>UE(e.remoteStore,i))),r.setAppCheckTokenChangeListener(((i,a)=>UE(e.remoteStore,a))),r._onlineComponents=e}async function Dk(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){ne(ks,"Using user provided OfflineComponentProvider");try{await yp(r,r._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(a){return a.name==="FirebaseError"?a.code===Z.FAILED_PRECONDITION||a.code===Z.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(t))throw t;za("Error using user provided cache. Falling back to memory cache: "+t),await yp(r,new Sc)}}else ne(ks,"Using default OfflineComponentProvider"),await yp(r,new Rk(void 0));return r._offlineComponents}async function zA(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(ne(ks,"Using user provided OnlineComponentProvider"),await HE(r,r._uninitializedComponentsProvider._online)):(ne(ks,"Using default OnlineComponentProvider"),await HE(r,new Ac))),r._onlineComponents}function Ok(r){return zA(r).then((e=>e.syncEngine))}async function iy(r){const e=await zA(r),t=e.eventManager;return t.onListen=ck.bind(null,e.syncEngine),t.onUnlisten=fk.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=hk.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=dk.bind(null,e.syncEngine),t}function Vk(r,e,t,i){const a=new jA(i),l=new DA(e,a,t);return r.asyncQueue.enqueueAndForget((async()=>CA(await iy(r),l))),()=>{a.Nu(),r.asyncQueue.enqueueAndForget((async()=>NA(await iy(r),l)))}}function Mk(r,e,t={}){const i=new xr;return r.asyncQueue.enqueueAndForget((async()=>(function(l,c,d,g,p){const b=new jA({next:I=>{b.Nu(),c.enqueueAndForget((()=>NA(l,T)));const j=I.docs.has(d);!j&&I.fromCache?p.reject(new he(Z.UNAVAILABLE,"Failed to get document because the client is offline.")):j&&I.fromCache&&g&&g.source==="server"?p.reject(new he(Z.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(I)},error:I=>p.reject(I)}),T=new DA(Pc(d.path),b,{includeMetadataChanges:!0,Ka:!0});return CA(l,T)})(await iy(r),r.asyncQueue,e,t,i))),i.promise}function kk(r,e){const t=new xr;return r.asyncQueue.enqueueAndForget((async()=>mk(await Ok(r),e,t))),t.promise}function BA(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}const Pk="ComponentProvider",GE=new Map;function Lk(r,e,t,i,a){return new oV(r,e,t,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,BA(a.experimentalLongPollingOptions),a.useFetchStreams,a.isUsingEmulator,i)}const FA="firestore.googleapis.com",KE=!0;class YE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new he(Z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FA,this.ssl=KE}else this.host=e.host,this.ssl=e.ssl??KE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=eA;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<cM)throw new he(Z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}CO("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BA(e.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new he(Z.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class m_{constructor(e,t,i,a){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new YE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(Z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(Z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new YE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new _O;switch(i.type){case"firstParty":return new EO(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new he(Z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const i=GE.get(t);i&&(ne(Pk,"Removing Datastore"),GE.delete(t),i.terminate())})(this),Promise.resolve()}}function Uk(r,e,t,i={}){r=Cs(r,m_);const a=Sl(e),l=r._getSettings(),c={...l,emulatorOptions:r._getEmulatorOptions()},d=`${e}:${t}`;a&&(bw(`https://${d}`),Tw("Firestore",!0)),l.host!==FA&&l.host!==d&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g={...l,host:d,ssl:a,emulatorOptions:i};if(!Ds(g,c)&&(r._setSettings(g),i.mockUserToken)){let p,b;if(typeof i.mockUserToken=="string")p=i.mockUserToken,b=Xt.MOCK_USER;else{p=TR(i.mockUserToken,r._app?.options.projectId);const T=i.mockUserToken.sub||i.mockUserToken.user_id;if(!T)throw new he(Z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new Xt(T)}r._authCredentials=new vO(new LS(p,b))}}class Yd{constructor(e,t,i){this.converter=t,this._query=i,this.type="query",this.firestore=e}withConverter(e){return new Yd(this.firestore,e,this._query)}}class qt{constructor(e,t,i){this.converter=t,this._key=i,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ic(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qt(this.firestore,e,this._key)}toJSON(){return{type:qt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,i){if(Vc(t,qt._jsonSchema))return new qt(e,i||null,new ue(ut.fromString(t.referencePath)))}}qt._jsonSchemaVersion="firestore/documentReference/1.0",qt._jsonSchema={type:jt("string",qt._jsonSchemaVersion),referencePath:jt("string")};class Ic extends Yd{constructor(e,t,i){super(e,t,Pc(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new ue(e))}withConverter(e){return new Ic(this.firestore,e,this._path)}}function br(r,e,...t){if(r=un(r),arguments.length===1&&(e=Ry.newId()),RO("doc","path",e),r instanceof m_){const i=ut.fromString(e,...t);return LT(i),new qt(r,null,new ue(i))}{if(!(r instanceof qt||r instanceof Ic))throw new he(Z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=r._path.child(ut.fromString(e,...t));return LT(i),new qt(r.firestore,r instanceof Ic?r.converter:null,new ue(i))}}const QE="AsyncQueue";class $E{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new EA(this,"async_queue_retry"),this._c=()=>{const i=Ff();i&&ne(QE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=e;const t=Ff();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=Ff();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new xr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ls(e))throw e;ne(QE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((i=>{throw this.nc=i,this.rc=!1,xt("INTERNAL UNHANDLED ERROR: ",XE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=t,t}enqueueAfterDelay(e,t,i){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const a=a_.createAndSchedule(this,e,t,i,(l=>this.hc(l)));return this.tc.push(a),a}uc(){this.nc&&de(47125,{Pc:XE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,i)=>t.targetTimeMs-i.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function XE(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}class xc extends m_{constructor(e,t,i,a){super(e,t,i,a),this.type="firestore",this._queue=new $E,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new $E(e),this._firestoreClient=void 0,await e}}}function jk(r,e){const t=typeof r=="object"?r:cy(),i=typeof r=="string"?r:e||rd,a=Qa(t,"firestore").getImmediate({identifier:i});if(!a._initialized){const l=vR("firestore");l&&Uk(a,...l)}return a}function g_(r){if(r._terminated)throw new he(Z.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||zk(r),r._firestoreClient}function zk(r){const e=r._freezeSettings(),t=Lk(r._databaseId,r._app?.options.appId||"",r._persistenceKey,r._app?.options.apiKey,e);r._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(r._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),r._firestoreClient=new Nk(r._authCredentials,r._appCheckCredentials,r._queue,t,r._componentsProvider&&(function(a){const l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}})(r._componentsProvider))}class ei{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ei(Rt.fromBase64String(e))}catch(t){throw new he(Z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ei(Rt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Vc(e,ei._jsonSchema))return ei.fromBase64String(e.bytes)}}ei._jsonSchemaVersion="firestore/bytes/1.0",ei._jsonSchema={type:jt("string",ei._jsonSchemaVersion),bytes:jt("string")};class qA{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new he(Z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new _t(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class HA{constructor(e){this._methodName=e}}class Wi{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new he(Z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new he(Z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wi._jsonSchemaVersion}}static fromJSON(e){if(Vc(e,Wi._jsonSchema))return new Wi(e.latitude,e.longitude)}}Wi._jsonSchemaVersion="firestore/geoPoint/1.0",Wi._jsonSchema={type:jt("string",Wi._jsonSchemaVersion),latitude:jt("number"),longitude:jt("number")};class bi{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(i,a){if(i.length!==a.length)return!1;for(let l=0;l<i.length;++l)if(i[l]!==a[l])return!1;return!0})(this._values,e._values)}toJSON(){return{type:bi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Vc(e,bi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new bi(e.vectorValues);throw new he(Z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}bi._jsonSchemaVersion="firestore/vectorValue/1.0",bi._jsonSchema={type:jt("string",bi._jsonSchemaVersion),vectorValues:jt("object")};const Bk=/^__.*__$/;class Fk{constructor(e,t,i){this.data=e,this.fieldMask=t,this.fieldTransforms=i}toMutation(e,t){return this.fieldMask!==null?new Us(e,this.data,this.fieldMask,t,this.fieldTransforms):new Rl(e,this.data,t,this.fieldTransforms)}}function GA(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{dataSource:r})}}class p_{constructor(e,t,i,a,l,c){this.settings=e,this.databaseId=t,this.serializer=i,this.ignoreUndefinedProperties=a,l===void 0&&this.validatePath(),this.fieldTransforms=l||[],this.fieldMask=c||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new p_({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePathSegment(e),i}childContextForFieldPath(e){const t=this.path?.child(e),i=this.contextWith({path:t,arrayElement:!1});return i.validatePath(),i}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return _d(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(GA(this.dataSource)&&Bk.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class qk{constructor(e,t,i){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=i||qd(e)}createContext(e,t,i,a=!1){return new p_({dataSource:e,methodName:t,targetDoc:i,path:_t.emptyPath(),arrayElement:!1,hasConverter:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Hk(r){const e=r._freezeSettings(),t=qd(r._databaseId);return new qk(r._databaseId,!!e.ignoreUndefinedProperties,t)}function Gk(r,e,t,i,a,l={}){const c=r.createContext(l.merge||l.mergeFields?2:0,e,t,a);$A("Data must be an object, but it was:",c,i);const d=YA(i,c);let g,p;if(l.merge)g=new ti(c.fieldMask),p=c.fieldTransforms;else if(l.mergeFields){const b=[];for(const T of l.mergeFields){const I=y_(e,T,t);if(!c.contains(I))throw new he(Z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);Qk(b,I)||b.push(I)}g=new ti(b),p=c.fieldTransforms.filter((T=>g.covers(T.field)))}else g=null,p=c.fieldTransforms;return new Fk(new En(d),g,p)}function KA(r,e){if(QA(r=un(r)))return $A("Unsupported field value:",e,r),YA(r,e);if(r instanceof HA)return(function(i,a){if(!GA(a.dataSource))throw a.createError(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.createError(`${i._methodName}() is not currently supported inside arrays`);const l=i._toFieldTransform(a);l&&a.fieldTransforms.push(l)})(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(i,a){const l=[];let c=0;for(const d of i){let g=KA(d,a.childContextForArray(c));g==null&&(g={nullValue:"NULL_VALUE"}),l.push(g),c++}return{arrayValue:{values:l}}})(r,e)}return(function(i,a){if((i=un(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return xV(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const l=it.fromDate(i);return{timestampValue:vl(a.serializer,l)}}if(i instanceof it){const l=new it(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:vl(a.serializer,l)}}if(i instanceof Wi)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ei)return{bytesValue:L1(a.serializer,i._byteString)};if(i instanceof qt){const l=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(l))throw a.createError(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${l.projectId}/${l.database}`);return{referenceValue:Qy(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof bi)return(function(c,d){const g=c instanceof bi?c.toArray():c;return{mapValue:{fields:{[Ly]:{stringValue:Uy},[dl]:{arrayValue:{values:g.map((b=>{if(typeof b!="number")throw d.createError("VectorValues must only contain numeric values.");return Fy(d.serializer,b)}))}}}}}})(i,a);if(Q1(i))return i._toProto(a.serializer);throw a.createError(`Unsupported field value: ${Cy(i)}`)})(r,e)}function YA(r,e){const t={};return n1(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):$a(r,((i,a)=>{const l=KA(a,e.childContextForField(i));l!=null&&(t[i]=l)})),{mapValue:{fields:t}}}function QA(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof it||r instanceof Wi||r instanceof ei||r instanceof qt||r instanceof HA||r instanceof bi||Q1(r))}function $A(r,e,t){if(!QA(t)||!jS(t)){const i=Cy(t);throw i==="an object"?e.createError(r+" a custom object"):e.createError(r+" "+i)}}function y_(r,e,t){if((e=un(e))instanceof qA)return e._internalPath;if(typeof e=="string")return Yk(r,e);throw _d("Field path arguments must be of type string or ",r,!1,void 0,t)}const Kk=new RegExp("[~\\*/\\[\\]]");function Yk(r,e,t){if(e.search(Kk)>=0)throw _d(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,t);try{return new qA(...e.split("."))._internalPath}catch{throw _d(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,t)}}function _d(r,e,t,i,a){const l=i&&!i.isEmpty(),c=a!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let g="";return(l||c)&&(g+=" (found",l&&(g+=` in field ${i}`),c&&(g+=` in document ${a}`),g+=")"),new he(Z.INVALID_ARGUMENT,d+r+g)}function Qk(r,e){return r.some((t=>t.isEqual(e)))}class $k{convertValue(e,t="none"){switch(Os(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const i={};return $a(e,((a,l)=>{i[a]=this.convertValue(l,t)})),i}convertVectorValue(e){const t=e.fields?.[dl].arrayValue?.values?.map((i=>yt(i.doubleValue)));return new bi(t)}convertGeoPoint(e){return new Wi(yt(e.latitude),yt(e.longitude))}convertArray(e,t){return(e.values||[]).map((i=>this.convertValue(i,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const i=Md(e);return i==null?null:this.convertValue(i,t);case"estimate":return this.convertTimestamp(vc(e));default:return null}}convertTimestamp(e){const t=Nr(e);return new it(t.seconds,t.nanos)}convertDocumentKey(e,t){const i=ut.fromString(e);be(Y1(i),9688,{name:e});const a=new Ba(i.get(1),i.get(3)),l=new ue(i.popFirst(5));return a.isEqual(t)||xt(`Document ${l} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),l}}class XA extends $k{constructor(e){super(),this.firestore=e}convertBytes(e){return new ei(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,t)}}const WE="@firebase/firestore",JE="4.11.0";function ZE(r){return(function(t,i){if(typeof t!="object"||t===null)return!1;const a=t;for(const l of i)if(l in a&&typeof a[l]=="function")return!0;return!1})(r,["next","error","complete"])}class WA{constructor(e,t,i,a,l){this._firestore=e,this._userDataWriter=t,this._key=i,this._document=a,this._converter=l}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Xk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const t=this._document.data.field(y_("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class Xk extends WA{data(){return super.data()}}function Wk(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(Z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function Jk(r,e,t){let i;return i=r?t&&(t.merge||t.mergeFields)?r.toFirestore(e,t):r.toFirestore(e):e,i}class Zk{constructor(e){let t;this.kind="persistent",e?.tabManager?(e.tabManager._initialize(e),t=e.tabManager):(t=i4(void 0),t._initialize(e)),this._onlineComponentProvider=t._onlineComponentProvider,this._offlineComponentProvider=t._offlineComponentProvider}toJSON(){return{kind:this.kind}}}function e4(r){return new Zk(r)}class t4{constructor(e){this.forceOwnership=e,this.kind="persistentSingleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Ac.provider,this._offlineComponentProvider={build:t=>new UA(t,e?.cacheSizeBytes,this.forceOwnership)}}}class n4{constructor(){this.kind="PersistentMultipleTab"}toJSON(){return{kind:this.kind}}_initialize(e){this._onlineComponentProvider=Ac.provider,this._offlineComponentProvider={build:t=>new Ck(t,e?.cacheSizeBytes)}}}function i4(r){return new t4(r?.forceOwnership)}function r4(){return new n4}class ec{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Va extends WA{constructor(e,t,i,a,l,c){super(e,t,i,a,c),this._firestore=e,this._firestoreImpl=e,this.metadata=l}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new qf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const i=this._document.data.field(y_("DocumentSnapshot.get",e));if(i!==null)return this._userDataWriter.convertValue(i,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Va._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Va._jsonSchemaVersion="firestore/documentSnapshot/1.0",Va._jsonSchema={type:jt("string",Va._jsonSchemaVersion),bundleSource:jt("string","DocumentSnapshot"),bundleName:jt("string"),bundle:jt("string")};class qf extends Va{data(e={}){return super.data(e)}}class sl{constructor(e,t,i,a){this._firestore=e,this._userDataWriter=t,this._snapshot=a,this.metadata=new ec(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((i=>{e.call(t,new qf(this._firestore,this._userDataWriter,i.key,i,new ec(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new he(Z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(a,l){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((d=>{const g=new qf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ec(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);return d.doc,{type:"added",doc:g,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((d=>l||d.type!==3)).map((d=>{const g=new qf(a._firestore,a._userDataWriter,d.doc.key,d.doc,new ec(a._snapshot.mutatedKeys.has(d.doc.key),a._snapshot.fromCache),a.query.converter);let p=-1,b=-1;return d.type!==0&&(p=c.indexOf(d.doc.key),c=c.delete(d.doc.key)),d.type!==1&&(c=c.add(d.doc),b=c.indexOf(d.doc.key)),{type:s4(d.type),doc:g,oldIndex:p,newIndex:b}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new he(Z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=sl._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Ry.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],i=[],a=[];return this.docs.forEach((l=>{l._document!==null&&(t.push(l._document),i.push(this._userDataWriter.convertObjectMap(l._document.data.value.mapValue.fields,"previous")),a.push(l.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function s4(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:r})}}sl._jsonSchemaVersion="firestore/querySnapshot/1.0",sl._jsonSchema={type:jt("string",sl._jsonSchemaVersion),bundleSource:jt("string","QuerySnapshot"),bundleName:jt("string"),bundle:jt("string")};function ys(r){r=Cs(r,qt);const e=Cs(r.firestore,xc),t=g_(e);return Mk(t,r._key).then((i=>JA(e,r,i)))}function _s(r,e,t){r=Cs(r,qt);const i=Cs(r.firestore,xc),a=Jk(r.converter,e,t),l=Hk(i);return o4(i,[Gk(l,"setDoc",r._key,a,r.converter!==null,t).toMutation(r._key,kn.none())])}function a4(r,...e){r=un(r);let t={includeMetadataChanges:!1,source:"default"},i=0;typeof e[i]!="object"||ZE(e[i])||(t=e[i++]);const a={includeMetadataChanges:t.includeMetadataChanges,source:t.source};if(ZE(e[i])){const p=e[i];e[i]=p.next?.bind(p),e[i+1]=p.error?.bind(p),e[i+2]=p.complete?.bind(p)}let l,c,d;if(r instanceof qt)c=Cs(r.firestore,xc),d=Pc(r._key.path),l={next:p=>{e[i]&&e[i](JA(c,r,p))},error:e[i+1],complete:e[i+2]};else{const p=Cs(r,Yd);c=Cs(p.firestore,xc),d=p._query;const b=new XA(c);l={next:T=>{e[i]&&e[i](new sl(c,b,p,T))},error:e[i+1],complete:e[i+2]},Wk(r._query)}const g=g_(c);return Vk(g,d,a,l)}function o4(r,e){const t=g_(r);return kk(t,e)}function JA(r,e,t){const i=t.docs.get(e._key),a=new XA(r);return new Va(r,a,e._key,i,new ec(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){yO(Al),Ji(new Ti("firestore",((i,{instanceIdentifier:a,options:l})=>{const c=i.getProvider("app").getImmediate(),d=new xc(new bO(i.getProvider("auth-internal")),new wO(c,i.getProvider("app-check-internal")),lV(c,a),c);return l={useFetchStreams:t,...l},d._setSettings(l),d}),"PUBLIC").setMultipleInstances(!0)),ni(WE,JE,e),ni(WE,JE,"esm2020")})();const l4={apiKey:"AIzaSyByGhcAHo9FEmCiE7MZA_Uwi9faGbYHz34",authDomain:"subscription-tracker-a6c30.firebaseapp.com",projectId:"subscription-tracker-a6c30",storageBucket:"subscription-tracker-a6c30.appspot.com",messagingSenderId:"605694892750",appId:"1:605694892750:web:4f3a30c9b27a7fd0d60e9f",measurementId:"G-E8E0C7K4GT"},__=Nw(l4);hN(__);const ry=gO(__),Tr=jk(__,{localCache:e4({tabManager:r4()})});function ZA(r){var e,t,i="";if(typeof r=="string"||typeof r=="number")i+=r;else if(typeof r=="object")if(Array.isArray(r)){var a=r.length;for(e=0;e<a;e++)r[e]&&(t=ZA(r[e]))&&(i&&(i+=" "),i+=t)}else for(t in r)r[t]&&(i&&(i+=" "),i+=t);return i}function u4(){for(var r,e,t=0,i="",a=arguments.length;t<a;t++)(r=arguments[t])&&(e=ZA(r))&&(i&&(i+=" "),i+=e);return i}const c4=(r,e)=>{const t=new Array(r.length+e.length);for(let i=0;i<r.length;i++)t[i]=r[i];for(let i=0;i<e.length;i++)t[r.length+i]=e[i];return t},h4=(r,e)=>({classGroupId:r,validator:e}),eI=(r=new Map,e=null,t)=>({nextPart:r,validators:e,classGroupId:t}),vd="-",ew=[],f4="arbitrary..",d4=r=>{const e=g4(r),{conflictingClassGroups:t,conflictingClassGroupModifiers:i}=r;return{getClassGroupId:c=>{if(c.startsWith("[")&&c.endsWith("]"))return m4(c);const d=c.split(vd),g=d[0]===""&&d.length>1?1:0;return tI(d,g,e)},getConflictingClassGroupIds:(c,d)=>{if(d){const g=i[c],p=t[c];return g?p?c4(p,g):g:p||ew}return t[c]||ew}}},tI=(r,e,t)=>{if(r.length-e===0)return t.classGroupId;const a=r[e],l=t.nextPart.get(a);if(l){const p=tI(r,e+1,l);if(p)return p}const c=t.validators;if(c===null)return;const d=e===0?r.join(vd):r.slice(e).join(vd),g=c.length;for(let p=0;p<g;p++){const b=c[p];if(b.validator(d))return b.classGroupId}},m4=r=>r.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=r.slice(1,-1),t=e.indexOf(":"),i=e.slice(0,t);return i?f4+i:void 0})(),g4=r=>{const{theme:e,classGroups:t}=r;return p4(t,e)},p4=(r,e)=>{const t=eI();for(const i in r){const a=r[i];v_(a,t,i,e)}return t},v_=(r,e,t,i)=>{const a=r.length;for(let l=0;l<a;l++){const c=r[l];y4(c,e,t,i)}},y4=(r,e,t,i)=>{if(typeof r=="string"){_4(r,e,t);return}if(typeof r=="function"){v4(r,e,t,i);return}b4(r,e,t,i)},_4=(r,e,t)=>{const i=r===""?e:nI(e,r);i.classGroupId=t},v4=(r,e,t,i)=>{if(T4(r)){v_(r(i),e,t,i);return}e.validators===null&&(e.validators=[]),e.validators.push(h4(t,r))},b4=(r,e,t,i)=>{const a=Object.entries(r),l=a.length;for(let c=0;c<l;c++){const[d,g]=a[c];v_(g,nI(e,d),t,i)}},nI=(r,e)=>{let t=r;const i=e.split(vd),a=i.length;for(let l=0;l<a;l++){const c=i[l];let d=t.nextPart.get(c);d||(d=eI(),t.nextPart.set(c,d)),t=d}return t},T4=r=>"isThemeGetter"in r&&r.isThemeGetter===!0,E4=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,t=Object.create(null),i=Object.create(null);const a=(l,c)=>{t[l]=c,e++,e>r&&(e=0,i=t,t=Object.create(null))};return{get(l){let c=t[l];if(c!==void 0)return c;if((c=i[l])!==void 0)return a(l,c),c},set(l,c){l in t?t[l]=c:a(l,c)}}},sy="!",tw=":",w4=[],nw=(r,e,t,i,a)=>({modifiers:r,hasImportantModifier:e,baseClassName:t,maybePostfixModifierPosition:i,isExternal:a}),S4=r=>{const{prefix:e,experimentalParseClassName:t}=r;let i=a=>{const l=[];let c=0,d=0,g=0,p;const b=a.length;for(let ee=0;ee<b;ee++){const te=a[ee];if(c===0&&d===0){if(te===tw){l.push(a.slice(g,ee)),g=ee+1;continue}if(te==="/"){p=ee;continue}}te==="["?c++:te==="]"?c--:te==="("?d++:te===")"&&d--}const T=l.length===0?a:a.slice(g);let I=T,j=!1;T.endsWith(sy)?(I=T.slice(0,-1),j=!0):T.startsWith(sy)&&(I=T.slice(1),j=!0);const Q=p&&p>g?p-g:void 0;return nw(l,j,I,Q)};if(e){const a=e+tw,l=i;i=c=>c.startsWith(a)?l(c.slice(a.length)):nw(w4,!1,c,void 0,!0)}if(t){const a=i;i=l=>t({className:l,parseClassName:a})}return i},A4=r=>{const e=new Map;return r.orderSensitiveModifiers.forEach((t,i)=>{e.set(t,1e6+i)}),t=>{const i=[];let a=[];for(let l=0;l<t.length;l++){const c=t[l],d=c[0]==="[",g=e.has(c);d||g?(a.length>0&&(a.sort(),i.push(...a),a=[]),i.push(c)):a.push(c)}return a.length>0&&(a.sort(),i.push(...a)),i}},I4=r=>({cache:E4(r.cacheSize),parseClassName:S4(r),sortModifiers:A4(r),...d4(r)}),x4=/\s+/,R4=(r,e)=>{const{parseClassName:t,getClassGroupId:i,getConflictingClassGroupIds:a,sortModifiers:l}=e,c=[],d=r.trim().split(x4);let g="";for(let p=d.length-1;p>=0;p-=1){const b=d[p],{isExternal:T,modifiers:I,hasImportantModifier:j,baseClassName:Q,maybePostfixModifierPosition:ee}=t(b);if(T){g=b+(g.length>0?" "+g:g);continue}let te=!!ee,ce=i(te?Q.substring(0,ee):Q);if(!ce){if(!te){g=b+(g.length>0?" "+g:g);continue}if(ce=i(Q),!ce){g=b+(g.length>0?" "+g:g);continue}te=!1}const fe=I.length===0?"":I.length===1?I[0]:l(I).join(":"),ae=j?fe+sy:fe,Se=ae+ce;if(c.indexOf(Se)>-1)continue;c.push(Se);const Te=a(ce,te);for(let ve=0;ve<Te.length;++ve){const x=Te[ve];c.push(ae+x)}g=b+(g.length>0?" "+g:g)}return g},C4=(...r)=>{let e=0,t,i,a="";for(;e<r.length;)(t=r[e++])&&(i=iI(t))&&(a&&(a+=" "),a+=i);return a},iI=r=>{if(typeof r=="string")return r;let e,t="";for(let i=0;i<r.length;i++)r[i]&&(e=iI(r[i]))&&(t&&(t+=" "),t+=e);return t},N4=(r,...e)=>{let t,i,a,l;const c=g=>{const p=e.reduce((b,T)=>T(b),r());return t=I4(p),i=t.cache.get,a=t.cache.set,l=d,d(g)},d=g=>{const p=i(g);if(p)return p;const b=R4(g,t);return a(g,b),b};return l=c,(...g)=>l(C4(...g))},D4=[],Ft=r=>{const e=t=>t[r]||D4;return e.isThemeGetter=!0,e},rI=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,sI=/^\((?:(\w[\w-]*):)?(.+)\)$/i,O4=/^\d+\/\d+$/,V4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,M4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,k4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,P4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,L4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ko=r=>O4.test(r),Ue=r=>!!r&&!Number.isNaN(Number(r)),vs=r=>!!r&&Number.isInteger(Number(r)),_p=r=>r.endsWith("%")&&Ue(r.slice(0,-1)),Er=r=>V4.test(r),U4=()=>!0,j4=r=>M4.test(r)&&!k4.test(r),aI=()=>!1,z4=r=>P4.test(r),B4=r=>L4.test(r),F4=r=>!ge(r)&&!pe(r),q4=r=>Ol(r,uI,aI),ge=r=>rI.test(r),ya=r=>Ol(r,cI,j4),vp=r=>Ol(r,Q4,Ue),iw=r=>Ol(r,oI,aI),H4=r=>Ol(r,lI,B4),Af=r=>Ol(r,hI,z4),pe=r=>sI.test(r),Ku=r=>Vl(r,cI),G4=r=>Vl(r,$4),rw=r=>Vl(r,oI),K4=r=>Vl(r,uI),Y4=r=>Vl(r,lI),If=r=>Vl(r,hI,!0),Ol=(r,e,t)=>{const i=rI.exec(r);return i?i[1]?e(i[1]):t(i[2]):!1},Vl=(r,e,t=!1)=>{const i=sI.exec(r);return i?i[1]?e(i[1]):t:!1},oI=r=>r==="position"||r==="percentage",lI=r=>r==="image"||r==="url",uI=r=>r==="length"||r==="size"||r==="bg-size",cI=r=>r==="length",Q4=r=>r==="number",$4=r=>r==="family-name",hI=r=>r==="shadow",X4=()=>{const r=Ft("color"),e=Ft("font"),t=Ft("text"),i=Ft("font-weight"),a=Ft("tracking"),l=Ft("leading"),c=Ft("breakpoint"),d=Ft("container"),g=Ft("spacing"),p=Ft("radius"),b=Ft("shadow"),T=Ft("inset-shadow"),I=Ft("text-shadow"),j=Ft("drop-shadow"),Q=Ft("blur"),ee=Ft("perspective"),te=Ft("aspect"),ce=Ft("ease"),fe=Ft("animate"),ae=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Se=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],Te=()=>[...Se(),pe,ge],ve=()=>["auto","hidden","clip","visible","scroll"],x=()=>["auto","contain","none"],A=()=>[pe,ge,g],R=()=>[Ko,"full","auto",...A()],M=()=>[vs,"none","subgrid",pe,ge],O=()=>["auto",{span:["full",vs,pe,ge]},vs,pe,ge],k=()=>[vs,"auto",pe,ge],C=()=>["auto","min","max","fr",pe,ge],le=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],ie=()=>["start","end","center","stretch","center-safe","end-safe"],L=()=>["auto",...A()],W=()=>[Ko,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...A()],K=()=>[r,pe,ge],Re=()=>[...Se(),rw,iw,{position:[pe,ge]}],Ve=()=>["no-repeat",{repeat:["","x","y","space","round"]}],D=()=>["auto","cover","contain",K4,q4,{size:[pe,ge]}],X=()=>[_p,Ku,ya],re=()=>["","none","full",p,pe,ge],oe=()=>["",Ue,Ku,ya],Ie=()=>["solid","dashed","dotted","double"],De=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Ae=()=>[Ue,_p,rw,iw],vt=()=>["","none",Q,pe,ge],Je=()=>["none",Ue,pe,ge],zn=()=>["none",Ue,pe,ge],wi=()=>[Ue,pe,ge],ii=()=>[Ko,"full",...A()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Er],breakpoint:[Er],color:[U4],container:[Er],"drop-shadow":[Er],ease:["in","out","in-out"],font:[F4],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Er],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Er],shadow:[Er],spacing:["px",Ue],text:[Er],"text-shadow":[Er],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ko,ge,pe,te]}],container:["container"],columns:[{columns:[Ue,ge,pe,d]}],"break-after":[{"break-after":ae()}],"break-before":[{"break-before":ae()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:Te()}],overflow:[{overflow:ve()}],"overflow-x":[{"overflow-x":ve()}],"overflow-y":[{"overflow-y":ve()}],overscroll:[{overscroll:x()}],"overscroll-x":[{"overscroll-x":x()}],"overscroll-y":[{"overscroll-y":x()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[vs,"auto",pe,ge]}],basis:[{basis:[Ko,"full","auto",d,...A()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Ue,Ko,"auto","initial","none",ge]}],grow:[{grow:["",Ue,pe,ge]}],shrink:[{shrink:["",Ue,pe,ge]}],order:[{order:[vs,"first","last","none",pe,ge]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:O()}],"col-start":[{"col-start":k()}],"col-end":[{"col-end":k()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:O()}],"row-start":[{"row-start":k()}],"row-end":[{"row-end":k()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:A()}],"gap-x":[{"gap-x":A()}],"gap-y":[{"gap-y":A()}],"justify-content":[{justify:[...le(),"normal"]}],"justify-items":[{"justify-items":[...ie(),"normal"]}],"justify-self":[{"justify-self":["auto",...ie()]}],"align-content":[{content:["normal",...le()]}],"align-items":[{items:[...ie(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...ie(),{baseline:["","last"]}]}],"place-content":[{"place-content":le()}],"place-items":[{"place-items":[...ie(),"baseline"]}],"place-self":[{"place-self":["auto",...ie()]}],p:[{p:A()}],px:[{px:A()}],py:[{py:A()}],ps:[{ps:A()}],pe:[{pe:A()}],pt:[{pt:A()}],pr:[{pr:A()}],pb:[{pb:A()}],pl:[{pl:A()}],m:[{m:L()}],mx:[{mx:L()}],my:[{my:L()}],ms:[{ms:L()}],me:[{me:L()}],mt:[{mt:L()}],mr:[{mr:L()}],mb:[{mb:L()}],ml:[{ml:L()}],"space-x":[{"space-x":A()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":A()}],"space-y-reverse":["space-y-reverse"],size:[{size:W()}],w:[{w:[d,"screen",...W()]}],"min-w":[{"min-w":[d,"screen","none",...W()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[c]},...W()]}],h:[{h:["screen","lh",...W()]}],"min-h":[{"min-h":["screen","lh","none",...W()]}],"max-h":[{"max-h":["screen","lh",...W()]}],"font-size":[{text:["base",t,Ku,ya]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[i,pe,vp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",_p,ge]}],"font-family":[{font:[G4,ge,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,pe,ge]}],"line-clamp":[{"line-clamp":[Ue,"none",pe,vp]}],leading:[{leading:[l,...A()]}],"list-image":[{"list-image":["none",pe,ge]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",pe,ge]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[Ue,"from-font","auto",pe,ya]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[Ue,"auto",pe,ge]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:A()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",pe,ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",pe,ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Re()}],"bg-repeat":[{bg:Ve()}],"bg-size":[{bg:D()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},vs,pe,ge],radial:["",pe,ge],conic:[vs,pe,ge]},Y4,H4]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:X()}],"gradient-via-pos":[{via:X()}],"gradient-to-pos":[{to:X()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:re()}],"rounded-s":[{"rounded-s":re()}],"rounded-e":[{"rounded-e":re()}],"rounded-t":[{"rounded-t":re()}],"rounded-r":[{"rounded-r":re()}],"rounded-b":[{"rounded-b":re()}],"rounded-l":[{"rounded-l":re()}],"rounded-ss":[{"rounded-ss":re()}],"rounded-se":[{"rounded-se":re()}],"rounded-ee":[{"rounded-ee":re()}],"rounded-es":[{"rounded-es":re()}],"rounded-tl":[{"rounded-tl":re()}],"rounded-tr":[{"rounded-tr":re()}],"rounded-br":[{"rounded-br":re()}],"rounded-bl":[{"rounded-bl":re()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Ue,pe,ge]}],"outline-w":[{outline:["",Ue,Ku,ya]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",b,If,Af]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",T,If,Af]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[Ue,ya]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",I,If,Af]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[Ue,pe,ge]}],"mix-blend":[{"mix-blend":[...De(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":De()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Ue]}],"mask-image-linear-from-pos":[{"mask-linear-from":Ae()}],"mask-image-linear-to-pos":[{"mask-linear-to":Ae()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":Ae()}],"mask-image-t-to-pos":[{"mask-t-to":Ae()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":Ae()}],"mask-image-r-to-pos":[{"mask-r-to":Ae()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":Ae()}],"mask-image-b-to-pos":[{"mask-b-to":Ae()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":Ae()}],"mask-image-l-to-pos":[{"mask-l-to":Ae()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":Ae()}],"mask-image-x-to-pos":[{"mask-x-to":Ae()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":Ae()}],"mask-image-y-to-pos":[{"mask-y-to":Ae()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[pe,ge]}],"mask-image-radial-from-pos":[{"mask-radial-from":Ae()}],"mask-image-radial-to-pos":[{"mask-radial-to":Ae()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":Se()}],"mask-image-conic-pos":[{"mask-conic":[Ue]}],"mask-image-conic-from-pos":[{"mask-conic-from":Ae()}],"mask-image-conic-to-pos":[{"mask-conic-to":Ae()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Re()}],"mask-repeat":[{mask:Ve()}],"mask-size":[{mask:D()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",pe,ge]}],filter:[{filter:["","none",pe,ge]}],blur:[{blur:vt()}],brightness:[{brightness:[Ue,pe,ge]}],contrast:[{contrast:[Ue,pe,ge]}],"drop-shadow":[{"drop-shadow":["","none",j,If,Af]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",Ue,pe,ge]}],"hue-rotate":[{"hue-rotate":[Ue,pe,ge]}],invert:[{invert:["",Ue,pe,ge]}],saturate:[{saturate:[Ue,pe,ge]}],sepia:[{sepia:["",Ue,pe,ge]}],"backdrop-filter":[{"backdrop-filter":["","none",pe,ge]}],"backdrop-blur":[{"backdrop-blur":vt()}],"backdrop-brightness":[{"backdrop-brightness":[Ue,pe,ge]}],"backdrop-contrast":[{"backdrop-contrast":[Ue,pe,ge]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Ue,pe,ge]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Ue,pe,ge]}],"backdrop-invert":[{"backdrop-invert":["",Ue,pe,ge]}],"backdrop-opacity":[{"backdrop-opacity":[Ue,pe,ge]}],"backdrop-saturate":[{"backdrop-saturate":[Ue,pe,ge]}],"backdrop-sepia":[{"backdrop-sepia":["",Ue,pe,ge]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":A()}],"border-spacing-x":[{"border-spacing-x":A()}],"border-spacing-y":[{"border-spacing-y":A()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",pe,ge]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Ue,"initial",pe,ge]}],ease:[{ease:["linear","initial",ce,pe,ge]}],delay:[{delay:[Ue,pe,ge]}],animate:[{animate:["none",fe,pe,ge]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[ee,pe,ge]}],"perspective-origin":[{"perspective-origin":Te()}],rotate:[{rotate:Je()}],"rotate-x":[{"rotate-x":Je()}],"rotate-y":[{"rotate-y":Je()}],"rotate-z":[{"rotate-z":Je()}],scale:[{scale:zn()}],"scale-x":[{"scale-x":zn()}],"scale-y":[{"scale-y":zn()}],"scale-z":[{"scale-z":zn()}],"scale-3d":["scale-3d"],skew:[{skew:wi()}],"skew-x":[{"skew-x":wi()}],"skew-y":[{"skew-y":wi()}],transform:[{transform:[pe,ge,"","none","gpu","cpu"]}],"transform-origin":[{origin:Te()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ii()}],"translate-x":[{"translate-x":ii()}],"translate-y":[{"translate-y":ii()}],"translate-z":[{"translate-z":ii()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",pe,ge]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":A()}],"scroll-mx":[{"scroll-mx":A()}],"scroll-my":[{"scroll-my":A()}],"scroll-ms":[{"scroll-ms":A()}],"scroll-me":[{"scroll-me":A()}],"scroll-mt":[{"scroll-mt":A()}],"scroll-mr":[{"scroll-mr":A()}],"scroll-mb":[{"scroll-mb":A()}],"scroll-ml":[{"scroll-ml":A()}],"scroll-p":[{"scroll-p":A()}],"scroll-px":[{"scroll-px":A()}],"scroll-py":[{"scroll-py":A()}],"scroll-ps":[{"scroll-ps":A()}],"scroll-pe":[{"scroll-pe":A()}],"scroll-pt":[{"scroll-pt":A()}],"scroll-pr":[{"scroll-pr":A()}],"scroll-pb":[{"scroll-pb":A()}],"scroll-pl":[{"scroll-pl":A()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",pe,ge]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[Ue,Ku,ya,vp]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},W4=N4(X4);function ay(...r){return W4(u4(r))}const fI={active:{label:"Active",color:"bg-green-100 border-green-200",textColor:"text-green-700",icon:""},paused:{label:"Paused",color:"bg-gray-100 border-gray-200",textColor:"text-gray-700",icon:""},trial:{label:"Trial",color:"bg-blue-100 border-blue-200",textColor:"text-blue-700",icon:""},cancelled:{label:"Cancelled",color:"bg-red-100 border-red-200",textColor:"text-red-700",icon:""}},bd={entertainment:{label:"Entertainment",icon:"",color:"bg-purple-100"},productivity:{label:"Productivity",icon:"",color:"bg-blue-100"},utilities:{label:"Utilities",icon:"",color:"bg-orange-100"},health:{label:"Health",icon:"",color:"bg-red-100"},other:{label:"Other",icon:"",color:"bg-gray-100"}};function J4({onSubmit:r,user:e}){const[t,i]=Me.useState(""),[a,l]=Me.useState(""),[c,d]=Me.useState("INR"),[g,p]=Me.useState("monthly"),[b,T]=Me.useState("active"),[I,j]=Me.useState("other"),[Q,ee]=Me.useState(""),[te,ce]=Me.useState(!1),[fe,ae]=Me.useState(!1),[Se,Te]=Me.useState(null);Me.useEffect(()=>{const x=localStorage.getItem("draftSubscription");if(x)try{const A=JSON.parse(x);i(A.name||""),l(A.amount?.toString()||""),d(A.currency||"INR"),p(A.cycle||"monthly"),T(A.status||"active"),j(A.category||"other"),ee(A.nextDate||"")}catch(A){console.error("Error loading cached draft:",A)}},[]),Me.useEffect(()=>{if(!e&&(t||a||Q)){const x={name:t,amount:a?parseFloat(a):0,currency:c,cycle:g,status:b,category:I,nextDate:Q};localStorage.setItem("draftSubscription",JSON.stringify(x)),ae(!0)}},[t,a,c,g,b,I,Q,e]);const ve=async x=>{if(x.preventDefault(),Te(null),!t||!a||!Q){Te("All fields are required.");return}if(isNaN(parseFloat(a))||parseFloat(a)<=0){Te("Amount must be a positive number.");return}if(new Date(Q)<new Date){Te("Next billing date must be in the future.");return}ce(!0);try{console.log("Submitting subscription:",{name:t,amount:a,currency:c,cycle:g,status:b,category:I,nextDate:Q}),await r({name:t,amount:parseFloat(a),currency:c,cycle:g,status:b,category:I,nextDate:Q}),console.log("Subscription submitted successfully, clearing form"),i(""),l(""),d("INR"),p("monthly"),T("active"),j("other"),ee(""),ae(!1)}catch(A){console.error("Error submitting subscription:",A),Te(`Error: ${A instanceof Error?A.message:"Failed to save subscription"}`)}finally{ce(!1)}};return w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[w.jsx("h2",{className:"text-xl font-semibold text-slate-900 mb-4",children:"Add New Subscription"}),!e&&fe&&w.jsxs("div",{className:"mb-4 p-4 bg-amber-50 border border-amber-200 rounded-lg flex items-start gap-3",children:[w.jsx("svg",{className:"w-5 h-5 text-amber-600 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"})}),w.jsxs("div",{className:"flex-1",children:[w.jsx("p",{className:"text-sm font-semibold text-amber-900 mb-1",children:"Sign up to save your data"}),w.jsx("p",{className:"text-xs text-amber-700",children:"Your subscription details are being saved locally. Sign in to sync across devices and never lose your data."})]})]}),w.jsxs("form",{onSubmit:ve,className:"space-y-4",children:[Se&&w.jsx("div",{className:"text-red-600 text-sm mb-2",children:Se}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Subscription Name"}),w.jsx("input",{type:"text",value:t,onChange:x=>i(x.target.value),placeholder:"Netflix, Spotify, etc.",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",required:!0})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Amount"}),w.jsx("input",{type:"number",value:a,onChange:x=>l(x.target.value),placeholder:"999",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",step:"0.01",min:"0",required:!0})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Currency"}),w.jsxs("select",{value:c,onChange:x=>d(x.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",children:[w.jsx("option",{value:"INR",children:" INR"}),w.jsx("option",{value:"USD",children:"$ USD"}),w.jsx("option",{value:"EUR",children:" EUR"}),w.jsx("option",{value:"GBP",children:" GBP"}),w.jsx("option",{value:"AUD",children:"A$ AUD"}),w.jsx("option",{value:"CAD",children:"C$ CAD"})]})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Billing Cycle"}),w.jsxs("select",{value:g,onChange:x=>p(x.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",children:[w.jsx("option",{value:"monthly",children:"Monthly"}),w.jsx("option",{value:"quarterly",children:"Quarterly"}),w.jsx("option",{value:"yearly",children:"Yearly"})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Status"}),w.jsxs("select",{value:b,onChange:x=>T(x.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",children:[w.jsx("option",{value:"active",children:"Active"}),w.jsx("option",{value:"trial",children:"Trial"}),w.jsx("option",{value:"paused",children:"Paused"})]})]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Category"}),w.jsx("select",{value:I,onChange:x=>j(x.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",children:Object.entries(bd).map(([x,A])=>w.jsxs("option",{value:x,children:[A.icon," ",A.label]},x))})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Next Billing Date"}),w.jsx("input",{type:"date",value:Q,onChange:x=>ee(x.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 outline-none transition",required:!0})]}),w.jsx("button",{type:"submit",disabled:te,className:ay("w-full py-3 px-4 rounded-lg font-medium transition-colors flex items-center justify-center gap-2",te?"bg-indigo-300 cursor-not-allowed":e?"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2":"bg-gradient-to-r from-amber-500 to-orange-500 text-white hover:from-amber-600 hover:to-orange-600 shadow-lg hover:shadow-xl transform hover:scale-105"),children:te?"Adding...":e?"Add Subscription":w.jsxs(w.Fragment,{children:[w.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})}),"Sign up to save data"]})})]})]})}const dI=6048e5,Z4=864e5,mI=6e4,gI=36e5,sw=Symbol.for("constructDateFrom");function Or(r,e){return typeof r=="function"?r(e):r&&typeof r=="object"&&sw in r?r[sw](e):r instanceof Date?new r.constructor(e):new Date(e)}function jn(r,e){return Or(e||r,r)}let eP={};function Qd(){return eP}function Rc(r,e){const t=Qd(),i=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??t.weekStartsOn??t.locale?.options?.weekStartsOn??0,a=jn(r,e?.in),l=a.getDay(),c=(l<i?7:0)+l-i;return a.setDate(a.getDate()-c),a.setHours(0,0,0,0),a}function Td(r,e){return Rc(r,{...e,weekStartsOn:1})}function pI(r,e){const t=jn(r,e?.in),i=t.getFullYear(),a=Or(t,0);a.setFullYear(i+1,0,4),a.setHours(0,0,0,0);const l=Td(a),c=Or(t,0);c.setFullYear(i,0,4),c.setHours(0,0,0,0);const d=Td(c);return t.getTime()>=l.getTime()?i+1:t.getTime()>=d.getTime()?i:i-1}function aw(r){const e=jn(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function yI(r,...e){const t=Or.bind(null,e.find(i=>typeof i=="object"));return e.map(t)}function ow(r,e){const t=jn(r,e?.in);return t.setHours(0,0,0,0),t}function _I(r,e,t){const[i,a]=yI(t?.in,r,e),l=ow(i),c=ow(a),d=+l-aw(l),g=+c-aw(c);return Math.round((d-g)/Z4)}function tP(r,e){const t=pI(r,e),i=Or(r,0);return i.setFullYear(t,0,4),i.setHours(0,0,0,0),Td(i)}function nP(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function iP(r){return!(!nP(r)&&typeof r!="number"||isNaN(+jn(r)))}function Ma(r,e,t){const[i,a]=yI(t?.in,r,e),l=lw(i,a),c=Math.abs(_I(i,a));i.setDate(i.getDate()-l*c);const d=+(lw(i,a)===-l),g=l*(c-d);return g===0?0:g}function lw(r,e){const t=r.getFullYear()-e.getFullYear()||r.getMonth()-e.getMonth()||r.getDate()-e.getDate()||r.getHours()-e.getHours()||r.getMinutes()-e.getMinutes()||r.getSeconds()-e.getSeconds()||r.getMilliseconds()-e.getMilliseconds();return t<0?-1:t>0?1:t}function rP(r,e){const t=jn(r,e?.in);return t.setFullYear(t.getFullYear(),0,1),t.setHours(0,0,0,0),t}const sP={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},aP=(r,e,t)=>{let i;const a=sP[r];return typeof a=="string"?i=a:e===1?i=a.one:i=a.other.replace("{{count}}",e.toString()),t?.addSuffix?t.comparison&&t.comparison>0?"in "+i:i+" ago":i};function bp(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const oP={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},lP={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},uP={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},cP={date:bp({formats:oP,defaultWidth:"full"}),time:bp({formats:lP,defaultWidth:"full"}),dateTime:bp({formats:uP,defaultWidth:"full"})},hP={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},fP=(r,e,t,i)=>hP[r];function Yu(r){return(e,t)=>{const i=t?.context?String(t.context):"standalone";let a;if(i==="formatting"&&r.formattingValues){const c=r.defaultFormattingWidth||r.defaultWidth,d=t?.width?String(t.width):c;a=r.formattingValues[d]||r.formattingValues[c]}else{const c=r.defaultWidth,d=t?.width?String(t.width):r.defaultWidth;a=r.values[d]||r.values[c]}const l=r.argumentCallback?r.argumentCallback(e):e;return a[l]}}const dP={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},mP={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},gP={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},pP={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},yP={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},_P={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},vP=(r,e)=>{const t=Number(r),i=t%100;if(i>20||i<10)switch(i%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},bP={ordinalNumber:vP,era:Yu({values:dP,defaultWidth:"wide"}),quarter:Yu({values:mP,defaultWidth:"wide",argumentCallback:r=>r-1}),month:Yu({values:gP,defaultWidth:"wide"}),day:Yu({values:pP,defaultWidth:"wide"}),dayPeriod:Yu({values:yP,defaultWidth:"wide",formattingValues:_P,defaultFormattingWidth:"wide"})};function Qu(r){return(e,t={})=>{const i=t.width,a=i&&r.matchPatterns[i]||r.matchPatterns[r.defaultMatchWidth],l=e.match(a);if(!l)return null;const c=l[0],d=i&&r.parsePatterns[i]||r.parsePatterns[r.defaultParseWidth],g=Array.isArray(d)?EP(d,T=>T.test(c)):TP(d,T=>T.test(c));let p;p=r.valueCallback?r.valueCallback(g):g,p=t.valueCallback?t.valueCallback(p):p;const b=e.slice(c.length);return{value:p,rest:b}}}function TP(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function EP(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function wP(r){return(e,t={})=>{const i=e.match(r.matchPattern);if(!i)return null;const a=i[0],l=e.match(r.parsePattern);if(!l)return null;let c=r.valueCallback?r.valueCallback(l[0]):l[0];c=t.valueCallback?t.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}const SP=/^(\d+)(th|st|nd|rd)?/i,AP=/\d+/i,IP={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},xP={any:[/^b/i,/^(a|c)/i]},RP={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},CP={any:[/1/i,/2/i,/3/i,/4/i]},NP={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},DP={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},OP={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},VP={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},MP={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},kP={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PP={ordinalNumber:wP({matchPattern:SP,parsePattern:AP,valueCallback:r=>parseInt(r,10)}),era:Qu({matchPatterns:IP,defaultMatchWidth:"wide",parsePatterns:xP,defaultParseWidth:"any"}),quarter:Qu({matchPatterns:RP,defaultMatchWidth:"wide",parsePatterns:CP,defaultParseWidth:"any",valueCallback:r=>r+1}),month:Qu({matchPatterns:NP,defaultMatchWidth:"wide",parsePatterns:DP,defaultParseWidth:"any"}),day:Qu({matchPatterns:OP,defaultMatchWidth:"wide",parsePatterns:VP,defaultParseWidth:"any"}),dayPeriod:Qu({matchPatterns:MP,defaultMatchWidth:"any",parsePatterns:kP,defaultParseWidth:"any"})},LP={code:"en-US",formatDistance:aP,formatLong:cP,formatRelative:fP,localize:bP,match:PP,options:{weekStartsOn:0,firstWeekContainsDate:1}};function UP(r,e){const t=jn(r,e?.in);return _I(t,rP(t))+1}function jP(r,e){const t=jn(r,e?.in),i=+Td(t)-+tP(t);return Math.round(i/dI)+1}function vI(r,e){const t=jn(r,e?.in),i=t.getFullYear(),a=Qd(),l=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,c=Or(e?.in||r,0);c.setFullYear(i+1,0,l),c.setHours(0,0,0,0);const d=Rc(c,e),g=Or(e?.in||r,0);g.setFullYear(i,0,l),g.setHours(0,0,0,0);const p=Rc(g,e);return+t>=+d?i+1:+t>=+p?i:i-1}function zP(r,e){const t=Qd(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??t.firstWeekContainsDate??t.locale?.options?.firstWeekContainsDate??1,a=vI(r,e),l=Or(e?.in||r,0);return l.setFullYear(a,0,i),l.setHours(0,0,0,0),Rc(l,e)}function BP(r,e){const t=jn(r,e?.in),i=+Rc(t,e)-+zP(t,e);return Math.round(i/dI)+1}function nt(r,e){const t=r<0?"-":"",i=Math.abs(r).toString().padStart(e,"0");return t+i}const bs={y(r,e){const t=r.getFullYear(),i=t>0?t:1-t;return nt(e==="yy"?i%100:i,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):nt(t+1,2)},d(r,e){return nt(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return nt(r.getHours()%12||12,e.length)},H(r,e){return nt(r.getHours(),e.length)},m(r,e){return nt(r.getMinutes(),e.length)},s(r,e){return nt(r.getSeconds(),e.length)},S(r,e){const t=e.length,i=r.getMilliseconds(),a=Math.trunc(i*Math.pow(10,t-3));return nt(a,e.length)}},Yo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},uw={G:function(r,e,t){const i=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(i,{width:"abbreviated"});case"GGGGG":return t.era(i,{width:"narrow"});case"GGGG":default:return t.era(i,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const i=r.getFullYear(),a=i>0?i:1-i;return t.ordinalNumber(a,{unit:"year"})}return bs.y(r,e)},Y:function(r,e,t,i){const a=vI(r,i),l=a>0?a:1-a;if(e==="YY"){const c=l%100;return nt(c,2)}return e==="Yo"?t.ordinalNumber(l,{unit:"year"}):nt(l,e.length)},R:function(r,e){const t=pI(r);return nt(t,e.length)},u:function(r,e){const t=r.getFullYear();return nt(t,e.length)},Q:function(r,e,t){const i=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(i);case"QQ":return nt(i,2);case"Qo":return t.ordinalNumber(i,{unit:"quarter"});case"QQQ":return t.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(i,{width:"wide",context:"formatting"})}},q:function(r,e,t){const i=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(i);case"qq":return nt(i,2);case"qo":return t.ordinalNumber(i,{unit:"quarter"});case"qqq":return t.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(i,{width:"wide",context:"standalone"})}},M:function(r,e,t){const i=r.getMonth();switch(e){case"M":case"MM":return bs.M(r,e);case"Mo":return t.ordinalNumber(i+1,{unit:"month"});case"MMM":return t.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(i,{width:"wide",context:"formatting"})}},L:function(r,e,t){const i=r.getMonth();switch(e){case"L":return String(i+1);case"LL":return nt(i+1,2);case"Lo":return t.ordinalNumber(i+1,{unit:"month"});case"LLL":return t.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(i,{width:"wide",context:"standalone"})}},w:function(r,e,t,i){const a=BP(r,i);return e==="wo"?t.ordinalNumber(a,{unit:"week"}):nt(a,e.length)},I:function(r,e,t){const i=jP(r);return e==="Io"?t.ordinalNumber(i,{unit:"week"}):nt(i,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):bs.d(r,e)},D:function(r,e,t){const i=UP(r);return e==="Do"?t.ordinalNumber(i,{unit:"dayOfYear"}):nt(i,e.length)},E:function(r,e,t){const i=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(i,{width:"short",context:"formatting"});case"EEEE":default:return t.day(i,{width:"wide",context:"formatting"})}},e:function(r,e,t,i){const a=r.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"e":return String(l);case"ee":return nt(l,2);case"eo":return t.ordinalNumber(l,{unit:"day"});case"eee":return t.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(a,{width:"short",context:"formatting"});case"eeee":default:return t.day(a,{width:"wide",context:"formatting"})}},c:function(r,e,t,i){const a=r.getDay(),l=(a-i.weekStartsOn+8)%7||7;switch(e){case"c":return String(l);case"cc":return nt(l,e.length);case"co":return t.ordinalNumber(l,{unit:"day"});case"ccc":return t.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(a,{width:"narrow",context:"standalone"});case"cccccc":return t.day(a,{width:"short",context:"standalone"});case"cccc":default:return t.day(a,{width:"wide",context:"standalone"})}},i:function(r,e,t){const i=r.getDay(),a=i===0?7:i;switch(e){case"i":return String(a);case"ii":return nt(a,e.length);case"io":return t.ordinalNumber(a,{unit:"day"});case"iii":return t.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(i,{width:"short",context:"formatting"});case"iiii":default:return t.day(i,{width:"wide",context:"formatting"})}},a:function(r,e,t){const a=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(r,e,t){const i=r.getHours();let a;switch(i===12?a=Yo.noon:i===0?a=Yo.midnight:a=i/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(r,e,t){const i=r.getHours();let a;switch(i>=17?a=Yo.evening:i>=12?a=Yo.afternoon:i>=4?a=Yo.morning:a=Yo.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let i=r.getHours()%12;return i===0&&(i=12),t.ordinalNumber(i,{unit:"hour"})}return bs.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):bs.H(r,e)},K:function(r,e,t){const i=r.getHours()%12;return e==="Ko"?t.ordinalNumber(i,{unit:"hour"}):nt(i,e.length)},k:function(r,e,t){let i=r.getHours();return i===0&&(i=24),e==="ko"?t.ordinalNumber(i,{unit:"hour"}):nt(i,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):bs.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):bs.s(r,e)},S:function(r,e){return bs.S(r,e)},X:function(r,e,t){const i=r.getTimezoneOffset();if(i===0)return"Z";switch(e){case"X":return hw(i);case"XXXX":case"XX":return Ta(i);case"XXXXX":case"XXX":default:return Ta(i,":")}},x:function(r,e,t){const i=r.getTimezoneOffset();switch(e){case"x":return hw(i);case"xxxx":case"xx":return Ta(i);case"xxxxx":case"xxx":default:return Ta(i,":")}},O:function(r,e,t){const i=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+cw(i,":");case"OOOO":default:return"GMT"+Ta(i,":")}},z:function(r,e,t){const i=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+cw(i,":");case"zzzz":default:return"GMT"+Ta(i,":")}},t:function(r,e,t){const i=Math.trunc(+r/1e3);return nt(i,e.length)},T:function(r,e,t){return nt(+r,e.length)}};function cw(r,e=""){const t=r>0?"-":"+",i=Math.abs(r),a=Math.trunc(i/60),l=i%60;return l===0?t+String(a):t+String(a)+e+nt(l,2)}function hw(r,e){return r%60===0?(r>0?"-":"+")+nt(Math.abs(r)/60,2):Ta(r,e)}function Ta(r,e=""){const t=r>0?"-":"+",i=Math.abs(r),a=nt(Math.trunc(i/60),2),l=nt(i%60,2);return t+a+e+l}const fw=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},bI=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},FP=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],i=t[1],a=t[2];if(!a)return fw(r,e);let l;switch(i){case"P":l=e.dateTime({width:"short"});break;case"PP":l=e.dateTime({width:"medium"});break;case"PPP":l=e.dateTime({width:"long"});break;case"PPPP":default:l=e.dateTime({width:"full"});break}return l.replace("{{date}}",fw(i,e)).replace("{{time}}",bI(a,e))},qP={p:bI,P:FP},HP=/^D+$/,GP=/^Y+$/,KP=["D","DD","YY","YYYY"];function YP(r){return HP.test(r)}function QP(r){return GP.test(r)}function $P(r,e,t){const i=XP(r,e,t);if(console.warn(i),KP.includes(r))throw new RangeError(i)}function XP(r,e,t){const i=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${i} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const WP=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,JP=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,ZP=/^'([^]*?)'?$/,e3=/''/g,t3=/[a-zA-Z]/;function n3(r,e,t){const i=Qd(),a=i.locale??LP,l=i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,c=i.weekStartsOn??i.locale?.options?.weekStartsOn??0,d=jn(r,t?.in);if(!iP(d))throw new RangeError("Invalid time value");let g=e.match(JP).map(b=>{const T=b[0];if(T==="p"||T==="P"){const I=qP[T];return I(b,a.formatLong)}return b}).join("").match(WP).map(b=>{if(b==="''")return{isToken:!1,value:"'"};const T=b[0];if(T==="'")return{isToken:!1,value:i3(b)};if(uw[T])return{isToken:!0,value:b};if(T.match(t3))throw new RangeError("Format string contains an unescaped latin alphabet character `"+T+"`");return{isToken:!1,value:b}});a.localize.preprocessor&&(g=a.localize.preprocessor(d,g));const p={firstWeekContainsDate:l,weekStartsOn:c,locale:a};return g.map(b=>{if(!b.isToken)return b.value;const T=b.value;(QP(T)||YP(T))&&$P(T,e,String(r));const I=uw[T[0]];return I(d,T,a.localize,p)}).join("")}function i3(r){const e=r.match(ZP);return e?e[1].replace(e3,"'"):r}function ka(r,e){const t=()=>Or(e?.in,NaN),a=o3(r);let l;if(a.date){const p=l3(a.date,2);l=u3(p.restDateString,p.year)}if(!l||isNaN(+l))return t();const c=+l;let d=0,g;if(a.time&&(d=c3(a.time),isNaN(d)))return t();if(a.timezone){if(g=h3(a.timezone),isNaN(g))return t()}else{const p=new Date(c+d),b=jn(0,e?.in);return b.setFullYear(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate()),b.setHours(p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),b}return jn(c+d+g,e?.in)}const xf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},r3=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,s3=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,a3=/^([+-])(\d{2})(?::?(\d{2}))?$/;function o3(r){const e={},t=r.split(xf.dateTimeDelimiter);let i;if(t.length>2)return e;if(/:/.test(t[0])?i=t[0]:(e.date=t[0],i=t[1],xf.timeZoneDelimiter.test(e.date)&&(e.date=r.split(xf.timeZoneDelimiter)[0],i=r.substr(e.date.length,r.length))),i){const a=xf.timezone.exec(i);a?(e.time=i.replace(a[1],""),e.timezone=a[1]):e.time=i}return e}function l3(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),i=r.match(t);if(!i)return{year:NaN,restDateString:""};const a=i[1]?parseInt(i[1]):null,l=i[2]?parseInt(i[2]):null;return{year:l===null?a:l*100,restDateString:r.slice((i[1]||i[2]).length)}}function u3(r,e){if(e===null)return new Date(NaN);const t=r.match(r3);if(!t)return new Date(NaN);const i=!!t[4],a=$u(t[1]),l=$u(t[2])-1,c=$u(t[3]),d=$u(t[4]),g=$u(t[5])-1;if(i)return p3(e,d,g)?f3(e,d,g):new Date(NaN);{const p=new Date(0);return!m3(e,l,c)||!g3(e,a)?new Date(NaN):(p.setUTCFullYear(e,l,Math.max(a,c)),p)}}function $u(r){return r?parseInt(r):1}function c3(r){const e=r.match(s3);if(!e)return NaN;const t=Tp(e[1]),i=Tp(e[2]),a=Tp(e[3]);return y3(t,i,a)?t*gI+i*mI+a*1e3:NaN}function Tp(r){return r&&parseFloat(r.replace(",","."))||0}function h3(r){if(r==="Z")return 0;const e=r.match(a3);if(!e)return 0;const t=e[1]==="+"?-1:1,i=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return _3(i,a)?t*(i*gI+a*mI):NaN}function f3(r,e,t){const i=new Date(0);i.setUTCFullYear(r,0,4);const a=i.getUTCDay()||7,l=(e-1)*7+t+1-a;return i.setUTCDate(i.getUTCDate()+l),i}const d3=[31,null,31,30,31,30,31,31,30,31,30,31];function TI(r){return r%400===0||r%4===0&&r%100!==0}function m3(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(d3[e]||(TI(r)?29:28))}function g3(r,e){return e>=1&&e<=(TI(r)?366:365)}function p3(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function y3(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function _3(r,e){return e>=0&&e<=59}const v3={INR:"",USD:"$",EUR:"",GBP:"",AUD:"A$",CAD:"C$"};function EI(r,e="INR"){const t=v3[e]||e;return e==="INR"?`${t} ${r.toLocaleString("en-IN",{minimumFractionDigits:2,maximumFractionDigits:2})}`:`${t} ${r.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})}`}function b3({subscription:r,onDelete:e,onPause:t,onResume:i,onMarkAsPaid:a}){const[l,c]=Me.useState(!1),[d,g]=Me.useState(!1),[p,b]=Me.useState(r.amount.toString()),[T,I]=Me.useState(new Date().toISOString().split("T")[0]),j=ka(r.nextDate),Q=Ma(j,new Date),ee=bd[r.category]||bd.other,te=r.status?fI[r.status]:null,ce=()=>r.status==="paused"?"bg-gray-100 border-gray-200":r.status==="trial"?"bg-blue-100 border-blue-200":r.status==="cancelled"||Q<=0?"bg-red-100 border-red-200":Q<=7?"bg-amber-100 border-amber-200":"bg-green-50 border-green-200",fe=()=>r.status==="paused"?"Paused":r.status==="trial"?"Trial":r.status==="cancelled"?"Cancelled":Q<=0?"Overdue":Q===1?"Tomorrow":Q<=7?`In ${Q} days`:`In ${Q} days`;return w.jsxs("div",{className:ay("bg-white rounded-xl border p-4 shadow-sm hover:shadow-md transition-shadow",ce()),children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{className:"space-y-2",children:[w.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[w.jsx("span",{className:"text-xl",children:ee.icon}),w.jsx("h3",{className:"font-semibold text-slate-900",children:r.name}),w.jsx("span",{className:"px-2 py-1 text-xs rounded-full bg-slate-100 text-slate-700",children:r.cycle}),te&&w.jsx("span",{className:ay("px-2 py-1 text-xs rounded-full",te.color,te.textColor),children:te.label})]}),w.jsx("p",{className:"text-xs text-slate-500",children:ee.label}),w.jsx("div",{className:"text-2xl font-bold text-indigo-600",children:EI(r.amount,r.currency||"INR")}),w.jsxs("div",{className:"flex items-center gap-1 text-sm",children:[w.jsx("span",{className:"text-slate-500",children:"Next:"}),w.jsx("span",{className:"font-medium",children:n3(j,"dd MMM yyyy")}),w.jsxs("span",{className:"text-slate-500",children:["(",fe(),")"]})]})]}),w.jsx("button",{onClick:()=>g(!0),className:"p-2 text-slate-400 hover:text-red-500 transition-colors","aria-label":"Delete subscription",children:w.jsx("svg",{className:"h-5 w-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),w.jsxs("div",{className:"flex gap-2 mt-4 pt-4 border-t border-slate-200",children:[r.status==="active"&&w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>c(!0),className:"flex-1 px-3 py-2 text-sm bg-green-100 text-green-700 rounded-lg hover:bg-green-200 transition-colors font-medium",children:" Mark as Paid"}),t&&w.jsx("button",{onClick:()=>t(r.id),className:"flex-1 px-3 py-2 text-sm bg-amber-100 text-amber-700 rounded-lg hover:bg-amber-200 transition-colors font-medium",children:" Pause"})]}),r.status==="paused"&&i&&w.jsx("button",{onClick:()=>i(r.id),className:"flex-1 px-3 py-2 text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 transition-colors font-medium",children:" Resume"})]}),l&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:w.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full mx-4",children:[w.jsxs("h2",{className:"text-lg font-semibold mb-4",children:[r.name," - Mark as Paid"]}),w.jsxs("div",{className:"space-y-4 mb-6",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Amount"}),w.jsx("input",{type:"number",value:p,onChange:ae=>b(ae.target.value),step:"0.01",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Payment Date"}),w.jsx("input",{type:"date",value:T,onChange:ae=>I(ae.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500"})]}),w.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-3 text-sm text-green-800",children:" Next billing date will be auto-updated based on billing cycle"})]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>{a&&a({...r,amount:parseFloat(p),lastPaidDate:T}),c(!1)},className:"flex-1 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 font-medium",children:"Confirm Payment"}),w.jsx("button",{onClick:()=>c(!1),className:"flex-1 px-4 py-2 bg-slate-200 text-slate-900 rounded-lg hover:bg-slate-300 font-medium",children:"Cancel"})]})]})}),d&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-40",children:w.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 max-w-sm w-full mx-4",children:[w.jsx("h2",{className:"text-lg font-semibold mb-2 text-red-600",children:"Delete Subscription?"}),w.jsxs("p",{className:"text-slate-600 mb-6",children:["Are you sure you want to delete ",w.jsx("strong",{children:r.name}),"? This action cannot be undone."]}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>{e(r.id),g(!1)},className:"flex-1 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 font-medium",children:" Confirm Delete"}),w.jsx("button",{onClick:()=>g(!1),className:"flex-1 px-4 py-2 bg-slate-200 text-slate-900 rounded-lg hover:bg-slate-300 font-medium",children:" Cancel"})]})]})})]})}function T3({subscriptions:r}){const e=r.reduce((a,l)=>l.cycle==="monthly"?a+l.amount:l.cycle==="quarterly"?a+l.amount/3:l.cycle==="yearly"?a+l.amount/12:a,0),t=r.filter(a=>Ma(ka(a.nextDate),new Date)<=7&&Ma(ka(a.nextDate),new Date)>=0).length,i=r.filter(a=>Ma(ka(a.nextDate),new Date)<0).length;return w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[w.jsx("div",{className:"text-sm font-medium text-slate-500 mb-1",children:"Monthly Estimate"}),w.jsx("div",{className:"text-3xl font-bold text-indigo-600",children:EI(e,"INR")}),w.jsxs("div",{className:"text-xs text-slate-400 mt-1",children:[r.length," active"]})]}),w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[w.jsx("div",{className:"text-sm font-medium text-slate-500 mb-1",children:"Upcoming (7 days)"}),w.jsx("div",{className:"text-3xl font-bold text-amber-600",children:t})]}),w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6",children:[w.jsx("div",{className:"text-sm font-medium text-slate-500 mb-1",children:"Overdue"}),w.jsx("div",{className:"text-3xl font-bold text-red-600",children:i})]})]})}function E3({subscriptions:r}){const e=()=>{const t=["Name","Amount","Currency","Cycle","Next Date","Status","Category"],i=r.map(g=>[g.name,g.amount,g.currency,g.cycle,g.nextDate,g.status,g.category]),a=[t.join(","),...i.map(g=>g.join(","))].join(`
`),l=new Blob([a],{type:"text/csv"}),c=URL.createObjectURL(l),d=document.createElement("a");d.href=c,d.download=`subscriptions-${new Date().toISOString().split("T")[0]}.csv`,d.click(),URL.revokeObjectURL(c)};return w.jsx("div",{className:"flex gap-2",children:w.jsx("button",{onClick:e,className:"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 text-sm",children:" Export CSV"})})}function w3({onQuickAdd:r}){const[e,t]=Me.useState(!1),[i,a]=Me.useState(""),[l,c]=Me.useState(""),d=g=>{g.preventDefault(),!(!i||!l)&&(r(i,parseFloat(l)),a(""),c(""),t(!1))};return w.jsxs(w.Fragment,{children:[w.jsx("button",{onClick:()=>t(!0),className:"fixed bottom-6 right-6 w-14 h-14 bg-indigo-600 text-white rounded-full shadow-lg hover:bg-indigo-700 text-2xl z-50",children:"+"}),e&&w.jsx("div",{className:"fixed inset-0 z-50 flex items-end md:items-center justify-center bg-black bg-opacity-40",children:w.jsxs("div",{className:"bg-white rounded-t-2xl md:rounded-lg shadow-lg p-6 w-full md:max-w-md",children:[w.jsxs("div",{className:"flex justify-between items-center mb-4",children:[w.jsx("h2",{className:"text-lg font-semibold",children:"Quick Add"}),w.jsx("button",{onClick:()=>t(!1),className:"text-slate-400 hover:text-slate-600 text-2xl",children:""})]}),w.jsxs("form",{onSubmit:d,className:"space-y-4",children:[w.jsx("input",{type:"text",placeholder:"Netflix",value:i,onChange:g=>a(g.target.value),className:"w-full px-4 py-3 border border-slate-300 rounded-lg text-lg",autoFocus:!0}),w.jsx("input",{type:"number",placeholder:"599",value:l,onChange:g=>c(g.target.value),step:"0.01",className:"w-full px-4 py-3 border border-slate-300 rounded-lg text-lg"}),w.jsx("button",{type:"submit",className:"w-full px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 font-semibold text-lg",children:"Add Quick "}),w.jsx("p",{className:"text-xs text-slate-500 text-center",children:"Full details can be added later"})]})]})})]})}function S3({onFilterChange:r}){const[e,t]=Me.useState(""),[i,a]=Me.useState("all"),[l,c]=Me.useState("all"),d=b=>{t(b),r({search:b,category:i,status:l})},g=b=>{a(b),r({search:e,category:b,status:l})},p=b=>{c(b),r({search:e,category:i,status:b})};return w.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-lg shadow-sm border border-slate-200 dark:border-slate-700 p-4 mb-4",children:w.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Search"}),w.jsx("input",{type:"text",placeholder:"Search subscriptions...",value:e,onChange:b=>d(b.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white placeholder-slate-400 dark:placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Category"}),w.jsxs("select",{value:i,onChange:b=>g(b.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[w.jsx("option",{value:"all",children:"All Categories"}),Object.entries(bd).map(([b,T])=>w.jsxs("option",{value:b,children:[T.icon," ",T.label]},b))]})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-slate-700 dark:text-slate-300 mb-2",children:"Status"}),w.jsxs("select",{value:l,onChange:b=>p(b.target.value),className:"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 rounded-lg bg-white dark:bg-slate-700 text-slate-900 dark:text-white focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[w.jsx("option",{value:"all",children:"All Statuses"}),Object.entries(fI).map(([b,T])=>w.jsxs("option",{value:b,children:[T.icon," ",T.label]},b))]})]})]})})}function A3(r,e){const[t,i]=Me.useState(()=>{if(typeof window>"u")return e;try{const l=window.localStorage.getItem(r);return l?JSON.parse(l):e}catch(l){return console.error(l),e}});return[t,l=>{try{const c=l instanceof Function?l(t):l;i(c),typeof window<"u"&&window.localStorage.setItem(r,JSON.stringify(c))}catch(c){console.error(c)}}]}function I3(){const[r,e]=A3("notificationsEnabled",!1),[t,i]=Me.useState("default");Me.useEffect(()=>{"Notification"in window&&i(Notification.permission)},[]);const a=async()=>{if(!("Notification"in window)){alert("Notifications are not supported by your browser");return}if(t==="granted")e(!1);else{const l=await Notification.requestPermission();i(l),l==="granted"&&e(!0)}};return w.jsx("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-3 md:p-6 w-full max-w-xs md:max-w-md",children:w.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between gap-2",children:[w.jsxs("div",{className:"flex flex-col text-left",children:[w.jsx("span",{className:"text-sm font-medium text-slate-700",children:"Notifications"}),w.jsx("span",{className:"text-xs text-slate-500",children:"Reminders for subscriptions"})]}),w.jsx("button",{onClick:a,className:`relative inline-flex h-8 w-14 items-center rounded-full transition-colors duration-200 ease-in-out ${r?"bg-indigo-600":"bg-slate-300"}`,"aria-label":r?"Disable notifications":"Enable notifications",children:w.jsx("span",{className:`inline-block h-6 w-6 transform rounded-full bg-white transition-transform duration-200 ease-in-out ${r?"translate-x-7":"translate-x-1"}`})})]})})}function x3({user:r,onLogout:e,onSignupClick:t,isOnline:i=!0,pendingSync:a=!1}){return w.jsx("header",{className:"mb-8 bg-white rounded-2xl shadow-sm border border-slate-200 px-6 py-5",children:w.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between gap-6",children:[w.jsxs("div",{className:"flex items-center gap-4",children:[w.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-xl flex items-center justify-center shadow-lg",children:w.jsx("svg",{className:"w-7 h-7 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),w.jsxs("div",{children:[w.jsx("h1",{className:"text-2xl lg:text-3xl font-bold text-slate-900 leading-tight",children:"Subscription Tracker"}),w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("p",{className:"text-sm text-slate-500 mt-0.5",children:"Manage all your subscriptions in one place"}),!i&&w.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-amber-100 text-amber-800 text-xs font-medium rounded-full",children:[w.jsx("svg",{className:"w-3 h-3",fill:"currentColor",viewBox:"0 0 20 20",children:w.jsx("path",{fillRule:"evenodd",d:"M13.477 14.89A6 6 0 015.11 6.524l8.367 8.368zm1.414-1.414L6.524 5.11a6 6 0 018.367 8.367zM18 10a8 8 0 11-16 0 8 8 0 0116 0z",clipRule:"evenodd"})}),"Offline"]}),a&&w.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-blue-100 text-blue-800 text-xs font-medium rounded-full animate-pulse",children:[w.jsxs("svg",{className:"w-3 h-3 animate-spin",fill:"none",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Syncing..."]})]})]})]}),w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsx(I3,{}),r?w.jsxs("div",{className:"flex items-center gap-3",children:[w.jsxs("div",{className:"hidden sm:flex items-center gap-3 px-4 py-2 bg-slate-50 rounded-lg border border-slate-200",children:[w.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-indigo-500 to-purple-500 rounded-full flex items-center justify-center text-white font-semibold text-sm",children:r.email?.[0]?.toUpperCase()||"U"}),w.jsxs("div",{className:"text-sm",children:[w.jsx("p",{className:"font-medium text-slate-900 leading-tight",children:r.displayName||"User"}),w.jsx("p",{className:"text-xs text-slate-500 truncate max-w-32",children:r.email})]})]}),w.jsxs("button",{onClick:e,className:"px-4 py-2.5 bg-slate-100 hover:bg-red-50 text-slate-700 hover:text-red-600 rounded-lg text-sm font-medium transition-all duration-200 border border-slate-200 hover:border-red-300",children:[w.jsx("span",{className:"hidden sm:inline",children:"Logout"}),w.jsx("svg",{className:"w-5 h-5 sm:hidden",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"})})]})]}):w.jsx("div",{className:"flex items-center gap-3",children:w.jsxs("button",{onClick:t,className:"group relative px-6 py-2.5 bg-gradient-to-r from-indigo-600 to-purple-600 text-white rounded-lg font-semibold text-sm shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200 overflow-hidden",children:[w.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[w.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 16l-4-4m0 0l4-4m-4 4h14m-5 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h7a3 3 0 013 3v1"})}),"Sign In"]}),w.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-purple-600 to-indigo-600 opacity-0 group-hover:opacity-100 transition-opacity duration-200"})]})})]})]})})}function R3(){return w.jsxs("footer",{className:"mt-12 border-t border-slate-200 pt-6 text-center text-xs text-slate-500",children:[w.jsxs("div",{children:[" ",new Date().getFullYear()," Subscription Tracker. All rights reserved."]}),w.jsxs("div",{className:"mt-2",children:[w.jsx("a",{href:"/privacy-policy.html",className:"hover:underline mr-4",target:"_blank",rel:"noopener noreferrer",children:"Privacy Policy"}),w.jsx("a",{href:"/terms-and-conditions.html",className:"hover:underline",target:"_blank",rel:"noopener noreferrer",children:"Terms & Conditions"})]})]})}function C3({onEnable:r,onDismiss:e}){return w.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:[w.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm",onClick:e}),w.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 animate-in zoom-in-95 duration-200",children:[w.jsx("div",{className:"flex justify-center mb-6",children:w.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-green-400 to-green-600 rounded-full flex items-center justify-center shadow-lg",children:w.jsx("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})})}),w.jsxs("div",{className:"text-center mb-6",children:[w.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2",children:"Subscription Added! "}),w.jsx("p",{className:"text-slate-600 mb-4",children:"Enable notifications to get payment reminders before each billing date."}),w.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6 text-left",children:w.jsxs("div",{className:"flex gap-3",children:[w.jsx("svg",{className:"w-5 h-5 text-blue-600 shrink-0 mt-0.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),w.jsxs("div",{className:"text-sm",children:[w.jsx("p",{className:"font-semibold text-blue-900 mb-1",children:"Never Miss a Payment"}),w.jsx("p",{className:"text-blue-700",children:"Get notified 1 day before and on the day of your subscription billing dates."})]})]})})]}),w.jsxs("div",{className:"flex gap-3",children:[w.jsx("button",{onClick:e,className:"flex-1 px-4 py-3 rounded-lg font-medium text-slate-700 bg-slate-100 hover:bg-slate-200 transition-colors",children:"Maybe Later"}),w.jsxs("button",{onClick:r,className:"flex-1 px-4 py-3 rounded-lg font-medium text-white bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 transition-all duration-200 shadow-lg flex items-center justify-center gap-2",children:[w.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 17h5l-1.405-1.405A2.032 2.032 0 0118 14.158V11a6.002 6.002 0 00-4-5.659V5a2 2 0 10-4 0v.341C7.67 6.165 6 8.388 6 11v3.159c0 .538-.214 1.055-.595 1.436L4 17h5m6 0v1a3 3 0 11-6 0v-1m6 0H9"})}),"Enable Notifications"]})]}),w.jsx("p",{className:"text-xs text-slate-500 text-center mt-4",children:"You can enable/disable notifications anytime in settings"})]})]})}function N3({onSignupClick:r}){const e=[{icon:"",title:"Multi-currency Support",desc:"Track subscriptions in INR, USD, EUR, GBP, AUD, CAD"},{icon:"",title:"Smart Reminders",desc:"Never miss a payment with automatic notifications"},{icon:"",title:"Easy Export",desc:"CSV and JSON export for budgeting & taxes"},{icon:"",title:"Category Tracking",desc:"Organize subscriptions by category & track spending"},{icon:"",title:"Trial Monitoring",desc:"Track trial periods with countdown timers"},{icon:"",title:"Secure & Private",desc:"Google authentication, zero data selling"},{icon:"",title:"Real-time Sync",desc:"Seamless sync across all your devices"},{icon:"",title:"Offline Access",desc:"Access your data even without internet"}];return w.jsxs("div",{className:"flex-1 flex flex-col",children:[w.jsx("section",{className:"py-12 md:py-20 px-4 text-center",children:w.jsxs("div",{className:"max-w-3xl mx-auto",children:[w.jsx("div",{className:"inline-block mb-4",children:w.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg",children:w.jsx("svg",{className:"w-11 h-11 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),w.jsx("h1",{className:"text-4xl md:text-5xl font-bold text-slate-900 mb-6",children:"Never Miss a Payment Again"}),w.jsx("p",{className:"text-lg md:text-xl text-slate-600 mb-8 leading-relaxed",children:"Manage all your subscriptions, bills, and recurring payments in one secure place. Track, organize, and save money effortlessly."}),w.jsx("button",{onClick:r,className:"inline-block px-8 py-4 bg-indigo-600 text-white font-semibold rounded-xl hover:bg-indigo-700 transition-colors shadow-lg hover:shadow-xl",children:"Get Started Free"}),w.jsx("p",{className:"text-sm text-slate-500 mt-4",children:"No credit card required  Takes 30 seconds"})]})}),w.jsx("section",{className:"py-12 md:py-16 px-4 bg-slate-50",children:w.jsxs("div",{className:"max-w-3xl mx-auto",children:[w.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-6 text-center",children:"Why Use Subscription Tracker?"}),w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-8 space-y-4",children:[w.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Managing multiple subscriptions and recurring payments can be overwhelming. With the rise of streaming services like Netflix, Spotify, and Amazon Prime, as well as SaaS tools and utility bills, it's easy to lose track of what you're paying for each month."}),w.jsxs("p",{className:"text-slate-700 leading-relaxed",children:[w.jsx("strong",{children:"Subscription Tracker"})," is a free, easy-to-use app designed to help you organize, monitor, and optimize all your subscriptions in one place."]}),w.jsx("p",{className:"text-slate-700 leading-relaxed",children:"Track bills in multiple currencies, set up automatic payment reminders, and export your data for budgeting or tax purposes. Whether you're managing personal expenses or business SaaS subscriptions, Subscription Tracker ensures you never miss an auto-debit date or pay for services you no longer use."})]})]})}),w.jsx("section",{className:"py-12 md:py-16 px-4",children:w.jsxs("div",{className:"max-w-5xl mx-auto",children:[w.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-12 text-center",children:"Powerful Features"}),w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:e.map((t,i)=>w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-6 hover:shadow-md transition-shadow",children:[w.jsx("div",{className:"text-4xl mb-3",children:t.icon}),w.jsx("h3",{className:"text-lg font-semibold text-slate-900 mb-2",children:t.title}),w.jsx("p",{className:"text-slate-600",children:t.desc})]},i))})]})}),w.jsx("section",{className:"py-12 md:py-16 px-4 bg-gradient-to-r from-indigo-50 to-purple-50",children:w.jsxs("div",{className:"max-w-3xl mx-auto",children:[w.jsx("h2",{className:"text-3xl font-bold text-slate-900 mb-8 text-center",children:"Start Taking Control Today"}),w.jsxs("div",{className:"space-y-4",children:[w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"text-2xl",children:""}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Never Miss a Payment"}),w.jsx("p",{className:"text-slate-600",children:"Get automatic reminders before each payment is due"})]})]}),w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"text-2xl",children:""}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Identify Unused Services"}),w.jsx("p",{className:"text-slate-600",children:"Easily spot subscriptions you forgot about and cancel them"})]})]}),w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"text-2xl",children:""}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Save Money"}),w.jsx("p",{className:"text-slate-600",children:"Track spending by category and find opportunities to save"})]})]}),w.jsxs("div",{className:"flex items-start gap-4",children:[w.jsx("div",{className:"text-2xl",children:""}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-semibold text-slate-900 mb-1",children:"Complete Visibility"}),w.jsx("p",{className:"text-slate-600",children:"See all your recurring expenses at a glance, anytime, anywhere"})]})]})]})]})}),w.jsx("section",{className:"py-12 md:py-16 px-4",children:w.jsxs("div",{className:"max-w-2xl mx-auto text-center bg-white rounded-xl shadow-sm border border-slate-200 p-8",children:[w.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-4",children:"Free Forever. No Hidden Fees."}),w.jsxs("p",{className:"text-slate-600 mb-8",children:[w.jsx("strong",{children:"Subscription Tracker"})," is your all-in-one solution for subscription management, bill tracking, and payment reminders. Start tracking your subscriptions today and take control of your finances."]}),w.jsx("button",{onClick:r,className:"inline-block px-8 py-3 bg-indigo-600 text-white font-semibold rounded-lg hover:bg-indigo-700 transition-colors",children:"Start Tracking Now "}),w.jsxs("p",{className:"text-xs text-slate-500 mt-4",children:["References: ",w.jsx("a",{href:"https://en.wikipedia.org/wiki/Subscription_business_model",target:"_blank",rel:"noopener nofollow",className:"text-indigo-600 hover:underline",children:"Subscription Business Model (Wikipedia)"})]})]})})]})}function D3({onClose:r}){const[e,t]=Me.useState(!1),i=async()=>{t(!0);try{const a=new wr;await SD(ry,a),r()}catch(a){console.error("Sign in error:",a)}finally{t(!1)}};return w.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 animate-in fade-in duration-200",children:[w.jsx("div",{className:"absolute inset-0 bg-black/30 backdrop-blur-sm",onClick:r}),w.jsxs("div",{className:"relative bg-white rounded-2xl shadow-2xl w-full max-w-md p-8 animate-in zoom-in-95 duration-200",children:[w.jsx("button",{onClick:r,className:"absolute top-4 right-4 w-8 h-8 flex items-center justify-center rounded-full hover:bg-slate-100 transition-colors text-slate-400 hover:text-slate-600",children:w.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),w.jsxs("div",{className:"flex flex-col items-center mb-8",children:[w.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-indigo-600 to-purple-600 rounded-2xl flex items-center justify-center shadow-lg mb-4",children:w.jsx("svg",{className:"w-9 h-9 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:w.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),w.jsx("h2",{className:"text-2xl font-bold text-slate-900 mb-2 text-center",children:"Welcome Back"}),w.jsx("p",{className:"text-slate-600 text-center mb-1",children:"Sign in to manage your subscriptions"}),w.jsx("p",{className:"text-sm text-slate-500 text-center max-w-sm",children:"Track all your recurring payments in one secure place. Free and always private."})]}),w.jsxs("button",{onClick:i,disabled:e,className:"w-full flex items-center justify-center gap-3 py-3.5 px-6 rounded-xl bg-white hover:bg-slate-50 text-slate-700 font-semibold text-base shadow-md border-2 border-slate-200 hover:border-slate-300 transition-all duration-200 disabled:opacity-60 disabled:cursor-not-allowed mb-6",children:[w.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[w.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),w.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),w.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),w.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),e?w.jsxs("span",{className:"flex items-center gap-2",children:[w.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[w.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),w.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Signing in..."]}):"Continue with Google"]}),w.jsx("div",{className:"text-center",children:w.jsx("p",{className:"text-xs text-slate-400 leading-relaxed",children:"By continuing, you agree to our Terms of Service and Privacy Policy. Your data is encrypted and secure."})})]})]})}function O3(){const[r,e]=Me.useState([]),[t,i]=Me.useState([]),[a,l]=Me.useState("all"),[c,d]=Me.useState({search:"",category:"all",status:"all"}),[g,p]=Me.useState(null),[b,T]=Me.useState(!0),[I,j]=Me.useState(!1),[Q,ee]=Me.useState(!1),[te,ce]=Me.useState(!1),[fe,ae]=Me.useState(navigator.onLine),[Se,Te]=Me.useState(!1);Me.useEffect(()=>{const le=()=>{ae(!0),console.log("App is online"),ve()},ie=()=>{ae(!1),console.log("App is offline")};return window.addEventListener("online",le),window.addEventListener("offline",ie),()=>{window.removeEventListener("online",le),window.removeEventListener("offline",ie)}},[g]);const ve=async()=>{if(!g||!fe)return;const le=localStorage.getItem("pendingSubscriptions");if(le)try{const ie=JSON.parse(le);if(ie.length===0)return;console.log("Syncing pending subscriptions:",ie.length),Te(!0);const L=br(Tr,"subscriptions",g.uid),W=await ys(L),Re=[...W.exists()?W.data().subscriptions||[]:[],...ie];await _s(L,{subscriptions:Re},{merge:!0}),e(Re),localStorage.removeItem("pendingSubscriptions"),console.log("Sync complete!")}catch(ie){console.error("Error syncing pending subscriptions:",ie)}finally{Te(!1)}};Me.useEffect(()=>{const le=iD(ry,async ie=>{if(p(ie),T(!1),ie){j(!1);const L=localStorage.getItem("draftSubscription");if(L)try{const K={...JSON.parse(L),id:crypto.randomUUID()},Re=br(Tr,"subscriptions",ie.uid),Ve=await ys(Re),D=Ve.exists()?[...Ve.data().subscriptions||[],K]:[K];await _s(Re,{subscriptions:D}),localStorage.removeItem("draftSubscription"),console.log("Cached subscription saved successfully!")}catch(W){console.error("Error saving cached subscription:",W)}}});return()=>le()},[]),Me.useEffect(()=>{if(!g){e([]);return}const le=br(Tr,"subscriptions",g.uid),ie=a4(le,L=>{L.exists()?e(L.data().subscriptions||[]):e([])});return()=>ie()},[g]),Me.useEffect(()=>{let le=r;c.search&&(le=le.filter(ie=>ie.name.toLowerCase().includes(c.search.toLowerCase()))),c.category!=="all"&&(le=le.filter(ie=>ie.category===c.category)),c.status!=="all"&&(le=le.filter(ie=>ie.status===c.status)),a==="upcoming"?le=le.filter(ie=>{const L=Ma(ka(ie.nextDate),new Date);return L>=0&&L<=7}):a==="overdue"&&(le=le.filter(ie=>Ma(ka(ie.nextDate),new Date)<0)),i(le)},[r,a,c]),Me.useEffect(()=>{if("Notification"in window&&Notification.permission==="granted"){const le=()=>{r.forEach(L=>{const W=Ma(ka(L.nextDate),new Date);W===1?new Notification("Subscription Reminder",{body:`${L.name} will be billed tomorrow for ${L.amount.toLocaleString()}`,icon:"/logo.png"}):W===0?new Notification("Subscription Due Today",{body:`${L.name} is being billed today for ${L.amount.toLocaleString()}`,icon:"/logo.png"}):W<0&&new Notification("Subscription Overdue",{body:`${L.name} is overdue by ${Math.abs(W)} days (${L.amount.toLocaleString()})`,icon:"/logo.png"})})};le();const ie=setInterval(le,1440*60*1e3);return()=>clearInterval(ie)}},[r]);const x=async()=>{if("Notification"in window){if(Notification.permission==="granted")new Notification("Notifications Enabled! ",{body:"You will now receive payment reminders for your subscriptions.",icon:"/logo.png"}),ce(!1);else if(Notification.permission!=="denied")try{await Notification.requestPermission()==="granted"&&(new Notification("Notifications Enabled! ",{body:"You will now receive payment reminders for your subscriptions.",icon:"/logo.png"}),ce(!1))}catch(le){console.error("Error requesting notification permission:",le)}}else alert("Your browser does not support notifications")},A=async le=>{try{if(!g){localStorage.setItem("draftSubscription",JSON.stringify(le)),j(!0);return}const ie={...le,id:crypto.randomUUID(),createdAt:new Date().toISOString()};if(console.log("Adding subscription:",ie),!navigator.onLine){console.log("Offline: Saving to localStorage for later sync");const Re=localStorage.getItem("pendingSubscriptions"),Ve=Re?JSON.parse(Re):[];Ve.push(ie),localStorage.setItem("pendingSubscriptions",JSON.stringify(Ve));const D=[...r,ie];e(D),localStorage.removeItem("draftSubscription"),console.log("Subscription saved offline; queued for sync.");return}const L=br(Tr,"subscriptions",g.uid),W=await ys(L),K=W.exists()?[...W.data().subscriptions||[],ie]:[ie];await _s(L,{subscriptions:K},{merge:!0}),e(K),localStorage.removeItem("draftSubscription"),console.log("Subscription added successfully"),"Notification"in window&&Notification.permission!=="granted"&&ce(!0)}catch(ie){if(console.error("Error adding subscription:",ie),ie?.message?.includes("offline")||ie?.code==="unavailable"){console.log("Detected offline error, saving to localStorage");const L={...le,id:crypto.randomUUID(),createdAt:new Date().toISOString()},W=localStorage.getItem("pendingSubscriptions"),K=W?JSON.parse(W):[];K.push(L),localStorage.setItem("pendingSubscriptions",JSON.stringify(K));const Re=[...r,L];e(Re),localStorage.removeItem("draftSubscription"),console.log("Offline save: subscription queued for later sync.")}else alert(`Error saving subscription: ${ie instanceof Error?ie.message:"Unknown error"}`)}},R=async le=>{try{if(!g){j(!0);return}const ie={id:crypto.randomUUID(),name:le,amount:0,currency:"INR",cycle:"monthly",nextDate:new Date().toISOString().split("T")[0],category:"other",status:"active",createdAt:new Date().toISOString()},L=br(Tr,"subscriptions",g.uid),W=await ys(L),K=W.exists()?[...W.data().subscriptions||[],ie]:[ie];await _s(L,{subscriptions:K},{merge:!0}),e(K),console.log("Quick added subscription:",ie)}catch(ie){console.error("Error quick adding subscription:",ie),alert(`Error: ${ie instanceof Error?ie.message:"Failed to add subscription"}`)}},M=async le=>{try{if(!g)return;const ie=br(Tr,"subscriptions",g.uid),L=await ys(ie);if(L.exists()){const W=(L.data().subscriptions||[]).filter(K=>K.id!==le);await _s(ie,{subscriptions:W},{merge:!0}),e(W),console.log("Subscription deleted:",le)}}catch(ie){console.error("Error deleting subscription:",ie),alert(`Error: ${ie instanceof Error?ie.message:"Failed to delete subscription"}`)}},O=async le=>{try{if(!g)return;const ie=br(Tr,"subscriptions",g.uid),L=await ys(ie);if(L.exists()){const W=(L.data().subscriptions||[]).map(K=>K.id===le?{...K,status:"paused"}:K);await _s(ie,{subscriptions:W},{merge:!0}),e(W),console.log("Subscription paused:",le)}}catch(ie){console.error("Error pausing subscription:",ie),alert(`Error: ${ie instanceof Error?ie.message:"Failed to pause subscription"}`)}},k=async le=>{try{if(!g)return;const ie=br(Tr,"subscriptions",g.uid),L=await ys(ie);if(L.exists()){const W=(L.data().subscriptions||[]).map(K=>K.id===le?{...K,status:"active"}:K);await _s(ie,{subscriptions:W},{merge:!0}),e(W),console.log("Subscription resumed:",le)}}catch(ie){console.error("Error resuming subscription:",ie),alert(`Error: ${ie instanceof Error?ie.message:"Failed to resume subscription"}`)}},C=async le=>{try{if(!g)return;const{calculateNextBillingDate:ie}=await hR(async()=>{const{calculateNextBillingDate:Ve}=await import("./dateCalculations-DQzh2usI.js");return{calculateNextBillingDate:Ve}},[]),L=ie(le.nextDate,le.cycle),W={...le,lastPaidDate:new Date().toISOString().split("T")[0],nextDate:L},K=br(Tr,"subscriptions",g.uid),Re=await ys(K);if(Re.exists()){const Ve=(Re.data().subscriptions||[]).map(D=>D.id===le.id?W:D);await _s(K,{subscriptions:Ve},{merge:!0}),e(Ve),console.log("Subscription marked as paid:",le.id)}}catch(ie){console.error("Error marking subscription as paid:",ie),alert(`Error: ${ie instanceof Error?ie.message:"Failed to mark as paid"}`)}};return w.jsxs("div",{className:"min-h-screen flex flex-col from-slate-50 via-white to-zinc-100 p-4 md:p-8",children:[I&&w.jsx(D3,{onClose:()=>j(!1)}),te&&w.jsx(C3,{onEnable:x,onDismiss:()=>ce(!1)}),w.jsxs("div",{className:"max-w-6xl mx-auto w-full flex-1 flex flex-col",children:[w.jsx(x3,{user:g,onLogout:async()=>{await rD(ry)},onSignupClick:()=>j(!0),isOnline:fe,pendingSync:Se}),w.jsx("main",{className:"flex-1",children:b?w.jsx("div",{className:"text-center py-12 text-slate-500",children:"Loading..."}):g?w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[w.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[w.jsx(T3,{subscriptions:r}),w.jsx(S3,{onFilterChange:d}),w.jsx("div",{className:"flex justify-end mb-4",children:w.jsx(E3,{subscriptions:r})}),w.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-slate-200 p-4",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("h2",{className:"text-xl font-semibold text-slate-900",children:"My Subscriptions"}),w.jsxs("div",{className:"flex gap-2",children:[w.jsx("button",{onClick:()=>l("all"),className:`cursor-pointer px-3 py-1 rounded-full text-sm font-medium transition-colors ${a==="all"?"bg-indigo-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"All"}),w.jsx("button",{onClick:()=>l("upcoming"),className:`cursor-pointer px-3 py-1 rounded-full text-sm font-medium transition-colors ${a==="upcoming"?"bg-amber-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Upcoming"}),w.jsx("button",{onClick:()=>l("overdue"),className:`cursor-pointer px-3 py-1 rounded-full text-sm font-medium transition-colors ${a==="overdue"?"bg-red-600 text-white":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"Overdue"})]})]}),t.length===0?w.jsxs("div",{className:"text-center py-12 text-slate-500",children:[w.jsx("p",{className:"text-lg",children:"No subscriptions found"}),w.jsx("p",{className:"text-sm mt-2",children:"Add your first subscription to get started"})]}):w.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:t.map(le=>w.jsx(b3,{subscription:le,onDelete:M,onPause:O,onResume:k,onMarkAsPaid:C},le.id))})]})]}),w.jsx("div",{className:"space-y-6",children:w.jsx(J4,{onSubmit:A,user:g})})]}),w.jsx(w3,{onQuickAdd:R})]}):w.jsx(N3,{onSignupClick:()=>j(!0)})}),w.jsx(R3,{})]})]})}lR.createRoot(document.getElementById("root")).render(w.jsx(Me.StrictMode,{children:w.jsx(O3,{})}));export{Or as c,ka as p,jn as t};
